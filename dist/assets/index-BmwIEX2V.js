function N3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hE={exports:{}},dg={},dE={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=Symbol.for("react.element"),D3=Symbol.for("react.portal"),R3=Symbol.for("react.fragment"),I3=Symbol.for("react.strict_mode"),B3=Symbol.for("react.profiler"),_3=Symbol.for("react.provider"),F3=Symbol.for("react.context"),$3=Symbol.for("react.forward_ref"),z3=Symbol.for("react.suspense"),W3=Symbol.for("react.memo"),j3=Symbol.for("react.lazy"),xk=Symbol.iterator;function H3(t){return t===null||typeof t!="object"?null:(t=xk&&t[xk]||t["@@iterator"],typeof t=="function"?t:null)}var pE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gE=Object.assign,mE={};function fu(t,e,r){this.props=t,this.context=e,this.refs=mE,this.updater=r||pE}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vE(){}vE.prototype=fu.prototype;function pw(t,e,r){this.props=t,this.context=e,this.refs=mE,this.updater=r||pE}var gw=pw.prototype=new vE;gw.constructor=pw;gE(gw,fu.prototype);gw.isPureReactComponent=!0;var bk=Array.isArray,yE=Object.prototype.hasOwnProperty,mw={current:null},wE={key:!0,ref:!0,__self:!0,__source:!0};function xE(t,e,r){var n,i={},o=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)yE.call(e,n)&&!wE.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var c=Array(u),p=0;p<u;p++)c[p]=arguments[p+2];i.children=c}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Lf,type:t,key:o,ref:l,props:i,_owner:mw.current}}function U3(t,e){return{$$typeof:Lf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lf}function V3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Sk=/\/+/g;function pv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V3(""+t.key):e.toString(36)}function Pd(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Lf:case D3:l=!0}}if(l)return l=t,i=i(l),t=n===""?"."+pv(l,0):n,bk(i)?(r="",t!=null&&(r=t.replace(Sk,"$&/")+"/"),Pd(i,e,r,"",function(p){return p})):i!=null&&(vw(i)&&(i=U3(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Sk,"$&/")+"/")+t)),e.push(i)),1;if(l=0,n=n===""?".":n+":",bk(t))for(var u=0;u<t.length;u++){o=t[u];var c=n+pv(o,u);l+=Pd(o,e,r,c,i)}else if(c=H3(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=n+pv(o,u++),l+=Pd(o,e,r,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Ih(t,e,r){if(t==null)return t;var n=[],i=0;return Pd(t,n,"","",function(o){return e.call(r,o,i++)}),n}function K3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},Nd={transition:null},q3={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:mw};function bE(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Ih,forEach:function(t,e,r){Ih(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ih(t,function(){e++}),e},toArray:function(t){return Ih(t,function(e){return e})||[]},only:function(t){if(!vw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=fu;Ve.Fragment=R3;Ve.Profiler=B3;Ve.PureComponent=pw;Ve.StrictMode=I3;Ve.Suspense=z3;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q3;Ve.act=bE;Ve.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=gE({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=mw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)yE.call(e,c)&&!wE.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var p=0;p<c;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:Lf,type:t.type,key:i,ref:o,props:n,_owner:l}};Ve.createContext=function(t){return t={$$typeof:F3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_3,_context:t},t.Consumer=t};Ve.createElement=xE;Ve.createFactory=function(t){var e=xE.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:$3,render:t}};Ve.isValidElement=vw;Ve.lazy=function(t){return{$$typeof:j3,_payload:{_status:-1,_result:t},_init:K3}};Ve.memo=function(t,e){return{$$typeof:W3,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=Nd.transition;Nd.transition={};try{t()}finally{Nd.transition=e}};Ve.unstable_act=bE;Ve.useCallback=function(t,e){return Vr.current.useCallback(t,e)};Ve.useContext=function(t){return Vr.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Vr.current.useEffect(t,e)};Ve.useId=function(){return Vr.current.useId()};Ve.useImperativeHandle=function(t,e,r){return Vr.current.useImperativeHandle(t,e,r)};Ve.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Vr.current.useMemo(t,e)};Ve.useReducer=function(t,e,r){return Vr.current.useReducer(t,e,r)};Ve.useRef=function(t){return Vr.current.useRef(t)};Ve.useState=function(t){return Vr.current.useState(t)};Ve.useSyncExternalStore=function(t,e,r){return Vr.current.useSyncExternalStore(t,e,r)};Ve.useTransition=function(){return Vr.current.useTransition()};Ve.version="18.3.1";dE.exports=Ve;var re=dE.exports;const st=Wt(re),G3=N3({__proto__:null,default:st},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3=re,X3=Symbol.for("react.element"),Q3=Symbol.for("react.fragment"),J3=Object.prototype.hasOwnProperty,Z3=Y3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eB={key:!0,ref:!0,__self:!0,__source:!0};function SE(t,e,r){var n,i={},o=null,l=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)J3.call(e,n)&&!eB.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:X3,type:t,key:o,ref:l,props:i,_owner:Z3.current}}dg.Fragment=Q3;dg.jsx=SE;dg.jsxs=SE;hE.exports=dg;var Y=hE.exports,Y0={},kE={exports:{}},Cn={},CE={exports:{}},TE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,B){var V=R.length;R.push(B);e:for(;0<V;){var oe=V-1>>>1,he=R[oe];if(0<i(he,B))R[oe]=B,R[V]=he,V=oe;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],V=R.pop();if(V!==B){R[0]=V;e:for(var oe=0,he=R.length,De=he>>>1;oe<De;){var Ke=2*(oe+1)-1,Xe=R[Ke],Ce=Ke+1,Me=R[Ce];if(0>i(Xe,V))Ce<he&&0>i(Me,Xe)?(R[oe]=Me,R[Ce]=V,oe=Ce):(R[oe]=Xe,R[Ke]=V,oe=Ke);else if(Ce<he&&0>i(Me,V))R[oe]=Me,R[Ce]=V,oe=Ce;else break e}}return B}function i(R,B){var V=R.sortIndex-B.sortIndex;return V!==0?V:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],p=[],g=1,v=null,y=3,x=!1,T=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(R){for(var B=r(p);B!==null;){if(B.callback===null)n(p);else if(B.startTime<=R)n(p),B.sortIndex=B.expirationTime,e(c,B);else break;B=r(p)}}function N(R){if(A=!1,M(R),!T)if(r(c)!==null)T=!0,Q(D);else{var B=r(p);B!==null&&ee(N,B.startTime-R)}}function D(R,B){T=!1,A&&(A=!1,C(H),H=-1),x=!0;var V=y;try{for(M(B),v=r(c);v!==null&&(!(v.expirationTime>B)||R&&!de());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,y=v.priorityLevel;var he=oe(v.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?v.callback=he:v===r(c)&&n(c),M(B)}else n(c);v=r(c)}if(v!==null)var De=!0;else{var Ke=r(p);Ke!==null&&ee(N,Ke.startTime-B),De=!1}return De}finally{v=null,y=V,x=!1}}var W=!1,z=null,H=-1,J=5,ie=-1;function de(){return!(t.unstable_now()-ie<J)}function ue(){if(z!==null){var R=t.unstable_now();ie=R;var B=!0;try{B=z(!0,R)}finally{B?K():(W=!1,z=null)}}else W=!1}var K;if(typeof S=="function")K=function(){S(ue)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,_=Z.port2;Z.port1.onmessage=ue,K=function(){_.postMessage(null)}}else K=function(){P(ue,0)};function Q(R){z=R,W||(W=!0,K())}function ee(R,B){H=P(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,Q(D))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(y){case 1:case 2:case 3:var B=3;break;default:B=y}var V=y;y=B;try{return R()}finally{y=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=y;y=R;try{return B()}finally{y=V}},t.unstable_scheduleCallback=function(R,B,V){var oe=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?oe+V:oe):V=oe,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=V+he,R={id:g++,callback:B,priorityLevel:R,startTime:V,expirationTime:he,sortIndex:-1},V>oe?(R.sortIndex=V,e(p,R),r(c)===null&&R===r(p)&&(A?(C(H),H=-1):A=!0,ee(N,V-oe))):(R.sortIndex=he,e(c,R),T||x||(T=!0,Q(D))),R},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(R){var B=y;return function(){var V=y;y=B;try{return R.apply(this,arguments)}finally{y=V}}}})(TE);CE.exports=TE;var tB=CE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rB=re,kn=tB;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OE=new Set,qc={};function Al(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(qc[t]=e,t=0;t<e.length;t++)OE.add(e[t])}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X0=Object.prototype.hasOwnProperty,nB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kk={},Ck={};function iB(t){return X0.call(Ck,t)?!0:X0.call(kk,t)?!1:nB.test(t)?Ck[t]=!0:(kk[t]=!0,!1)}function oB(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sB(t,e,r,n){if(e===null||typeof e>"u"||oB(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(t,e,r,n,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new Kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new Kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new Kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new Kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new Kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new Kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vr[t]=new Kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vr[t]=new Kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vr[t]=new Kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var yw=/[\-:]([a-z])/g;function ww(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yw,ww);vr[e]=new Kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yw,ww);vr[e]=new Kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yw,ww);vr[e]=new Kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function xw(t,e,r,n){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sB(e,r,i,n)&&(r=null),n||i===null?iB(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var So=rB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),wa=Symbol.for("react.portal"),xa=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),AE=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),Z0=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),qo=Symbol.for("react.lazy"),ME=Symbol.for("react.offscreen"),Tk=Symbol.iterator;function tc(t){return t===null||typeof t!="object"?null:(t=Tk&&t[Tk]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,gv;function xc(t){if(gv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gv=e&&e[1]||""}return`
`+gv+t}var mv=!1;function vv(t,e){if(!t||mv)return"";mv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var n=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){n=p}t.call(e.prototype)}else{try{throw Error()}catch(p){n=p}t()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=n.stack.split(`
`),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==o[u]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{mv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xc(t):""}function lB(t){switch(t.tag){case 5:return xc(t.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return t=vv(t.type,!1),t;case 11:return t=vv(t.type.render,!1),t;case 1:return t=vv(t.type,!0),t;default:return""}}function ey(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xa:return"Fragment";case wa:return"Portal";case Q0:return"Profiler";case bw:return"StrictMode";case J0:return"Suspense";case Z0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AE:return(t.displayName||"Context")+".Consumer";case EE:return(t._context.displayName||"Context")+".Provider";case Sw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kw:return e=t.displayName||null,e!==null?e:ey(t.type)||"Memo";case qo:e=t._payload,t=t._init;try{return ey(t(e))}catch{}}return null}function aB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ey(e);case 8:return e===bw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uB(t){var e=LE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){t._valueTracker||(t._valueTracker=uB(t))}function PE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=LE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ap(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ty(t,e){var r=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ok(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=bs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NE(t,e){e=e.checked,e!=null&&xw(t,"checked",e,!1)}function ry(t,e){NE(t,e);var r=bs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ny(t,e.type,r):e.hasOwnProperty("defaultValue")&&ny(t,e.type,bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ek(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ny(t,e,r){(e!=="number"||ap(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var bc=Array.isArray;function Ra(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+bs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function iy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ak(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(bc(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:bs(r)}}function DE(t,e){var r=bs(e.value),n=bs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Mk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fh,IE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fh=Fh||document.createElement("div"),Fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cB=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(t){cB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nc[e]=Nc[t]})});function BE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Nc.hasOwnProperty(t)&&Nc[t]?(""+e).trim():e+"px"}function _E(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=BE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var fB=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sy(t,e){if(e){if(fB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function ly(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ay=null;function Cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uy=null,Ia=null,Ba=null;function Lk(t){if(t=Df(t)){if(typeof uy!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=yg(e),uy(t.stateNode,t.type,e))}}function FE(t){Ia?Ba?Ba.push(t):Ba=[t]:Ia=t}function $E(){if(Ia){var t=Ia,e=Ba;if(Ba=Ia=null,Lk(t),e)for(t=0;t<e.length;t++)Lk(e[t])}}function zE(t,e){return t(e)}function WE(){}var yv=!1;function jE(t,e,r){if(yv)return t(e,r);yv=!0;try{return zE(t,e,r)}finally{yv=!1,(Ia!==null||Ba!==null)&&(WE(),$E())}}function Yc(t,e){var r=t.stateNode;if(r===null)return null;var n=yg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var cy=!1;if(po)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){cy=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{cy=!1}function hB(t,e,r,n,i,o,l,u,c){var p=Array.prototype.slice.call(arguments,3);try{e.apply(r,p)}catch(g){this.onError(g)}}var Dc=!1,up=null,cp=!1,fy=null,dB={onError:function(t){Dc=!0,up=t}};function pB(t,e,r,n,i,o,l,u,c){Dc=!1,up=null,hB.apply(dB,arguments)}function gB(t,e,r,n,i,o,l,u,c){if(pB.apply(this,arguments),Dc){if(Dc){var p=up;Dc=!1,up=null}else throw Error(ae(198));cp||(cp=!0,fy=p)}}function Ml(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function HE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pk(t){if(Ml(t)!==t)throw Error(ae(188))}function mB(t){var e=t.alternate;if(!e){if(e=Ml(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Pk(i),t;if(o===n)return Pk(i),e;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=o;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=o;break}if(u===n){l=!0,n=i,r=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===r){l=!0,r=o,n=i;break}if(u===n){l=!0,n=o,r=i;break}u=u.sibling}if(!l)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function UE(t){return t=mB(t),t!==null?VE(t):null}function VE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VE(t);if(e!==null)return e;t=t.sibling}return null}var KE=kn.unstable_scheduleCallback,Nk=kn.unstable_cancelCallback,vB=kn.unstable_shouldYield,yB=kn.unstable_requestPaint,Pt=kn.unstable_now,wB=kn.unstable_getCurrentPriorityLevel,Tw=kn.unstable_ImmediatePriority,qE=kn.unstable_UserBlockingPriority,fp=kn.unstable_NormalPriority,xB=kn.unstable_LowPriority,GE=kn.unstable_IdlePriority,pg=null,zi=null;function bB(t){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(pg,t,void 0,(t.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:CB,SB=Math.log,kB=Math.LN2;function CB(t){return t>>>=0,t===0?32:31-(SB(t)/kB|0)|0}var $h=64,zh=4194304;function Sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,l=r&268435455;if(l!==0){var u=l&~i;u!==0?n=Sc(u):(o&=l,o!==0&&(n=Sc(o)))}else l=r&~i,l!==0?n=Sc(l):o!==0&&(n=Sc(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-di(e),i=1<<r,n|=t[r],e&=~i;return n}function TB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OB(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-di(o),u=1<<l,c=i[l];c===-1?(!(u&r)||u&n)&&(i[l]=TB(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function hy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YE(){var t=$h;return $h<<=1,!($h&4194240)&&($h=64),t}function wv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Pf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-di(e),t[e]=r}function EB(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-di(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Ow(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-di(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var nt=0;function XE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QE,Ew,JE,ZE,eA,dy=!1,Wh=[],us=null,cs=null,fs=null,Xc=new Map,Qc=new Map,Qo=[],AB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dk(t,e){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(e.pointerId)}}function nc(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Df(e),e!==null&&Ew(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MB(t,e,r,n,i){switch(e){case"focusin":return us=nc(us,t,e,r,n,i),!0;case"dragenter":return cs=nc(cs,t,e,r,n,i),!0;case"mouseover":return fs=nc(fs,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Xc.set(o,nc(Xc.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Qc.set(o,nc(Qc.get(o)||null,t,e,r,n,i)),!0}return!1}function tA(t){var e=ll(t.target);if(e!==null){var r=Ml(e);if(r!==null){if(e=r.tag,e===13){if(e=HE(r),e!==null){t.blockedOn=e,eA(t.priority,function(){JE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=py(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ay=n,r.target.dispatchEvent(n),ay=null}else return e=Df(r),e!==null&&Ew(e),t.blockedOn=r,!1;e.shift()}return!0}function Rk(t,e,r){Dd(t)&&r.delete(e)}function LB(){dy=!1,us!==null&&Dd(us)&&(us=null),cs!==null&&Dd(cs)&&(cs=null),fs!==null&&Dd(fs)&&(fs=null),Xc.forEach(Rk),Qc.forEach(Rk)}function ic(t,e){t.blockedOn===e&&(t.blockedOn=null,dy||(dy=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,LB)))}function Jc(t){function e(i){return ic(i,t)}if(0<Wh.length){ic(Wh[0],t);for(var r=1;r<Wh.length;r++){var n=Wh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(us!==null&&ic(us,t),cs!==null&&ic(cs,t),fs!==null&&ic(fs,t),Xc.forEach(e),Qc.forEach(e),r=0;r<Qo.length;r++)n=Qo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Qo.length&&(r=Qo[0],r.blockedOn===null);)tA(r),r.blockedOn===null&&Qo.shift()}var _a=So.ReactCurrentBatchConfig,dp=!0;function PB(t,e,r,n){var i=nt,o=_a.transition;_a.transition=null;try{nt=1,Aw(t,e,r,n)}finally{nt=i,_a.transition=o}}function NB(t,e,r,n){var i=nt,o=_a.transition;_a.transition=null;try{nt=4,Aw(t,e,r,n)}finally{nt=i,_a.transition=o}}function Aw(t,e,r,n){if(dp){var i=py(t,e,r,n);if(i===null)Mv(t,e,n,pp,r),Dk(t,n);else if(MB(i,t,e,r,n))n.stopPropagation();else if(Dk(t,n),e&4&&-1<AB.indexOf(t)){for(;i!==null;){var o=Df(i);if(o!==null&&QE(o),o=py(t,e,r,n),o===null&&Mv(t,e,n,pp,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Mv(t,e,n,null,r)}}var pp=null;function py(t,e,r,n){if(pp=null,t=Cw(n),t=ll(t),t!==null)if(e=Ml(t),e===null)t=null;else if(r=e.tag,r===13){if(t=HE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pp=t,null}function rA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wB()){case Tw:return 1;case qE:return 4;case fp:case xB:return 16;case GE:return 536870912;default:return 16}default:return 16}}var rs=null,Mw=null,Rd=null;function nA(){if(Rd)return Rd;var t,e=Mw,r=e.length,n,i="value"in rs?rs.value:rs.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===i[o-n];n++);return Rd=i.slice(t,1<n?1-n:void 0)}function Id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jh(){return!0}function Ik(){return!1}function Tn(t){function e(r,n,i,o,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?jh:Ik,this.isPropagationStopped=Ik,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jh)},persist:function(){},isPersistent:jh}),e}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=Tn(hu),Nf=Tt({},hu,{view:0,detail:0}),DB=Tn(Nf),xv,bv,oc,gg=Tt({},Nf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oc&&(oc&&t.type==="mousemove"?(xv=t.screenX-oc.screenX,bv=t.screenY-oc.screenY):bv=xv=0,oc=t),xv)},movementY:function(t){return"movementY"in t?t.movementY:bv}}),Bk=Tn(gg),RB=Tt({},gg,{dataTransfer:0}),IB=Tn(RB),BB=Tt({},Nf,{relatedTarget:0}),Sv=Tn(BB),_B=Tt({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),FB=Tn(_B),$B=Tt({},hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zB=Tn($B),WB=Tt({},hu,{data:0}),_k=Tn(WB),jB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UB[t])?!!e[t]:!1}function Pw(){return VB}var KB=Tt({},Nf,{key:function(t){if(t.key){var e=jB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pw,charCode:function(t){return t.type==="keypress"?Id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qB=Tn(KB),GB=Tt({},gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fk=Tn(GB),YB=Tt({},Nf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pw}),XB=Tn(YB),QB=Tt({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),JB=Tn(QB),ZB=Tt({},gg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e_=Tn(ZB),t_=[9,13,27,32],Nw=po&&"CompositionEvent"in window,Rc=null;po&&"documentMode"in document&&(Rc=document.documentMode);var r_=po&&"TextEvent"in window&&!Rc,iA=po&&(!Nw||Rc&&8<Rc&&11>=Rc),$k=" ",zk=!1;function oA(t,e){switch(t){case"keyup":return t_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function n_(t,e){switch(t){case"compositionend":return sA(e);case"keypress":return e.which!==32?null:(zk=!0,$k);case"textInput":return t=e.data,t===$k&&zk?null:t;default:return null}}function i_(t,e){if(ba)return t==="compositionend"||!Nw&&oA(t,e)?(t=nA(),Rd=Mw=rs=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iA&&e.locale!=="ko"?null:e.data;default:return null}}var o_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o_[t.type]:e==="textarea"}function lA(t,e,r,n){FE(n),e=gp(e,"onChange"),0<e.length&&(r=new Lw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ic=null,Zc=null;function s_(t){yA(t,0)}function mg(t){var e=Ca(t);if(PE(e))return t}function l_(t,e){if(t==="change")return e}var aA=!1;if(po){var kv;if(po){var Cv="oninput"in document;if(!Cv){var jk=document.createElement("div");jk.setAttribute("oninput","return;"),Cv=typeof jk.oninput=="function"}kv=Cv}else kv=!1;aA=kv&&(!document.documentMode||9<document.documentMode)}function Hk(){Ic&&(Ic.detachEvent("onpropertychange",uA),Zc=Ic=null)}function uA(t){if(t.propertyName==="value"&&mg(Zc)){var e=[];lA(e,Zc,t,Cw(t)),jE(s_,e)}}function a_(t,e,r){t==="focusin"?(Hk(),Ic=e,Zc=r,Ic.attachEvent("onpropertychange",uA)):t==="focusout"&&Hk()}function u_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mg(Zc)}function c_(t,e){if(t==="click")return mg(e)}function f_(t,e){if(t==="input"||t==="change")return mg(e)}function h_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gi=typeof Object.is=="function"?Object.is:h_;function ef(t,e){if(gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!X0.call(e,i)||!gi(t[i],e[i]))return!1}return!0}function Uk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vk(t,e){var r=Uk(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uk(r)}}function cA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fA(){for(var t=window,e=ap();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ap(t.document)}return e}function Dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d_(t){var e=fA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cA(r.ownerDocument.documentElement,r)){if(n!==null&&Dw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=Vk(r,o);var l=Vk(r,n);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p_=po&&"documentMode"in document&&11>=document.documentMode,Sa=null,gy=null,Bc=null,my=!1;function Kk(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;my||Sa==null||Sa!==ap(n)||(n=Sa,"selectionStart"in n&&Dw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bc&&ef(Bc,n)||(Bc=n,n=gp(gy,"onSelect"),0<n.length&&(e=new Lw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Sa)))}function Hh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ka={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},Tv={},hA={};po&&(hA=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function vg(t){if(Tv[t])return Tv[t];if(!ka[t])return t;var e=ka[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in hA)return Tv[t]=e[r];return t}var dA=vg("animationend"),pA=vg("animationiteration"),gA=vg("animationstart"),mA=vg("transitionend"),vA=new Map,qk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(t,e){vA.set(t,e),Al(e,[t])}for(var Ov=0;Ov<qk.length;Ov++){var Ev=qk[Ov],g_=Ev.toLowerCase(),m_=Ev[0].toUpperCase()+Ev.slice(1);Ls(g_,"on"+m_)}Ls(dA,"onAnimationEnd");Ls(pA,"onAnimationIteration");Ls(gA,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(mA,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Al("onBeforeInput",["compositionend","keypress","textInput","paste"]);Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function Gk(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gB(n,e,void 0,t),t.currentTarget=null}function yA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var l=n.length-1;0<=l;l--){var u=n[l],c=u.instance,p=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;Gk(i,u,p),o=c}else for(l=0;l<n.length;l++){if(u=n[l],c=u.instance,p=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;Gk(i,u,p),o=c}}}if(cp)throw t=fy,cp=!1,fy=null,t}function ht(t,e){var r=e[by];r===void 0&&(r=e[by]=new Set);var n=t+"__bubble";r.has(n)||(wA(e,t,2,!1),r.add(n))}function Av(t,e,r){var n=0;e&&(n|=4),wA(r,t,n,e)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function tf(t){if(!t[Uh]){t[Uh]=!0,OE.forEach(function(r){r!=="selectionchange"&&(v_.has(r)||Av(r,!1,t),Av(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uh]||(e[Uh]=!0,Av("selectionchange",!1,e))}}function wA(t,e,r,n){switch(rA(e)){case 1:var i=PB;break;case 4:i=NB;break;default:i=Aw}r=i.bind(null,e,r,t),i=void 0,!cy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Mv(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=ll(u),l===null)return;if(c=l.tag,c===5||c===6){n=o=l;continue e}u=u.parentNode}}n=n.return}jE(function(){var p=o,g=Cw(r),v=[];e:{var y=vA.get(t);if(y!==void 0){var x=Lw,T=t;switch(t){case"keypress":if(Id(r)===0)break e;case"keydown":case"keyup":x=qB;break;case"focusin":T="focus",x=Sv;break;case"focusout":T="blur",x=Sv;break;case"beforeblur":case"afterblur":x=Sv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Bk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=IB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=XB;break;case dA:case pA:case gA:x=FB;break;case mA:x=JB;break;case"scroll":x=DB;break;case"wheel":x=e_;break;case"copy":case"cut":case"paste":x=zB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Fk}var A=(e&4)!==0,P=!A&&t==="scroll",C=A?y!==null?y+"Capture":null:y;A=[];for(var S=p,M;S!==null;){M=S;var N=M.stateNode;if(M.tag===5&&N!==null&&(M=N,C!==null&&(N=Yc(S,C),N!=null&&A.push(rf(S,N,M)))),P)break;S=S.return}0<A.length&&(y=new x(y,T,null,r,g),v.push({event:y,listeners:A}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",y&&r!==ay&&(T=r.relatedTarget||r.fromElement)&&(ll(T)||T[go]))break e;if((x||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,x?(T=r.relatedTarget||r.toElement,x=p,T=T?ll(T):null,T!==null&&(P=Ml(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(x=null,T=p),x!==T)){if(A=Bk,N="onMouseLeave",C="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(A=Fk,N="onPointerLeave",C="onPointerEnter",S="pointer"),P=x==null?y:Ca(x),M=T==null?y:Ca(T),y=new A(N,S+"leave",x,r,g),y.target=P,y.relatedTarget=M,N=null,ll(g)===p&&(A=new A(C,S+"enter",T,r,g),A.target=M,A.relatedTarget=P,N=A),P=N,x&&T)t:{for(A=x,C=T,S=0,M=A;M;M=ca(M))S++;for(M=0,N=C;N;N=ca(N))M++;for(;0<S-M;)A=ca(A),S--;for(;0<M-S;)C=ca(C),M--;for(;S--;){if(A===C||C!==null&&A===C.alternate)break t;A=ca(A),C=ca(C)}A=null}else A=null;x!==null&&Yk(v,y,x,A,!1),T!==null&&P!==null&&Yk(v,P,T,A,!0)}}e:{if(y=p?Ca(p):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var D=l_;else if(Wk(y))if(aA)D=f_;else{D=u_;var W=a_}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(D=c_);if(D&&(D=D(t,p))){lA(v,D,r,g);break e}W&&W(t,y,p),t==="focusout"&&(W=y._wrapperState)&&W.controlled&&y.type==="number"&&ny(y,"number",y.value)}switch(W=p?Ca(p):window,t){case"focusin":(Wk(W)||W.contentEditable==="true")&&(Sa=W,gy=p,Bc=null);break;case"focusout":Bc=gy=Sa=null;break;case"mousedown":my=!0;break;case"contextmenu":case"mouseup":case"dragend":my=!1,Kk(v,r,g);break;case"selectionchange":if(p_)break;case"keydown":case"keyup":Kk(v,r,g)}var z;if(Nw)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else ba?oA(t,r)&&(H="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(iA&&r.locale!=="ko"&&(ba||H!=="onCompositionStart"?H==="onCompositionEnd"&&ba&&(z=nA()):(rs=g,Mw="value"in rs?rs.value:rs.textContent,ba=!0)),W=gp(p,H),0<W.length&&(H=new _k(H,t,null,r,g),v.push({event:H,listeners:W}),z?H.data=z:(z=sA(r),z!==null&&(H.data=z)))),(z=r_?n_(t,r):i_(t,r))&&(p=gp(p,"onBeforeInput"),0<p.length&&(g=new _k("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:p}),g.data=z))}yA(v,e)})}function rf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yc(t,r),o!=null&&n.unshift(rf(t,o,i)),o=Yc(t,e),o!=null&&n.push(rf(t,o,i))),t=t.return}return n}function ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yk(t,e,r,n,i){for(var o=e._reactName,l=[];r!==null&&r!==n;){var u=r,c=u.alternate,p=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&p!==null&&(u=p,i?(c=Yc(r,o),c!=null&&l.unshift(rf(r,c,u))):i||(c=Yc(r,o),c!=null&&l.push(rf(r,c,u)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var y_=/\r\n?/g,w_=/\u0000|\uFFFD/g;function Xk(t){return(typeof t=="string"?t:""+t).replace(y_,`
`).replace(w_,"")}function Vh(t,e,r){if(e=Xk(e),Xk(t)!==e&&r)throw Error(ae(425))}function mp(){}var vy=null,yy=null;function wy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xy=typeof setTimeout=="function"?setTimeout:void 0,x_=typeof clearTimeout=="function"?clearTimeout:void 0,Qk=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qk<"u"?function(t){return Qk.resolve(null).then(t).catch(S_)}:xy;function S_(t){setTimeout(function(){throw t})}function Lv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Jc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Jc(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var du=Math.random().toString(36).slice(2),Ri="__reactFiber$"+du,nf="__reactProps$"+du,go="__reactContainer$"+du,by="__reactEvents$"+du,k_="__reactListeners$"+du,C_="__reactHandles$"+du;function ll(t){var e=t[Ri];if(e)return e;for(var r=t.parentNode;r;){if(e=r[go]||r[Ri]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Jk(t);t!==null;){if(r=t[Ri])return r;t=Jk(t)}return e}t=r,r=t.parentNode}return null}function Df(t){return t=t[Ri]||t[go],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function yg(t){return t[nf]||null}var Sy=[],Ta=-1;function Ps(t){return{current:t}}function pt(t){0>Ta||(t.current=Sy[Ta],Sy[Ta]=null,Ta--)}function ct(t,e){Ta++,Sy[Ta]=t.current,t.current=e}var Ss={},Ar=Ps(Ss),ln=Ps(!1),yl=Ss;function qa(t,e){var r=t.type.contextTypes;if(!r)return Ss;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function vp(){pt(ln),pt(Ar)}function Zk(t,e,r){if(Ar.current!==Ss)throw Error(ae(168));ct(Ar,e),ct(ln,r)}function xA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ae(108,aB(t)||"Unknown",i));return Tt({},r,n)}function yp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ss,yl=Ar.current,ct(Ar,t),ct(ln,ln.current),!0}function eC(t,e,r){var n=t.stateNode;if(!n)throw Error(ae(169));r?(t=xA(t,e,yl),n.__reactInternalMemoizedMergedChildContext=t,pt(ln),pt(Ar),ct(Ar,t)):pt(ln),ct(ln,r)}var lo=null,wg=!1,Pv=!1;function bA(t){lo===null?lo=[t]:lo.push(t)}function T_(t){wg=!0,bA(t)}function Ns(){if(!Pv&&lo!==null){Pv=!0;var t=0,e=nt;try{var r=lo;for(nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}lo=null,wg=!1}catch(i){throw lo!==null&&(lo=lo.slice(t+1)),KE(Tw,Ns),i}finally{nt=e,Pv=!1}}return null}var Oa=[],Ea=0,wp=null,xp=0,Rn=[],In=0,wl=null,uo=1,co="";function rl(t,e){Oa[Ea++]=xp,Oa[Ea++]=wp,wp=t,xp=e}function SA(t,e,r){Rn[In++]=uo,Rn[In++]=co,Rn[In++]=wl,wl=t;var n=uo;t=co;var i=32-di(n)-1;n&=~(1<<i),r+=1;var o=32-di(e)+i;if(30<o){var l=i-i%5;o=(n&(1<<l)-1).toString(32),n>>=l,i-=l,uo=1<<32-di(e)+i|r<<i|n,co=o+t}else uo=1<<o|r<<i|n,co=t}function Rw(t){t.return!==null&&(rl(t,1),SA(t,1,0))}function Iw(t){for(;t===wp;)wp=Oa[--Ea],Oa[Ea]=null,xp=Oa[--Ea],Oa[Ea]=null;for(;t===wl;)wl=Rn[--In],Rn[In]=null,co=Rn[--In],Rn[In]=null,uo=Rn[--In],Rn[In]=null}var Sn=null,wn=null,vt=!1,ci=null;function kA(t,e){var r=Fn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function tC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,wn=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wl!==null?{id:uo,overflow:co}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Sn=t,wn=null,!0):!1;default:return!1}}function ky(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cy(t){if(vt){var e=wn;if(e){var r=e;if(!tC(t,e)){if(ky(t))throw Error(ae(418));e=hs(r.nextSibling);var n=Sn;e&&tC(t,e)?kA(n,r):(t.flags=t.flags&-4097|2,vt=!1,Sn=t)}}else{if(ky(t))throw Error(ae(418));t.flags=t.flags&-4097|2,vt=!1,Sn=t}}}function rC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Kh(t){if(t!==Sn)return!1;if(!vt)return rC(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wy(t.type,t.memoizedProps)),e&&(e=wn)){if(ky(t))throw CA(),Error(ae(418));for(;e;)kA(t,e),e=hs(e.nextSibling)}if(rC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wn=hs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Sn?hs(t.stateNode.nextSibling):null;return!0}function CA(){for(var t=wn;t;)t=hs(t.nextSibling)}function Ga(){wn=Sn=null,vt=!1}function Bw(t){ci===null?ci=[t]:ci.push(t)}var O_=So.ReactCurrentBatchConfig;function sc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=i.refs;l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function qh(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nC(t){var e=t._init;return e(t._payload)}function TA(t){function e(C,S){if(t){var M=C.deletions;M===null?(C.deletions=[S],C.flags|=16):M.push(S)}}function r(C,S){if(!t)return null;for(;S!==null;)e(C,S),S=S.sibling;return null}function n(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function i(C,S){return C=ms(C,S),C.index=0,C.sibling=null,C}function o(C,S,M){return C.index=M,t?(M=C.alternate,M!==null?(M=M.index,M<S?(C.flags|=2,S):M):(C.flags|=2,S)):(C.flags|=1048576,S)}function l(C){return t&&C.alternate===null&&(C.flags|=2),C}function u(C,S,M,N){return S===null||S.tag!==6?(S=Fv(M,C.mode,N),S.return=C,S):(S=i(S,M),S.return=C,S)}function c(C,S,M,N){var D=M.type;return D===xa?g(C,S,M.props.children,N,M.key):S!==null&&(S.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===qo&&nC(D)===S.type)?(N=i(S,M.props),N.ref=sc(C,S,M),N.return=C,N):(N=jd(M.type,M.key,M.props,null,C.mode,N),N.ref=sc(C,S,M),N.return=C,N)}function p(C,S,M,N){return S===null||S.tag!==4||S.stateNode.containerInfo!==M.containerInfo||S.stateNode.implementation!==M.implementation?(S=$v(M,C.mode,N),S.return=C,S):(S=i(S,M.children||[]),S.return=C,S)}function g(C,S,M,N,D){return S===null||S.tag!==7?(S=pl(M,C.mode,N,D),S.return=C,S):(S=i(S,M),S.return=C,S)}function v(C,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Fv(""+S,C.mode,M),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bh:return M=jd(S.type,S.key,S.props,null,C.mode,M),M.ref=sc(C,null,S),M.return=C,M;case wa:return S=$v(S,C.mode,M),S.return=C,S;case qo:var N=S._init;return v(C,N(S._payload),M)}if(bc(S)||tc(S))return S=pl(S,C.mode,M,null),S.return=C,S;qh(C,S)}return null}function y(C,S,M,N){var D=S!==null?S.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return D!==null?null:u(C,S,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Bh:return M.key===D?c(C,S,M,N):null;case wa:return M.key===D?p(C,S,M,N):null;case qo:return D=M._init,y(C,S,D(M._payload),N)}if(bc(M)||tc(M))return D!==null?null:g(C,S,M,N,null);qh(C,M)}return null}function x(C,S,M,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return C=C.get(M)||null,u(S,C,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bh:return C=C.get(N.key===null?M:N.key)||null,c(S,C,N,D);case wa:return C=C.get(N.key===null?M:N.key)||null,p(S,C,N,D);case qo:var W=N._init;return x(C,S,M,W(N._payload),D)}if(bc(N)||tc(N))return C=C.get(M)||null,g(S,C,N,D,null);qh(S,N)}return null}function T(C,S,M,N){for(var D=null,W=null,z=S,H=S=0,J=null;z!==null&&H<M.length;H++){z.index>H?(J=z,z=null):J=z.sibling;var ie=y(C,z,M[H],N);if(ie===null){z===null&&(z=J);break}t&&z&&ie.alternate===null&&e(C,z),S=o(ie,S,H),W===null?D=ie:W.sibling=ie,W=ie,z=J}if(H===M.length)return r(C,z),vt&&rl(C,H),D;if(z===null){for(;H<M.length;H++)z=v(C,M[H],N),z!==null&&(S=o(z,S,H),W===null?D=z:W.sibling=z,W=z);return vt&&rl(C,H),D}for(z=n(C,z);H<M.length;H++)J=x(z,C,H,M[H],N),J!==null&&(t&&J.alternate!==null&&z.delete(J.key===null?H:J.key),S=o(J,S,H),W===null?D=J:W.sibling=J,W=J);return t&&z.forEach(function(de){return e(C,de)}),vt&&rl(C,H),D}function A(C,S,M,N){var D=tc(M);if(typeof D!="function")throw Error(ae(150));if(M=D.call(M),M==null)throw Error(ae(151));for(var W=D=null,z=S,H=S=0,J=null,ie=M.next();z!==null&&!ie.done;H++,ie=M.next()){z.index>H?(J=z,z=null):J=z.sibling;var de=y(C,z,ie.value,N);if(de===null){z===null&&(z=J);break}t&&z&&de.alternate===null&&e(C,z),S=o(de,S,H),W===null?D=de:W.sibling=de,W=de,z=J}if(ie.done)return r(C,z),vt&&rl(C,H),D;if(z===null){for(;!ie.done;H++,ie=M.next())ie=v(C,ie.value,N),ie!==null&&(S=o(ie,S,H),W===null?D=ie:W.sibling=ie,W=ie);return vt&&rl(C,H),D}for(z=n(C,z);!ie.done;H++,ie=M.next())ie=x(z,C,H,ie.value,N),ie!==null&&(t&&ie.alternate!==null&&z.delete(ie.key===null?H:ie.key),S=o(ie,S,H),W===null?D=ie:W.sibling=ie,W=ie);return t&&z.forEach(function(ue){return e(C,ue)}),vt&&rl(C,H),D}function P(C,S,M,N){if(typeof M=="object"&&M!==null&&M.type===xa&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Bh:e:{for(var D=M.key,W=S;W!==null;){if(W.key===D){if(D=M.type,D===xa){if(W.tag===7){r(C,W.sibling),S=i(W,M.props.children),S.return=C,C=S;break e}}else if(W.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===qo&&nC(D)===W.type){r(C,W.sibling),S=i(W,M.props),S.ref=sc(C,W,M),S.return=C,C=S;break e}r(C,W);break}else e(C,W);W=W.sibling}M.type===xa?(S=pl(M.props.children,C.mode,N,M.key),S.return=C,C=S):(N=jd(M.type,M.key,M.props,null,C.mode,N),N.ref=sc(C,S,M),N.return=C,C=N)}return l(C);case wa:e:{for(W=M.key;S!==null;){if(S.key===W)if(S.tag===4&&S.stateNode.containerInfo===M.containerInfo&&S.stateNode.implementation===M.implementation){r(C,S.sibling),S=i(S,M.children||[]),S.return=C,C=S;break e}else{r(C,S);break}else e(C,S);S=S.sibling}S=$v(M,C.mode,N),S.return=C,C=S}return l(C);case qo:return W=M._init,P(C,S,W(M._payload),N)}if(bc(M))return T(C,S,M,N);if(tc(M))return A(C,S,M,N);qh(C,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,S!==null&&S.tag===6?(r(C,S.sibling),S=i(S,M),S.return=C,C=S):(r(C,S),S=Fv(M,C.mode,N),S.return=C,C=S),l(C)):r(C,S)}return P}var Ya=TA(!0),OA=TA(!1),bp=Ps(null),Sp=null,Aa=null,_w=null;function Fw(){_w=Aa=Sp=null}function $w(t){var e=bp.current;pt(bp),t._currentValue=e}function Ty(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Fa(t,e){Sp=t,_w=Aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(_w!==t)if(t={context:t,memoizedValue:e,next:null},Aa===null){if(Sp===null)throw Error(ae(308));Aa=t,Sp.dependencies={lanes:0,firstContext:t}}else Aa=Aa.next=t;return e}var al=null;function zw(t){al===null?al=[t]:al.push(t)}function EA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,zw(e)):(r.next=i.next,i.next=r),e.interleaved=r,mo(t,n)}function mo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Go=!1;function Ww(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ds(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,mo(t,r)}return i=n.interleaved,i===null?(e.next=e,zw(n)):(e.next=i.next,i.next=e),n.interleaved=e,mo(t,r)}function Bd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ow(t,r)}}function iC(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function kp(t,e,r,n){var i=t.updateQueue;Go=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,p=c.next;c.next=null,l===null?o=p:l.next=p,l=c;var g=t.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==l&&(u===null?g.firstBaseUpdate=p:u.next=p,g.lastBaseUpdate=c))}if(o!==null){var v=i.baseState;l=0,g=p=c=null,u=o;do{var y=u.lane,x=u.eventTime;if((n&y)===y){g!==null&&(g=g.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=t,A=u;switch(y=e,x=r,A.tag){case 1:if(T=A.payload,typeof T=="function"){v=T.call(x,v,y);break e}v=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=A.payload,y=typeof T=="function"?T.call(x,v,y):T,y==null)break e;v=Tt({},v,y);break e;case 2:Go=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[u]:y.push(u))}else x={eventTime:x,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(p=g=x,c=v):g=g.next=x,l|=y;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;y=u,u=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(g===null&&(c=v),i.baseState=c,i.firstBaseUpdate=p,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);bl|=l,t.lanes=l,t.memoizedState=v}}function oC(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var Rf={},Wi=Ps(Rf),of=Ps(Rf),sf=Ps(Rf);function ul(t){if(t===Rf)throw Error(ae(174));return t}function jw(t,e){switch(ct(sf,e),ct(of,t),ct(Wi,Rf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oy(e,t)}pt(Wi),ct(Wi,e)}function Xa(){pt(Wi),pt(of),pt(sf)}function MA(t){ul(sf.current);var e=ul(Wi.current),r=oy(e,t.type);e!==r&&(ct(of,t),ct(Wi,r))}function Hw(t){of.current===t&&(pt(Wi),pt(of))}var kt=Ps(0);function Cp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nv=[];function Uw(){for(var t=0;t<Nv.length;t++)Nv[t]._workInProgressVersionPrimary=null;Nv.length=0}var _d=So.ReactCurrentDispatcher,Dv=So.ReactCurrentBatchConfig,xl=0,Ct=null,Gt=null,tr=null,Tp=!1,_c=!1,lf=0,E_=0;function Sr(){throw Error(ae(321))}function Vw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gi(t[r],e[r]))return!1;return!0}function Kw(t,e,r,n,i,o){if(xl=o,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_d.current=t===null||t.memoizedState===null?P_:N_,t=r(n,i),_c){o=0;do{if(_c=!1,lf=0,25<=o)throw Error(ae(301));o+=1,tr=Gt=null,e.updateQueue=null,_d.current=D_,t=r(n,i)}while(_c)}if(_d.current=Op,e=Gt!==null&&Gt.next!==null,xl=0,tr=Gt=Ct=null,Tp=!1,e)throw Error(ae(300));return t}function qw(){var t=lf!==0;return lf=0,t}function Ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Ct.memoizedState=tr=t:tr=tr.next=t,tr}function Un(){if(Gt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=tr===null?Ct.memoizedState:tr.next;if(e!==null)tr=e,Gt=t;else{if(t===null)throw Error(ae(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},tr===null?Ct.memoizedState=tr=t:tr=tr.next=t}return tr}function af(t,e){return typeof e=="function"?e(t):e}function Rv(t){var e=Un(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=Gt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var u=l=null,c=null,p=o;do{var g=p.lane;if((xl&g)===g)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:t(n,p.action);else{var v={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(u=c=v,l=n):c=c.next=v,Ct.lanes|=g,bl|=g}p=p.next}while(p!==null&&p!==o);c===null?l=n:c.next=u,gi(n,e.memoizedState)||(nn=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Ct.lanes|=o,bl|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Iv(t){var e=Un(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);gi(o,e.memoizedState)||(nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function LA(){}function PA(t,e){var r=Ct,n=Un(),i=e(),o=!gi(n.memoizedState,i);if(o&&(n.memoizedState=i,nn=!0),n=n.queue,Gw(RA.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,uf(9,DA.bind(null,r,n,i,e),void 0,null),nr===null)throw Error(ae(349));xl&30||NA(r,e,i)}return i}function NA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function DA(t,e,r,n){e.value=r,e.getSnapshot=n,IA(e)&&BA(t)}function RA(t,e,r){return r(function(){IA(e)&&BA(t)})}function IA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gi(t,r)}catch{return!0}}function BA(t){var e=mo(t,1);e!==null&&pi(e,t,1,-1)}function sC(t){var e=Ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},e.queue=t,t=t.dispatch=L_.bind(null,Ct,t),[e.memoizedState,t]}function uf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _A(){return Un().memoizedState}function Fd(t,e,r,n){var i=Ni();Ct.flags|=t,i.memoizedState=uf(1|e,r,void 0,n===void 0?null:n)}function xg(t,e,r,n){var i=Un();n=n===void 0?null:n;var o=void 0;if(Gt!==null){var l=Gt.memoizedState;if(o=l.destroy,n!==null&&Vw(n,l.deps)){i.memoizedState=uf(e,r,o,n);return}}Ct.flags|=t,i.memoizedState=uf(1|e,r,o,n)}function lC(t,e){return Fd(8390656,8,t,e)}function Gw(t,e){return xg(2048,8,t,e)}function FA(t,e){return xg(4,2,t,e)}function $A(t,e){return xg(4,4,t,e)}function zA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WA(t,e,r){return r=r!=null?r.concat([t]):null,xg(4,4,zA.bind(null,e,t),r)}function Yw(){}function jA(t,e){var r=Un();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function HA(t,e){var r=Un();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function UA(t,e,r){return xl&21?(gi(r,e)||(r=YE(),Ct.lanes|=r,bl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=r)}function A_(t,e){var r=nt;nt=r!==0&&4>r?r:4,t(!0);var n=Dv.transition;Dv.transition={};try{t(!1),e()}finally{nt=r,Dv.transition=n}}function VA(){return Un().memoizedState}function M_(t,e,r){var n=gs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KA(t))qA(e,r);else if(r=EA(t,e,r,n),r!==null){var i=jr();pi(r,t,n,i),GA(r,e,n)}}function L_(t,e,r){var n=gs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KA(t))qA(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,r);if(i.hasEagerState=!0,i.eagerState=u,gi(u,l)){var c=e.interleaved;c===null?(i.next=i,zw(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=EA(t,e,i,n),r!==null&&(i=jr(),pi(r,t,n,i),GA(r,e,n))}}function KA(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function qA(t,e){_c=Tp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function GA(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ow(t,r)}}var Op={readContext:Hn,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},P_={readContext:Hn,useCallback:function(t,e){return Ni().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:lC,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Fd(4194308,4,zA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fd(4,2,t,e)},useMemo:function(t,e){var r=Ni();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ni();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=M_.bind(null,Ct,t),[n.memoizedState,t]},useRef:function(t){var e=Ni();return t={current:t},e.memoizedState=t},useState:sC,useDebugValue:Yw,useDeferredValue:function(t){return Ni().memoizedState=t},useTransition:function(){var t=sC(!1),e=t[0];return t=A_.bind(null,t[1]),Ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ct,i=Ni();if(vt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),nr===null)throw Error(ae(349));xl&30||NA(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,lC(RA.bind(null,n,o,t),[t]),n.flags|=2048,uf(9,DA.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Ni(),e=nr.identifierPrefix;if(vt){var r=co,n=uo;r=(n&~(1<<32-di(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=lf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=E_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N_={readContext:Hn,useCallback:jA,useContext:Hn,useEffect:Gw,useImperativeHandle:WA,useInsertionEffect:FA,useLayoutEffect:$A,useMemo:HA,useReducer:Rv,useRef:_A,useState:function(){return Rv(af)},useDebugValue:Yw,useDeferredValue:function(t){var e=Un();return UA(e,Gt.memoizedState,t)},useTransition:function(){var t=Rv(af)[0],e=Un().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:PA,useId:VA,unstable_isNewReconciler:!1},D_={readContext:Hn,useCallback:jA,useContext:Hn,useEffect:Gw,useImperativeHandle:WA,useInsertionEffect:FA,useLayoutEffect:$A,useMemo:HA,useReducer:Iv,useRef:_A,useState:function(){return Iv(af)},useDebugValue:Yw,useDeferredValue:function(t){var e=Un();return Gt===null?e.memoizedState=t:UA(e,Gt.memoizedState,t)},useTransition:function(){var t=Iv(af)[0],e=Un().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:PA,useId:VA,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Oy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bg={isMounted:function(t){return(t=t._reactInternals)?Ml(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=jr(),i=gs(t),o=fo(n,i);o.payload=e,r!=null&&(o.callback=r),e=ds(t,o,i),e!==null&&(pi(e,t,i,n),Bd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=jr(),i=gs(t),o=fo(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=ds(t,o,i),e!==null&&(pi(e,t,i,n),Bd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=jr(),n=gs(t),i=fo(r,n);i.tag=2,e!=null&&(i.callback=e),e=ds(t,i,n),e!==null&&(pi(e,t,n,r),Bd(e,t,n))}};function aC(t,e,r,n,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,l):e.prototype&&e.prototype.isPureReactComponent?!ef(r,n)||!ef(i,o):!0}function YA(t,e,r){var n=!1,i=Ss,o=e.contextType;return typeof o=="object"&&o!==null?o=Hn(o):(i=an(e)?yl:Ar.current,n=e.contextTypes,o=(n=n!=null)?qa(t,i):Ss),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function uC(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bg.enqueueReplaceState(e,e.state,null)}function Ey(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Ww(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Hn(o):(o=an(e)?yl:Ar.current,i.context=qa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Oy(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bg.enqueueReplaceState(i,i.state,null),kp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var r="",n=e;do r+=lB(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Bv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ay(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var R_=typeof WeakMap=="function"?WeakMap:Map;function XA(t,e,r){r=fo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ap||(Ap=!0,Fy=n),Ay(t,e)},r}function QA(t,e,r){r=fo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ay(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Ay(t,e),typeof n!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function cC(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new R_;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=G_.bind(null,t,e,r),e.then(t,t))}function fC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hC(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fo(-1,1),e.tag=2,ds(r,e,1))),r.lanes|=1),t)}var I_=So.ReactCurrentOwner,nn=!1;function zr(t,e,r,n){e.child=t===null?OA(e,null,r,n):Ya(e,t.child,r,n)}function dC(t,e,r,n,i){r=r.render;var o=e.ref;return Fa(e,i),n=Kw(t,e,r,n,o,i),r=qw(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vo(t,e,i)):(vt&&r&&Rw(e),e.flags|=1,zr(t,e,n,i),e.child)}function pC(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!nx(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,JA(t,e,o,n,i)):(t=jd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:ef,r(l,n)&&t.ref===e.ref)return vo(t,e,i)}return e.flags|=1,t=ms(o,n),t.ref=e.ref,t.return=e,e.child=t}function JA(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(ef(o,n)&&t.ref===e.ref)if(nn=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,vo(t,e,i)}return My(t,e,r,n,i)}function ZA(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(La,mn),mn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(La,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ct(La,mn),mn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ct(La,mn),mn|=n;return zr(t,e,i,r),e.child}function eM(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function My(t,e,r,n,i){var o=an(r)?yl:Ar.current;return o=qa(e,o),Fa(e,i),r=Kw(t,e,r,n,o,i),n=qw(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vo(t,e,i)):(vt&&n&&Rw(e),e.flags|=1,zr(t,e,r,i),e.child)}function gC(t,e,r,n,i){if(an(r)){var o=!0;yp(e)}else o=!1;if(Fa(e,i),e.stateNode===null)$d(t,e),YA(e,r,n),Ey(e,r,n,i),n=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=Hn(p):(p=an(r)?yl:Ar.current,p=qa(e,p));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||c!==p)&&uC(e,l,n,p),Go=!1;var y=e.memoizedState;l.state=y,kp(e,n,l,i),c=e.memoizedState,u!==n||y!==c||ln.current||Go?(typeof g=="function"&&(Oy(e,r,g,n),c=e.memoizedState),(u=Go||aC(e,r,u,n,y,c,p))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=p,n=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,AA(t,e),u=e.memoizedProps,p=e.type===e.elementType?u:li(e.type,u),l.props=p,v=e.pendingProps,y=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=an(r)?yl:Ar.current,c=qa(e,c));var x=r.getDerivedStateFromProps;(g=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==v||y!==c)&&uC(e,l,n,c),Go=!1,y=e.memoizedState,l.state=y,kp(e,n,l,i);var T=e.memoizedState;u!==v||y!==T||ln.current||Go?(typeof x=="function"&&(Oy(e,r,x,n),T=e.memoizedState),(p=Go||aC(e,r,p,n,y,T,c)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,T,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,T,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=T),l.props=n,l.state=T,l.context=c,n=p):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return Ly(t,e,r,n,o,i)}function Ly(t,e,r,n,i,o){eM(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return i&&eC(e,r,!1),vo(t,e,o);n=e.stateNode,I_.current=e;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,u,o)):zr(t,e,u,o),e.memoizedState=n.state,i&&eC(e,r,!0),e.child}function tM(t){var e=t.stateNode;e.pendingContext?Zk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zk(t,e.context,!1),jw(t,e.containerInfo)}function mC(t,e,r,n,i){return Ga(),Bw(i),e.flags|=256,zr(t,e,r,n),e.child}var Py={dehydrated:null,treeContext:null,retryLane:0};function Ny(t){return{baseLanes:t,cachePool:null,transitions:null}}function rM(t,e,r){var n=e.pendingProps,i=kt.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(kt,i&1),t===null)return Cy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,o?(n=e.mode,o=e.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Cg(l,n,0,null),t=pl(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ny(r),e.memoizedState=Py,t):Xw(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return B_(t,e,l,n,u,i,r);if(o){o=n.fallback,l=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ms(i,c),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=ms(u,o):(o=pl(o,l,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,l=t.child.memoizedState,l=l===null?Ny(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~r,e.memoizedState=Py,n}return o=t.child,t=o.sibling,n=ms(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Xw(t,e){return e=Cg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gh(t,e,r,n){return n!==null&&Bw(n),Ya(e,t.child,null,r),t=Xw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B_(t,e,r,n,i,o,l){if(r)return e.flags&256?(e.flags&=-257,n=Bv(Error(ae(422))),Gh(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Cg({mode:"visible",children:n.children},i,0,null),o=pl(o,i,l,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Ya(e,t.child,null,l),e.child.memoizedState=Ny(l),e.memoizedState=Py,o);if(!(e.mode&1))return Gh(t,e,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,o=Error(ae(419)),n=Bv(o,n,void 0),Gh(t,e,l,n)}if(u=(l&t.childLanes)!==0,nn||u){if(n=nr,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mo(t,i),pi(n,t,i,-1))}return rx(),n=Bv(Error(ae(421))),Gh(t,e,l,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y_.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wn=hs(i.nextSibling),Sn=e,vt=!0,ci=null,t!==null&&(Rn[In++]=uo,Rn[In++]=co,Rn[In++]=wl,uo=t.id,co=t.overflow,wl=e),e=Xw(e,n.children),e.flags|=4096,e)}function vC(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ty(t.return,e,r)}function _v(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function nM(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(zr(t,e,n.children,r),n=kt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vC(t,r,e);else if(t.tag===19)vC(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ct(kt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Cp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),_v(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}_v(e,!0,r,null,o);break;case"together":_v(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),bl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=ms(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ms(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function __(t,e,r){switch(e.tag){case 3:tM(e),Ga();break;case 5:MA(e);break;case 1:an(e.type)&&yp(e);break;case 4:jw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ct(bp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ct(kt,kt.current&1),e.flags|=128,null):r&e.child.childLanes?rM(t,e,r):(ct(kt,kt.current&1),t=vo(t,e,r),t!==null?t.sibling:null);ct(kt,kt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nM(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(kt,kt.current),n)break;return null;case 22:case 23:return e.lanes=0,ZA(t,e,r)}return vo(t,e,r)}var iM,Dy,oM,sM;iM=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dy=function(){};oM=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ul(Wi.current);var o=null;switch(r){case"input":i=ty(t,i),n=ty(t,n),o=[];break;case"select":i=Tt({},i,{value:void 0}),n=Tt({},n,{value:void 0}),o=[];break;case"textarea":i=iy(t,i),n=iy(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mp)}sy(r,n);var l;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(qc.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in n){var c=n[p];if(u=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&c!==u&&(c!=null||u!=null))if(p==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(o||(o=[]),o.push(p,r)),r=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(qc.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&ht("scroll",t),o||u===c||(o=[])):(o=o||[]).push(p,c))}r&&(o=o||[]).push("style",r);var p=o;(e.updateQueue=p)&&(e.flags|=4)}};sM=function(t,e,r,n){r!==n&&(e.flags|=4)};function lc(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function F_(t,e,r){var n=e.pendingProps;switch(Iw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return an(e.type)&&vp(),kr(e),null;case 3:return n=e.stateNode,Xa(),pt(ln),pt(Ar),Uw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(Wy(ci),ci=null))),Dy(t,e),kr(e),null;case 5:Hw(e);var i=ul(sf.current);if(r=e.type,t!==null&&e.stateNode!=null)oM(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return kr(e),null}if(t=ul(Wi.current),Kh(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Ri]=e,n[nf]=o,t=(e.mode&1)!==0,r){case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":case"embed":ht("load",n);break;case"video":case"audio":for(i=0;i<kc.length;i++)ht(kc[i],n);break;case"source":ht("error",n);break;case"img":case"image":case"link":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"input":Ok(n,o),ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ht("invalid",n);break;case"textarea":Ak(n,o),ht("invalid",n)}sy(r,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?n.textContent!==u&&(o.suppressHydrationWarning!==!0&&Vh(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Vh(n.textContent,u,t),i=["children",""+u]):qc.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ht("scroll",n)}switch(r){case"input":_h(n),Ek(n,o,!0);break;case"textarea":_h(n),Mk(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=mp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[Ri]=e,t[nf]=n,iM(t,e,!1,!1),e.stateNode=t;e:{switch(l=ly(r,n),r){case"dialog":ht("cancel",t),ht("close",t),i=n;break;case"iframe":case"object":case"embed":ht("load",t),i=n;break;case"video":case"audio":for(i=0;i<kc.length;i++)ht(kc[i],t);i=n;break;case"source":ht("error",t),i=n;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=n;break;case"details":ht("toggle",t),i=n;break;case"input":Ok(t,n),i=ty(t,n),ht("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Tt({},n,{value:void 0}),ht("invalid",t);break;case"textarea":Ak(t,n),i=iy(t,n),ht("invalid",t);break;default:i=n}sy(r,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?_E(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IE(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gc(t,c):typeof c=="number"&&Gc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ht("scroll",t):c!=null&&xw(t,o,c,l))}switch(r){case"input":_h(t),Ek(t,n,!1);break;case"textarea":_h(t),Mk(t);break;case"option":n.value!=null&&t.setAttribute("value",""+bs(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Ra(t,!!n.multiple,o,!1):n.defaultValue!=null&&Ra(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kr(e),null;case 6:if(t&&e.stateNode!=null)sM(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(r=ul(sf.current),ul(Wi.current),Kh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ri]=e,(o=n.nodeValue!==r)&&(t=Sn,t!==null))switch(t.tag){case 3:Vh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vh(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ri]=e,e.stateNode=n}return kr(e),null;case 13:if(pt(kt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&wn!==null&&e.mode&1&&!(e.flags&128))CA(),Ga(),e.flags|=98560,o=!1;else if(o=Kh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(ae(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[Ri]=e}else Ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),o=!1}else ci!==null&&(Wy(ci),ci=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?Xt===0&&(Xt=3):rx())),e.updateQueue!==null&&(e.flags|=4),kr(e),null);case 4:return Xa(),Dy(t,e),t===null&&tf(e.stateNode.containerInfo),kr(e),null;case 10:return $w(e.type._context),kr(e),null;case 17:return an(e.type)&&vp(),kr(e),null;case 19:if(pt(kt),o=e.memoizedState,o===null)return kr(e),null;if(n=(e.flags&128)!==0,l=o.rendering,l===null)if(n)lc(o,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Cp(t),l!==null){for(e.flags|=128,lc(o,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ct(kt,kt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pt()>Ja&&(e.flags|=128,n=!0,lc(o,!1),e.lanes=4194304)}else{if(!n)if(t=Cp(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),lc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!vt)return kr(e),null}else 2*Pt()-o.renderingStartTime>Ja&&r!==1073741824&&(e.flags|=128,n=!0,lc(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(r=o.last,r!==null?r.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pt(),e.sibling=null,r=kt.current,ct(kt,n?r&1|2:r&1),e):(kr(e),null);case 22:case 23:return tx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mn&1073741824&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function $_(t,e){switch(Iw(e),e.tag){case 1:return an(e.type)&&vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),pt(ln),pt(Ar),Uw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hw(e),null;case 13:if(pt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(kt),null;case 4:return Xa(),null;case 10:return $w(e.type._context),null;case 22:case 23:return tx(),null;case 24:return null;default:return null}}var Yh=!1,Tr=!1,z_=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ma(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(t,e,n)}else r.current=null}function Ry(t,e,r){try{r()}catch(n){Et(t,e,n)}}var yC=!1;function W_(t,e){if(vy=dp,t=fA(),Dw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,u=-1,c=-1,p=0,g=0,v=t,y=null;t:for(;;){for(var x;v!==r||i!==0&&v.nodeType!==3||(u=l+i),v!==o||n!==0&&v.nodeType!==3||(c=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(x=v.firstChild)!==null;)y=v,v=x;for(;;){if(v===t)break t;if(y===r&&++p===i&&(u=l),y===o&&++g===n&&(c=l),(x=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=x}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(yy={focusedElem:t,selectionRange:r},dp=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var A=T.memoizedProps,P=T.memoizedState,C=e.stateNode,S=C.getSnapshotBeforeUpdate(e.elementType===e.type?A:li(e.type,A),P);C.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(N){Et(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return T=yC,yC=!1,T}function Fc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ry(e,r,o)}i=i.next}while(i!==n)}}function Sg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Iy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function lM(t){var e=t.alternate;e!==null&&(t.alternate=null,lM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ri],delete e[nf],delete e[by],delete e[k_],delete e[C_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aM(t){return t.tag===5||t.tag===3||t.tag===4}function wC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function By(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mp));else if(n!==4&&(t=t.child,t!==null))for(By(t,e,r),t=t.sibling;t!==null;)By(t,e,r),t=t.sibling}function _y(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_y(t,e,r),t=t.sibling;t!==null;)_y(t,e,r),t=t.sibling}var ur=null,ai=!1;function Vo(t,e,r){for(r=r.child;r!==null;)uM(t,e,r),r=r.sibling}function uM(t,e,r){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(pg,r)}catch{}switch(r.tag){case 5:Tr||Ma(r,e);case 6:var n=ur,i=ai;ur=null,Vo(t,e,r),ur=n,ai=i,ur!==null&&(ai?(t=ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(ai?(t=ur,r=r.stateNode,t.nodeType===8?Lv(t.parentNode,r):t.nodeType===1&&Lv(t,r),Jc(t)):Lv(ur,r.stateNode));break;case 4:n=ur,i=ai,ur=r.stateNode.containerInfo,ai=!0,Vo(t,e,r),ur=n,ai=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ry(r,e,l),i=i.next}while(i!==n)}Vo(t,e,r);break;case 1:if(!Tr&&(Ma(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Et(r,e,u)}Vo(t,e,r);break;case 21:Vo(t,e,r);break;case 22:r.mode&1?(Tr=(n=Tr)||r.memoizedState!==null,Vo(t,e,r),Tr=n):Vo(t,e,r);break;default:Vo(t,e,r)}}function xC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new z_),e.forEach(function(n){var i=X_.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function si(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ur=u.stateNode,ai=!1;break e;case 3:ur=u.stateNode.containerInfo,ai=!0;break e;case 4:ur=u.stateNode.containerInfo,ai=!0;break e}u=u.return}if(ur===null)throw Error(ae(160));uM(o,l,i),ur=null,ai=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(p){Et(i,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cM(e,t),e=e.sibling}function cM(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Oi(t),n&4){try{Fc(3,t,t.return),Sg(3,t)}catch(A){Et(t,t.return,A)}try{Fc(5,t,t.return)}catch(A){Et(t,t.return,A)}}break;case 1:si(e,t),Oi(t),n&512&&r!==null&&Ma(r,r.return);break;case 5:if(si(e,t),Oi(t),n&512&&r!==null&&Ma(r,r.return),t.flags&32){var i=t.stateNode;try{Gc(i,"")}catch(A){Et(t,t.return,A)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=r!==null?r.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&NE(i,o),ly(u,l);var p=ly(u,o);for(l=0;l<c.length;l+=2){var g=c[l],v=c[l+1];g==="style"?_E(i,v):g==="dangerouslySetInnerHTML"?IE(i,v):g==="children"?Gc(i,v):xw(i,g,v,p)}switch(u){case"input":ry(i,o);break;case"textarea":DE(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Ra(i,!!o.multiple,x,!1):y!==!!o.multiple&&(o.defaultValue!=null?Ra(i,!!o.multiple,o.defaultValue,!0):Ra(i,!!o.multiple,o.multiple?[]:"",!1))}i[nf]=o}catch(A){Et(t,t.return,A)}}break;case 6:if(si(e,t),Oi(t),n&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(A){Et(t,t.return,A)}}break;case 3:if(si(e,t),Oi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jc(e.containerInfo)}catch(A){Et(t,t.return,A)}break;case 4:si(e,t),Oi(t);break;case 13:si(e,t),Oi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zw=Pt())),n&4&&xC(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(Tr=(p=Tr)||g,si(e,t),Tr=p):si(e,t),Oi(t),n&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(Se=t,g=t.child;g!==null;){for(v=Se=g;Se!==null;){switch(y=Se,x=y.child,y.tag){case 0:case 11:case 14:case 15:Fc(4,y,y.return);break;case 1:Ma(y,y.return);var T=y.stateNode;if(typeof T.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(A){Et(n,r,A)}}break;case 5:Ma(y,y.return);break;case 22:if(y.memoizedState!==null){SC(v);continue}}x!==null?(x.return=y,Se=x):SC(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,p?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=v.stateNode,c=v.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=BE("display",l))}catch(A){Et(t,t.return,A)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(A){Et(t,t.return,A)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:si(e,t),Oi(t),n&4&&xC(t);break;case 21:break;default:si(e,t),Oi(t)}}function Oi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(aM(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Gc(i,""),n.flags&=-33);var o=wC(t);_y(t,o,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=wC(t);By(t,u,l);break;default:throw Error(ae(161))}}catch(c){Et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j_(t,e,r){Se=t,fM(t)}function fM(t,e,r){for(var n=(t.mode&1)!==0;Se!==null;){var i=Se,o=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Yh;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Tr;u=Yh;var p=Tr;if(Yh=l,(Tr=c)&&!p)for(Se=i;Se!==null;)l=Se,c=l.child,l.tag===22&&l.memoizedState!==null?kC(i):c!==null?(c.return=l,Se=c):kC(i);for(;o!==null;)Se=o,fM(o),o=o.sibling;Se=i,Yh=u,Tr=p}bC(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Se=o):bC(t)}}function bC(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tr||Sg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:li(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&oC(e,o,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}oC(e,l,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&Jc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Tr||e.flags&512&&Iy(e)}catch(y){Et(e,e.return,y)}}if(e===t){Se=null;break}if(r=e.sibling,r!==null){r.return=e.return,Se=r;break}Se=e.return}}function SC(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Se=r;break}Se=e.return}}function kC(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sg(4,e)}catch(c){Et(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Et(e,i,c)}}var o=e.return;try{Iy(e)}catch(c){Et(e,o,c)}break;case 5:var l=e.return;try{Iy(e)}catch(c){Et(e,l,c)}}}catch(c){Et(e,e.return,c)}if(e===t){Se=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Se=u;break}Se=e.return}}var H_=Math.ceil,Ep=So.ReactCurrentDispatcher,Qw=So.ReactCurrentOwner,zn=So.ReactCurrentBatchConfig,Je=0,nr=null,Ft=null,mr=0,mn=0,La=Ps(0),Xt=0,cf=null,bl=0,kg=0,Jw=0,$c=null,Zr=null,Zw=0,Ja=1/0,so=null,Ap=!1,Fy=null,ps=null,Xh=!1,ns=null,Mp=0,zc=0,$y=null,zd=-1,Wd=0;function jr(){return Je&6?Pt():zd!==-1?zd:zd=Pt()}function gs(t){return t.mode&1?Je&2&&mr!==0?mr&-mr:O_.transition!==null?(Wd===0&&(Wd=YE()),Wd):(t=nt,t!==0||(t=window.event,t=t===void 0?16:rA(t.type)),t):1}function pi(t,e,r,n){if(50<zc)throw zc=0,$y=null,Error(ae(185));Pf(t,r,n),(!(Je&2)||t!==nr)&&(t===nr&&(!(Je&2)&&(kg|=r),Xt===4&&Jo(t,mr)),un(t,n),r===1&&Je===0&&!(e.mode&1)&&(Ja=Pt()+500,wg&&Ns()))}function un(t,e){var r=t.callbackNode;OB(t,e);var n=hp(t,t===nr?mr:0);if(n===0)r!==null&&Nk(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Nk(r),e===1)t.tag===0?T_(CC.bind(null,t)):bA(CC.bind(null,t)),b_(function(){!(Je&6)&&Ns()}),r=null;else{switch(XE(n)){case 1:r=Tw;break;case 4:r=qE;break;case 16:r=fp;break;case 536870912:r=GE;break;default:r=fp}r=wM(r,hM.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function hM(t,e){if(zd=-1,Wd=0,Je&6)throw Error(ae(327));var r=t.callbackNode;if($a()&&t.callbackNode!==r)return null;var n=hp(t,t===nr?mr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lp(t,n);else{e=n;var i=Je;Je|=2;var o=pM();(nr!==t||mr!==e)&&(so=null,Ja=Pt()+500,dl(t,e));do try{K_();break}catch(u){dM(t,u)}while(!0);Fw(),Ep.current=o,Je=i,Ft!==null?e=0:(nr=null,mr=0,e=Xt)}if(e!==0){if(e===2&&(i=hy(t),i!==0&&(n=i,e=zy(t,i))),e===1)throw r=cf,dl(t,0),Jo(t,n),un(t,Pt()),r;if(e===6)Jo(t,n);else{if(i=t.current.alternate,!(n&30)&&!U_(i)&&(e=Lp(t,n),e===2&&(o=hy(t),o!==0&&(n=o,e=zy(t,o))),e===1))throw r=cf,dl(t,0),Jo(t,n),un(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ae(345));case 2:nl(t,Zr,so);break;case 3:if(Jo(t,n),(n&130023424)===n&&(e=Zw+500-Pt(),10<e)){if(hp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xy(nl.bind(null,t,Zr,so),e);break}nl(t,Zr,so);break;case 4:if(Jo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var l=31-di(n);o=1<<l,l=e[l],l>i&&(i=l),n&=~o}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*H_(n/1960))-n,10<n){t.timeoutHandle=xy(nl.bind(null,t,Zr,so),n);break}nl(t,Zr,so);break;case 5:nl(t,Zr,so);break;default:throw Error(ae(329))}}}return un(t,Pt()),t.callbackNode===r?hM.bind(null,t):null}function zy(t,e){var r=$c;return t.current.memoizedState.isDehydrated&&(dl(t,e).flags|=256),t=Lp(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&Wy(e)),t}function Wy(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function U_(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!gi(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jo(t,e){for(e&=~Jw,e&=~kg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-di(e),n=1<<r;t[r]=-1,e&=~n}}function CC(t){if(Je&6)throw Error(ae(327));$a();var e=hp(t,0);if(!(e&1))return un(t,Pt()),null;var r=Lp(t,e);if(t.tag!==0&&r===2){var n=hy(t);n!==0&&(e=n,r=zy(t,n))}if(r===1)throw r=cf,dl(t,0),Jo(t,e),un(t,Pt()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nl(t,Zr,so),un(t,Pt()),null}function ex(t,e){var r=Je;Je|=1;try{return t(e)}finally{Je=r,Je===0&&(Ja=Pt()+500,wg&&Ns())}}function Sl(t){ns!==null&&ns.tag===0&&!(Je&6)&&$a();var e=Je;Je|=1;var r=zn.transition,n=nt;try{if(zn.transition=null,nt=1,t)return t()}finally{nt=n,zn.transition=r,Je=e,!(Je&6)&&Ns()}}function tx(){mn=La.current,pt(La)}function dl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,x_(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(Iw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vp();break;case 3:Xa(),pt(ln),pt(Ar),Uw();break;case 5:Hw(n);break;case 4:Xa();break;case 13:pt(kt);break;case 19:pt(kt);break;case 10:$w(n.type._context);break;case 22:case 23:tx()}r=r.return}if(nr=t,Ft=t=ms(t.current,null),mr=mn=e,Xt=0,cf=null,Jw=kg=bl=0,Zr=$c=null,al!==null){for(e=0;e<al.length;e++)if(r=al[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=i,n.next=l}r.pending=n}al=null}return t}function dM(t,e){do{var r=Ft;try{if(Fw(),_d.current=Op,Tp){for(var n=Ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tp=!1}if(xl=0,tr=Gt=Ct=null,_c=!1,lf=0,Qw.current=null,r===null||r.return===null){Xt=1,cf=e,Ft=null;break}e:{var o=t,l=r.return,u=r,c=e;if(e=mr,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,g=u,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=fC(l);if(x!==null){x.flags&=-257,hC(x,l,u,o,e),x.mode&1&&cC(o,p,e),e=x,c=p;var T=e.updateQueue;if(T===null){var A=new Set;A.add(c),e.updateQueue=A}else T.add(c);break e}else{if(!(e&1)){cC(o,p,e),rx();break e}c=Error(ae(426))}}else if(vt&&u.mode&1){var P=fC(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),hC(P,l,u,o,e),Bw(Qa(c,u));break e}}o=c=Qa(c,u),Xt!==4&&(Xt=2),$c===null?$c=[o]:$c.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var C=XA(o,c,e);iC(o,C);break e;case 1:u=c;var S=o.type,M=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ps===null||!ps.has(M)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=QA(o,u,e);iC(o,N);break e}}o=o.return}while(o!==null)}mM(r)}catch(D){e=D,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function pM(){var t=Ep.current;return Ep.current=Op,t===null?Op:t}function rx(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),nr===null||!(bl&268435455)&&!(kg&268435455)||Jo(nr,mr)}function Lp(t,e){var r=Je;Je|=2;var n=pM();(nr!==t||mr!==e)&&(so=null,dl(t,e));do try{V_();break}catch(i){dM(t,i)}while(!0);if(Fw(),Je=r,Ep.current=n,Ft!==null)throw Error(ae(261));return nr=null,mr=0,Xt}function V_(){for(;Ft!==null;)gM(Ft)}function K_(){for(;Ft!==null&&!vB();)gM(Ft)}function gM(t){var e=yM(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?mM(t):Ft=e,Qw.current=null}function mM(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$_(r,e),r!==null){r.flags&=32767,Ft=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Ft=null;return}}else if(r=F_(r,e,mn),r!==null){Ft=r;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);Xt===0&&(Xt=5)}function nl(t,e,r){var n=nt,i=zn.transition;try{zn.transition=null,nt=1,q_(t,e,r,n)}finally{zn.transition=i,nt=n}return null}function q_(t,e,r,n){do $a();while(ns!==null);if(Je&6)throw Error(ae(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(EB(t,o),t===nr&&(Ft=nr=null,mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xh||(Xh=!0,wM(fp,function(){return $a(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var l=nt;nt=1;var u=Je;Je|=4,Qw.current=null,W_(t,r),cM(r,t),d_(yy),dp=!!vy,yy=vy=null,t.current=r,j_(r),yB(),Je=u,nt=l,zn.transition=o}else t.current=r;if(Xh&&(Xh=!1,ns=t,Mp=i),o=t.pendingLanes,o===0&&(ps=null),bB(r.stateNode),un(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ap)throw Ap=!1,t=Fy,Fy=null,t;return Mp&1&&t.tag!==0&&$a(),o=t.pendingLanes,o&1?t===$y?zc++:(zc=0,$y=t):zc=0,Ns(),null}function $a(){if(ns!==null){var t=XE(Mp),e=zn.transition,r=nt;try{if(zn.transition=null,nt=16>t?16:t,ns===null)var n=!1;else{if(t=ns,ns=null,Mp=0,Je&6)throw Error(ae(331));var i=Je;for(Je|=4,Se=t.current;Se!==null;){var o=Se,l=o.child;if(Se.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var p=u[c];for(Se=p;Se!==null;){var g=Se;switch(g.tag){case 0:case 11:case 15:Fc(8,g,o)}var v=g.child;if(v!==null)v.return=g,Se=v;else for(;Se!==null;){g=Se;var y=g.sibling,x=g.return;if(lM(g),g===p){Se=null;break}if(y!==null){y.return=x,Se=y;break}Se=x}}}var T=o.alternate;if(T!==null){var A=T.child;if(A!==null){T.child=null;do{var P=A.sibling;A.sibling=null,A=P}while(A!==null)}}Se=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Se=l;else e:for(;Se!==null;){if(o=Se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fc(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,Se=C;break e}Se=o.return}}var S=t.current;for(Se=S;Se!==null;){l=Se;var M=l.child;if(l.subtreeFlags&2064&&M!==null)M.return=l,Se=M;else e:for(l=S;Se!==null;){if(u=Se,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Sg(9,u)}}catch(D){Et(u,u.return,D)}if(u===l){Se=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,Se=N;break e}Se=u.return}}if(Je=i,Ns(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(pg,t)}catch{}n=!0}return n}finally{nt=r,zn.transition=e}}return!1}function TC(t,e,r){e=Qa(r,e),e=XA(t,e,1),t=ds(t,e,1),e=jr(),t!==null&&(Pf(t,1,e),un(t,e))}function Et(t,e,r){if(t.tag===3)TC(t,t,r);else for(;e!==null;){if(e.tag===3){TC(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ps===null||!ps.has(n))){t=Qa(r,t),t=QA(e,t,1),e=ds(e,t,1),t=jr(),e!==null&&(Pf(e,1,t),un(e,t));break}}e=e.return}}function G_(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=jr(),t.pingedLanes|=t.suspendedLanes&r,nr===t&&(mr&r)===r&&(Xt===4||Xt===3&&(mr&130023424)===mr&&500>Pt()-Zw?dl(t,0):Jw|=r),un(t,e)}function vM(t,e){e===0&&(t.mode&1?(e=zh,zh<<=1,!(zh&130023424)&&(zh=4194304)):e=1);var r=jr();t=mo(t,e),t!==null&&(Pf(t,e,r),un(t,r))}function Y_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),vM(t,r)}function X_(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(e),vM(t,r)}var yM;yM=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)nn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return nn=!1,__(t,e,r);nn=!!(t.flags&131072)}else nn=!1,vt&&e.flags&1048576&&SA(e,xp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$d(t,e),t=e.pendingProps;var i=qa(e,Ar.current);Fa(e,r),i=Kw(null,e,n,t,i,r);var o=qw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(o=!0,yp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ww(e),i.updater=bg,e.stateNode=i,i._reactInternals=e,Ey(e,n,t,r),e=Ly(null,e,n,!0,o,r)):(e.tag=0,vt&&o&&Rw(e),zr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch($d(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=J_(n),t=li(n,t),i){case 0:e=My(null,e,n,t,r);break e;case 1:e=gC(null,e,n,t,r);break e;case 11:e=dC(null,e,n,t,r);break e;case 14:e=pC(null,e,n,li(n.type,t),r);break e}throw Error(ae(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),My(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),gC(t,e,n,i,r);case 3:e:{if(tM(e),t===null)throw Error(ae(387));n=e.pendingProps,o=e.memoizedState,i=o.element,AA(t,e),kp(e,n,null,r);var l=e.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qa(Error(ae(423)),e),e=mC(t,e,n,r,i);break e}else if(n!==i){i=Qa(Error(ae(424)),e),e=mC(t,e,n,r,i);break e}else for(wn=hs(e.stateNode.containerInfo.firstChild),Sn=e,vt=!0,ci=null,r=OA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ga(),n===i){e=vo(t,e,r);break e}zr(t,e,n,r)}e=e.child}return e;case 5:return MA(e),t===null&&Cy(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,wy(n,i)?l=null:o!==null&&wy(n,o)&&(e.flags|=32),eM(t,e),zr(t,e,l,r),e.child;case 6:return t===null&&Cy(e),null;case 13:return rM(t,e,r);case 4:return jw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ya(e,null,n,r):zr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),dC(t,e,n,i,r);case 7:return zr(t,e,e.pendingProps,r),e.child;case 8:return zr(t,e,e.pendingProps.children,r),e.child;case 12:return zr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,ct(bp,n._currentValue),n._currentValue=l,o!==null)if(gi(o.value,l)){if(o.children===i.children&&!ln.current){e=vo(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var c=u.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=fo(-1,r&-r),c.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?c.next=c:(c.next=g.next,g.next=c),p.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Ty(o.return,r,e),u.lanes|=r;break}c=c.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(ae(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),Ty(l,r,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}zr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Fa(e,r),i=Hn(i),n=n(i),e.flags|=1,zr(t,e,n,r),e.child;case 14:return n=e.type,i=li(n,e.pendingProps),i=li(n.type,i),pC(t,e,n,i,r);case 15:return JA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),$d(t,e),e.tag=1,an(n)?(t=!0,yp(e)):t=!1,Fa(e,r),YA(e,n,i),Ey(e,n,i,r),Ly(null,e,n,!0,t,r);case 19:return nM(t,e,r);case 22:return ZA(t,e,r)}throw Error(ae(156,e.tag))};function wM(t,e){return KE(t,e)}function Q_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,r,n){return new Q_(t,e,r,n)}function nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J_(t){if(typeof t=="function")return nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sw)return 11;if(t===kw)return 14}return 2}function ms(t,e){var r=t.alternate;return r===null?(r=Fn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function jd(t,e,r,n,i,o){var l=2;if(n=t,typeof t=="function")nx(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case xa:return pl(r.children,i,o,e);case bw:l=8,i|=8;break;case Q0:return t=Fn(12,r,e,i|2),t.elementType=Q0,t.lanes=o,t;case J0:return t=Fn(13,r,e,i),t.elementType=J0,t.lanes=o,t;case Z0:return t=Fn(19,r,e,i),t.elementType=Z0,t.lanes=o,t;case ME:return Cg(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EE:l=10;break e;case AE:l=9;break e;case Sw:l=11;break e;case kw:l=14;break e;case qo:l=16,n=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Fn(l,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function pl(t,e,r,n){return t=Fn(7,t,n,e),t.lanes=r,t}function Cg(t,e,r,n){return t=Fn(22,t,n,e),t.elementType=ME,t.lanes=r,t.stateNode={isHidden:!1},t}function Fv(t,e,r){return t=Fn(6,t,null,e),t.lanes=r,t}function $v(t,e,r){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z_(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wv(0),this.expirationTimes=wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ix(t,e,r,n,i,o,l,u,c){return t=new Z_(t,e,r,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Fn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ww(o),t}function eF(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function xM(t){if(!t)return Ss;t=t._reactInternals;e:{if(Ml(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(an(r))return xA(t,r,e)}return e}function bM(t,e,r,n,i,o,l,u,c){return t=ix(r,n,!0,t,i,o,l,u,c),t.context=xM(null),r=t.current,n=jr(),i=gs(r),o=fo(n,i),o.callback=e??null,ds(r,o,i),t.current.lanes=i,Pf(t,i,n),un(t,n),t}function Tg(t,e,r,n){var i=e.current,o=jr(),l=gs(i);return r=xM(r),e.context===null?e.context=r:e.pendingContext=r,e=fo(o,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ds(i,e,l),t!==null&&(pi(t,i,l,o),Bd(t,i,l)),l}function Pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ox(t,e){OC(t,e),(t=t.alternate)&&OC(t,e)}function tF(){return null}var SM=typeof reportError=="function"?reportError:function(t){console.error(t)};function sx(t){this._internalRoot=t}Og.prototype.render=sx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Tg(t,e,null,null)};Og.prototype.unmount=sx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sl(function(){Tg(null,t,null,null)}),e[go]=null}};function Og(t){this._internalRoot=t}Og.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Qo.length&&e!==0&&e<Qo[r].priority;r++);Qo.splice(r,0,t),r===0&&tA(t)}};function lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function EC(){}function rF(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var p=Pp(l);o.call(p)}}var l=bM(e,n,t,0,null,!1,!1,"",EC);return t._reactRootContainer=l,t[go]=l.current,tf(t.nodeType===8?t.parentNode:t),Sl(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var p=Pp(c);u.call(p)}}var c=ix(t,0,!1,null,null,!1,!1,"",EC);return t._reactRootContainer=c,t[go]=c.current,tf(t.nodeType===8?t.parentNode:t),Sl(function(){Tg(e,c,r,n)}),c}function Ag(t,e,r,n,i){var o=r._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var u=i;i=function(){var c=Pp(l);u.call(c)}}Tg(e,l,t,i)}else l=rF(r,e,t,i,n);return Pp(l)}QE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sc(e.pendingLanes);r!==0&&(Ow(e,r|1),un(e,Pt()),!(Je&6)&&(Ja=Pt()+500,Ns()))}break;case 13:Sl(function(){var n=mo(t,1);if(n!==null){var i=jr();pi(n,t,1,i)}}),ox(t,1)}};Ew=function(t){if(t.tag===13){var e=mo(t,134217728);if(e!==null){var r=jr();pi(e,t,134217728,r)}ox(t,134217728)}};JE=function(t){if(t.tag===13){var e=gs(t),r=mo(t,e);if(r!==null){var n=jr();pi(r,t,e,n)}ox(t,e)}};ZE=function(){return nt};eA=function(t,e){var r=nt;try{return nt=t,e()}finally{nt=r}};uy=function(t,e,r){switch(e){case"input":if(ry(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=yg(n);if(!i)throw Error(ae(90));PE(n),ry(n,i)}}}break;case"textarea":DE(t,r);break;case"select":e=r.value,e!=null&&Ra(t,!!r.multiple,e,!1)}};zE=ex;WE=Sl;var nF={usingClientEntryPoint:!1,Events:[Df,Ca,yg,FE,$E,ex]},ac={findFiberByHostInstance:ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iF={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UE(t),t===null?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||tF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{pg=Qh.inject(iF),zi=Qh}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nF;Cn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lx(e))throw Error(ae(200));return eF(t,e,null,r)};Cn.createRoot=function(t,e){if(!lx(t))throw Error(ae(299));var r=!1,n="",i=SM;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ix(t,1,!1,null,null,r,!1,n,i),t[go]=e.current,tf(t.nodeType===8?t.parentNode:t),new sx(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=UE(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Sl(t)};Cn.hydrate=function(t,e,r){if(!Eg(e))throw Error(ae(200));return Ag(null,t,e,!0,r)};Cn.hydrateRoot=function(t,e,r){if(!lx(t))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",l=SM;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=bM(e,null,t,1,r??null,i,!1,o,l),t[go]=e.current,tf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Og(e)};Cn.render=function(t,e,r){if(!Eg(e))throw Error(ae(200));return Ag(null,t,e,!1,r)};Cn.unmountComponentAtNode=function(t){if(!Eg(t))throw Error(ae(40));return t._reactRootContainer?(Sl(function(){Ag(null,null,t,!1,function(){t._reactRootContainer=null,t[go]=null})}),!0):!1};Cn.unstable_batchedUpdates=ex;Cn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Eg(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Ag(t,e,r,!1,n)};Cn.version="18.3.1-next-f1338f8080-20240426";function kM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kM)}catch(t){console.error(t)}}kM(),kE.exports=Cn;var oF=kE.exports,AC=oF;Y0.createRoot=AC.createRoot,Y0.hydrateRoot=AC.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ff.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const MC="popstate";function sF(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:l,hash:u}=n.location;return jy("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Np(i)}return aF(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lF(){return Math.random().toString(36).substr(2,8)}function LC(t,e){return{usr:t.state,key:t.key,idx:e}}function jy(t,e,r,n){return r===void 0&&(r=null),ff({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pu(e):e,{state:r,key:e&&e.key||n||lF()})}function Np(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function pu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function aF(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,u=is.Pop,c=null,p=g();p==null&&(p=0,l.replaceState(ff({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function v(){u=is.Pop;let P=g(),C=P==null?null:P-p;p=P,c&&c({action:u,location:A.location,delta:C})}function y(P,C){u=is.Push;let S=jy(A.location,P,C);p=g()+1;let M=LC(S,p),N=A.createHref(S);try{l.pushState(M,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(N)}o&&c&&c({action:u,location:A.location,delta:1})}function x(P,C){u=is.Replace;let S=jy(A.location,P,C);p=g();let M=LC(S,p),N=A.createHref(S);l.replaceState(M,"",N),o&&c&&c({action:u,location:A.location,delta:0})}function T(P){let C=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof P=="string"?P:Np(P);return S=S.replace(/ $/,"%20"),Nt(C,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,C)}let A={get action(){return u},get location(){return t(i,l)},listen(P){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(MC,v),c=P,()=>{i.removeEventListener(MC,v),c=null}},createHref(P){return e(i,P)},createURL:T,encodeLocation(P){let C=T(P);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(P){return l.go(P)}};return A}var PC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PC||(PC={}));function uF(t,e,r){return r===void 0&&(r="/"),cF(t,e,r,!1)}function cF(t,e,r,n){let i=typeof e=="string"?pu(e):e,o=ax(i.pathname||"/",r);if(o==null)return null;let l=TM(t);fF(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let p=SF(o);u=xF(l[c],p,n)}return u}function TM(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let p=vs([n,c.relativePath]),g=r.concat(c);o.children&&o.children.length>0&&(Nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),TM(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:yF(p,o.index),routesMeta:g})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of OM(o.path))i(o,l,c)}),e}function OM(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=OM(n.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function fF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:wF(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hF=/^:[\w-]+$/,dF=3,pF=2,gF=1,mF=10,vF=-2,NC=t=>t==="*";function yF(t,e){let r=t.split("/"),n=r.length;return r.some(NC)&&(n+=vF),e&&(n+=pF),r.filter(i=>!NC(i)).reduce((i,o)=>i+(hF.test(o)?dF:o===""?gF:mF),n)}function wF(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function xF(t,e,r){let{routesMeta:n}=t,i={},o="/",l=[];for(let u=0;u<n.length;++u){let c=n[u],p=u===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=DC({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},g),y=c.route;if(!v&&p&&r&&!n[n.length-1].route.index&&(v=DC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:vs([o,v.pathname]),pathnameBase:OF(vs([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=vs([o,v.pathnameBase]))}return l}function DC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=bF(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,g,v)=>{let{paramName:y,isOptional:x}=g;if(y==="*"){let A=u[v]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=u[v];return x&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function bF(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),CM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function SF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ax(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function kF(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?pu(t):t;return{pathname:r?r.startsWith("/")?r:CF(r,e):e,search:EF(n),hash:AF(i)}}function CF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function zv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TF(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ux(t,e){let r=TF(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cx(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=pu(t):(i=ff({},t),Nt(!i.pathname||!i.pathname.includes("?"),zv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),zv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),zv("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=r;else{let v=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?e[v]:"/"}let c=kF(i,u),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(p||g)&&(c.pathname+="/"),c}const vs=t=>t.join("/").replace(/\/\/+/g,"/"),OF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EM=["post","put","patch","delete"];new Set(EM);const LF=["get",...EM];new Set(LF);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}const fx=re.createContext(null),PF=re.createContext(null),Ds=re.createContext(null),Mg=re.createContext(null),ko=re.createContext({outlet:null,matches:[],isDataRoute:!1}),AM=re.createContext(null);function NF(t,e){let{relative:r}=e===void 0?{}:e;gu()||Nt(!1);let{basename:n,navigator:i}=re.useContext(Ds),{hash:o,pathname:l,search:u}=LM(t,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:vs([n,l])),i.createHref({pathname:c,search:u,hash:o})}function gu(){return re.useContext(Mg)!=null}function mu(){return gu()||Nt(!1),re.useContext(Mg).location}function MM(t){re.useContext(Ds).static||re.useLayoutEffect(t)}function Lg(){let{isDataRoute:t}=re.useContext(ko);return t?KF():DF()}function DF(){gu()||Nt(!1);let t=re.useContext(fx),{basename:e,future:r,navigator:n}=re.useContext(Ds),{matches:i}=re.useContext(ko),{pathname:o}=mu(),l=JSON.stringify(ux(i,r.v7_relativeSplatPath)),u=re.useRef(!1);return MM(()=>{u.current=!0}),re.useCallback(function(p,g){if(g===void 0&&(g={}),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=cx(p,JSON.parse(l),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:vs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,o,t])}function RF(){let{matches:t}=re.useContext(ko),e=t[t.length-1];return e?e.params:{}}function LM(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=re.useContext(Ds),{matches:i}=re.useContext(ko),{pathname:o}=mu(),l=JSON.stringify(ux(i,n.v7_relativeSplatPath));return re.useMemo(()=>cx(t,JSON.parse(l),o,r==="path"),[t,l,o,r])}function IF(t,e){return BF(t,e)}function BF(t,e,r,n){gu()||Nt(!1);let{navigator:i}=re.useContext(Ds),{matches:o}=re.useContext(ko),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let p=mu(),g;if(e){var v;let P=typeof e=="string"?pu(e):e;c==="/"||(v=P.pathname)!=null&&v.startsWith(c)||Nt(!1),g=P}else g=p;let y=g.pathname||"/",x=y;if(c!=="/"){let P=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=uF(t,{pathname:x}),A=WF(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:vs([c,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:vs([c,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,r,n);return e&&A?re.createElement(Mg.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:is.Pop}},A):A}function _F(){let t=VF(),e=MF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),r?re.createElement("pre",{style:i},r):null,null)}const FF=re.createElement(_F,null);class $F extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?re.createElement(ko.Provider,{value:this.props.routeContext},re.createElement(AM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zF(t){let{routeContext:e,match:r,children:n}=t,i=re.useContext(fx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),re.createElement(ko.Provider,{value:e},n)}function WF(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if((o=r)!=null&&o.errors)t=r.matches;else return null}let l=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);g>=0||Nt(!1),l=l.slice(0,Math.min(l.length,g+1))}let c=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:y,errors:x}=r,T=v.route.loader&&y[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||T){c=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,v,y)=>{let x,T=!1,A=null,P=null;r&&(x=u&&v.route.id?u[v.route.id]:void 0,A=v.route.errorElement||FF,c&&(p<0&&y===0?(T=!0,P=null):p===y&&(T=!0,P=v.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,y+1)),S=()=>{let M;return x?M=A:T?M=P:v.route.Component?M=re.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=g,re.createElement(zF,{match:v,routeContext:{outlet:g,matches:C,isDataRoute:r!=null},children:M})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?re.createElement($F,{location:r.location,revalidation:r.revalidation,component:A,error:x,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}var PM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PM||{}),Dp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dp||{});function jF(t){let e=re.useContext(fx);return e||Nt(!1),e}function HF(t){let e=re.useContext(PF);return e||Nt(!1),e}function UF(t){let e=re.useContext(ko);return e||Nt(!1),e}function NM(t){let e=UF(),r=e.matches[e.matches.length-1];return r.route.id||Nt(!1),r.route.id}function VF(){var t;let e=re.useContext(AM),r=HF(Dp.UseRouteError),n=NM(Dp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function KF(){let{router:t}=jF(PM.UseNavigateStable),e=NM(Dp.UseNavigateStable),r=re.useRef(!1);return MM(()=>{r.current=!0}),re.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hf({fromRouteId:e},o)))},[t,e])}function qF(t){let{to:e,replace:r,state:n,relative:i}=t;gu()||Nt(!1);let{future:o,static:l}=re.useContext(Ds),{matches:u}=re.useContext(ko),{pathname:c}=mu(),p=Lg(),g=cx(e,ux(u,o.v7_relativeSplatPath),c,i==="path"),v=JSON.stringify(g);return re.useEffect(()=>p(JSON.parse(v),{replace:r,state:n,relative:i}),[p,v,i,r,n]),null}function Hd(t){Nt(!1)}function GF(t){let{basename:e="/",children:r=null,location:n,navigationType:i=is.Pop,navigator:o,static:l=!1,future:u}=t;gu()&&Nt(!1);let c=e.replace(/^\/*/,"/"),p=re.useMemo(()=>({basename:c,navigator:o,static:l,future:hf({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);typeof n=="string"&&(n=pu(n));let{pathname:g="/",search:v="",hash:y="",state:x=null,key:T="default"}=n,A=re.useMemo(()=>{let P=ax(g,c);return P==null?null:{location:{pathname:P,search:v,hash:y,state:x,key:T},navigationType:i}},[c,g,v,y,x,T,i]);return A==null?null:re.createElement(Ds.Provider,{value:p},re.createElement(Mg.Provider,{children:r,value:A}))}function YF(t){let{children:e,location:r}=t;return IF(Hy(e),r)}new Promise(()=>{});function Hy(t,e){e===void 0&&(e=[]);let r=[];return re.Children.forEach(t,(n,i)=>{if(!re.isValidElement(n))return;let o=[...e,i];if(n.type===re.Fragment){r.push.apply(r,Hy(n.props.children,o));return}n.type!==Hd&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Hy(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uy.apply(this,arguments)}function XF(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function QF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JF(t,e){return t.button===0&&(!e||e==="_self")&&!QF(t)}const ZF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],e4="6";try{window.__reactRouterVersion=e4}catch{}const t4="startTransition",RC=G3[t4];function r4(t){let{basename:e,children:r,future:n,window:i}=t,o=re.useRef();o.current==null&&(o.current=sF({window:i,v5Compat:!0}));let l=o.current,[u,c]=re.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},g=re.useCallback(v=>{p&&RC?RC(()=>c(v)):c(v)},[c,p]);return re.useLayoutEffect(()=>l.listen(g),[l,g]),re.createElement(GF,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const n4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=re.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:o,replace:l,state:u,target:c,to:p,preventScrollReset:g,unstable_viewTransition:v}=e,y=XF(e,ZF),{basename:x}=re.useContext(Ds),T,A=!1;if(typeof p=="string"&&i4.test(p)&&(T=p,n4))try{let M=new URL(window.location.href),N=p.startsWith("//")?new URL(M.protocol+p):new URL(p),D=ax(N.pathname,x);N.origin===M.origin&&D!=null?p=D+N.search+N.hash:A=!0}catch{}let P=NF(p,{relative:i}),C=o4(p,{replace:l,state:u,target:c,preventScrollReset:g,relative:i,unstable_viewTransition:v});function S(M){n&&n(M),M.defaultPrevented||C(M)}return re.createElement("a",Uy({},y,{href:T||P,onClick:A||o?n:S,ref:r,target:c}))});var IC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IC||(IC={}));var BC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BC||(BC={}));function o4(t,e){let{target:r,replace:n,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:u}=e===void 0?{}:e,c=Lg(),p=mu(),g=LM(t,{relative:l});return re.useCallback(v=>{if(JF(v,r)){v.preventDefault();let y=n!==void 0?n:Np(p)===Np(g);c(t,{replace:y,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:u})}},[p,c,g,n,i,r,t,o,l,u])}var ar=[];for(var Wv=0;Wv<256;++Wv)ar.push((Wv+256).toString(16).slice(1));function s4(t,e=0){return(ar[t[e+0]]+ar[t[e+1]]+ar[t[e+2]]+ar[t[e+3]]+"-"+ar[t[e+4]]+ar[t[e+5]]+"-"+ar[t[e+6]]+ar[t[e+7]]+"-"+ar[t[e+8]]+ar[t[e+9]]+"-"+ar[t[e+10]]+ar[t[e+11]]+ar[t[e+12]]+ar[t[e+13]]+ar[t[e+14]]+ar[t[e+15]]).toLowerCase()}var Jh,l4=new Uint8Array(16);function a4(){if(!Jh&&(Jh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jh(l4)}var u4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const _C={randomUUID:u4};function c4(t,e,r){if(_C.randomUUID&&!e&&!t)return _C.randomUUID();t=t||{};var n=t.random||(t.rng||a4)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,s4(n)}let f4={data:""},h4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||f4,d4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,p4=/\/\*[^]*?\*\/|  +/g,FC=/\n+/g,Zo=(t,e)=>{let r="",n="",i="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+l+";":n+=o[1]=="f"?Zo(l,o):o+"{"+Zo(l,o[1]=="k"?"":e)+"}":typeof l=="object"?n+=Zo(l,e?e.replace(/([^,])+/g,u=>o.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Zo.p?Zo.p(o,l):o+":"+l+";")}return r+(e&&i?e+"{"+i+"}":i)+n},oo={},DM=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+DM(t[r]);return e}return t},g4=(t,e,r,n,i)=>{let o=DM(t),l=oo[o]||(oo[o]=(c=>{let p=0,g=11;for(;p<c.length;)g=101*g+c.charCodeAt(p++)>>>0;return"go"+g})(o));if(!oo[l]){let c=o!==t?t:(p=>{let g,v,y=[{}];for(;g=d4.exec(p.replace(p4,""));)g[4]?y.shift():g[3]?(v=g[3].replace(FC," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][g[1]]=g[2].replace(FC," ").trim();return y[0]})(t);oo[l]=Zo(i?{["@keyframes "+l]:c}:c,r?"":"."+l)}let u=r&&oo.g?oo.g:null;return r&&(oo.g=oo[l]),((c,p,g,v)=>{v?p.data=p.data.replace(v,c):p.data.indexOf(c)===-1&&(p.data=g?c+p.data:p.data+c)})(oo[l],e,n,u),l},m4=(t,e,r)=>t.reduce((n,i,o)=>{let l=e[o];if(l&&l.call){let u=l(r),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=c?"."+c:u&&typeof u=="object"?u.props?"":Zo(u,""):u===!1?"":u}return n+i+(l??"")},"");function Pg(t){let e=this||{},r=t.call?t(e.p):t;return g4(r.unshift?r.raw?m4(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,h4(e.target),e.g,e.o,e.k)}let RM,Vy,Ky;Pg.bind({g:1});let yo=Pg.bind({k:1});function v4(t,e,r,n){Zo.p=e,RM=t,Vy=r,Ky=n}function Rs(t,e){let r=this||{};return function(){let n=arguments;function i(o,l){let u=Object.assign({},o),c=u.className||i.className;r.p=Object.assign({theme:Vy&&Vy()},u),r.o=/ *go\d+/.test(c),u.className=Pg.apply(r,n)+(c?" "+c:"");let p=t;return t[0]&&(p=u.as||t,delete u.as),Ky&&p[0]&&Ky(u),RM(p,u)}return i}}var y4=t=>typeof t=="function",Rp=(t,e)=>y4(t)?t(e):t,w4=(()=>{let t=0;return()=>(++t).toString()})(),IM=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),x4=20,Ud=new Map,b4=1e3,$C=t=>{if(Ud.has(t))return;let e=setTimeout(()=>{Ud.delete(t),Ll({type:4,toastId:t})},b4);Ud.set(t,e)},S4=t=>{let e=Ud.get(t);e&&clearTimeout(e)},qy=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,x4)};case 1:return e.toast.id&&S4(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return t.toasts.find(o=>o.id===r.id)?qy(t,{type:1,toast:r}):qy(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?$C(n):t.toasts.forEach(o=>{$C(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Vd=[],Kd={toasts:[],pausedAt:void 0},Ll=t=>{Kd=qy(Kd,t),Vd.forEach(e=>{e(Kd)})},k4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},C4=(t={})=>{let[e,r]=re.useState(Kd);re.useEffect(()=>(Vd.push(r),()=>{let i=Vd.indexOf(r);i>-1&&Vd.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var o,l;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||k4[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:n}},T4=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||w4()}),If=t=>(e,r)=>{let n=T4(e,t,r);return Ll({type:2,toast:n}),n.id},xn=(t,e)=>If("blank")(t,e);xn.error=If("error");xn.success=If("success");xn.loading=If("loading");xn.custom=If("custom");xn.dismiss=t=>{Ll({type:3,toastId:t})};xn.remove=t=>Ll({type:4,toastId:t});xn.promise=(t,e,r)=>{let n=xn.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(i=>(xn.success(Rp(e.success,i),{id:n,...r,...r==null?void 0:r.success}),i)).catch(i=>{xn.error(Rp(e.error,i),{id:n,...r,...r==null?void 0:r.error})}),t};var O4=(t,e)=>{Ll({type:1,toast:{id:t,height:e}})},E4=()=>{Ll({type:5,time:Date.now()})},A4=t=>{let{toasts:e,pausedAt:r}=C4(t);re.useEffect(()=>{if(r)return;let o=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let c=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(c<0){u.visible&&xn.dismiss(u.id);return}return setTimeout(()=>xn.dismiss(u.id),c)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,r]);let n=re.useCallback(()=>{r&&Ll({type:6,time:Date.now()})},[r]),i=re.useCallback((o,l)=>{let{reverseOrder:u=!1,gutter:c=8,defaultPosition:p}=l||{},g=e.filter(x=>(x.position||p)===(o.position||p)&&x.height),v=g.findIndex(x=>x.id===o.id),y=g.filter((x,T)=>T<v&&x.visible).length;return g.filter(x=>x.visible).slice(...u?[y+1]:[0,y]).reduce((x,T)=>x+(T.height||0)+c,0)},[e]);return{toasts:e,handlers:{updateHeight:O4,startPause:E4,endPause:n,calculateOffset:i}}},M4=yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,L4=yo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P4=yo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,N4=Rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${M4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${L4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${P4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,D4=yo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,R4=Rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${D4} 1s linear infinite;
`,I4=yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,B4=yo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_4=Rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${I4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${B4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,F4=Rs("div")`
  position: absolute;
`,$4=Rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,z4=yo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W4=Rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${z4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,j4=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?re.createElement(W4,null,e):e:r==="blank"?null:re.createElement($4,null,re.createElement(R4,{...n}),r!=="loading"&&re.createElement(F4,null,r==="error"?re.createElement(N4,{...n}):re.createElement(_4,{...n})))},H4=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,U4=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,V4="0%{opacity:0;} 100%{opacity:1;}",K4="0%{opacity:1;} 100%{opacity:0;}",q4=Rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,G4=Rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Y4=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=IM()?[V4,K4]:[H4(r),U4(r)];return{animation:e?`${yo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},X4=re.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?Y4(t.position||e||"top-center",t.visible):{opacity:0},o=re.createElement(j4,{toast:t}),l=re.createElement(G4,{...t.ariaProps},Rp(t.message,t));return re.createElement(q4,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:o,message:l}):re.createElement(re.Fragment,null,o,l))});v4(re.createElement);var Q4=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let o=re.useCallback(l=>{if(l){let u=()=>{let c=l.getBoundingClientRect().height;n(t,c)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return re.createElement("div",{ref:o,className:e,style:r},i)},J4=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:IM()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},Z4=Pg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zh=16,e8=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:c}=A4(r);return re.createElement("div",{style:{position:"fixed",zIndex:9999,top:Zh,left:Zh,right:Zh,bottom:Zh,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(p=>{let g=p.position||e,v=c.calculateOffset(p,{reverseOrder:t,gutter:n,defaultPosition:e}),y=J4(g,v);return re.createElement(Q4,{id:p.id,key:p.id,onHeightUpdate:c.updateHeight,className:p.visible?Z4:"",style:y},p.type==="custom"?Rp(p.message,p):i?i(p):re.createElement(X4,{toast:p,position:g}))}))},il=xn;const t8=()=>{const t=Lg(),[e,r]=re.useState(""),[n,i]=re.useState(""),o=c=>{c.preventDefault();const p=c4();r(p),il.success("Created a new room")},l=()=>{if(!e||!n){il.error("ROOM ID & username is required");return}t(`/editor/${e}`,{state:{username:n}})},u=c=>{c.code==="Enter"&&l()};return Y.jsxs("div",{className:"homePageWrapper",children:[Y.jsxs("div",{className:"formWrapper text-sm",children:[Y.jsx("img",{className:"homePageLogo rounded-md",src:"/code_collab.webp",alt:"code-sync-logo"}),Y.jsx("h4",{className:"mainLabel",children:"Paste invitation ROOM ID"}),Y.jsxs("div",{className:"inputGroup",children:[Y.jsx("input",{type:"text",className:"inputBox text-black ",placeholder:"ROOM ID",onChange:c=>r(c.target.value),value:e,onKeyUp:u,required:!0}),Y.jsx("input",{type:"text",className:"inputBox text-black",placeholder:"USERNAME",onChange:c=>i(c.target.value),value:n,onKeyUp:u,required:!0}),Y.jsx("button",{className:"btn joinBtn",onClick:l,children:"Join"}),Y.jsxs("span",{className:"createInfo",children:["If you don't have an invite then create  ",Y.jsx("a",{onClick:o,href:"",className:"createNewBtn",children:"new room"})]})]})]}),Y.jsx("footer",{children:Y.jsxs("h4",{children:["Built with ❤️   by  ",Y.jsx("a",{href:"https://github.com/BroLetsCodeIt",children:"BroLetsCodeIt"})]})})]})};function yr(){return yr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yr.apply(null,arguments)}var uc=function(t){return t&&t.Math===Math&&t},cn=uc(typeof globalThis=="object"&&globalThis)||uc(typeof window=="object"&&window)||uc(typeof self=="object"&&self)||uc(typeof wc=="object"&&wc)||uc(typeof wc=="object"&&wc)||function(){return this}()||Function("return this")(),Rt=function(t){try{return!!t()}catch{return!0}},r8=Rt,Bf=!r8(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),n8=Bf,BM=Function.prototype,zC=BM.apply,WC=BM.call,Ng=typeof Reflect=="object"&&Reflect.apply||(n8?WC.bind(zC):function(){return WC.apply(zC,arguments)}),_M=Bf,FM=Function.prototype,Gy=FM.call,i8=_M&&FM.bind.bind(Gy,Gy),It=_M?i8:function(t){return function(){return Gy.apply(t,arguments)}},$M=It,o8=$M({}.toString),s8=$M("".slice),Is=function(t){return s8(o8(t),8,-1)},l8=Is,a8=It,zM=function(t){if(l8(t)==="Function")return a8(t)},jv=typeof document=="object"&&document.all,On=typeof jv>"u"&&jv!==void 0?function(t){return typeof t=="function"||t===jv}:function(t){return typeof t=="function"},_f={},u8=Rt,En=!u8(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),c8=Bf,ed=Function.prototype.call,Bs=c8?ed.bind(ed):function(){return ed.apply(ed,arguments)},Dg={},WM={}.propertyIsEnumerable,jM=Object.getOwnPropertyDescriptor,f8=jM&&!WM.call({1:2},1);Dg.f=f8?function(e){var r=jM(this,e);return!!r&&r.enumerable}:WM;var Rg=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},h8=It,d8=Rt,p8=Is,Hv=Object,g8=h8("".split),Ig=d8(function(){return!Hv("z").propertyIsEnumerable(0)})?function(t){return p8(t)==="String"?g8(t,""):Hv(t)}:Hv,HM=function(t){return t==null},m8=HM,v8=TypeError,Ff=function(t){if(m8(t))throw new v8("Can't call method on "+t);return t},y8=Ig,w8=Ff,Co=function(t){return y8(w8(t))},x8=On,Ki=function(t){return typeof t=="object"?t!==null:x8(t)},fn={},Uv=fn,Vv=cn,b8=On,jC=function(t){return b8(t)?t:void 0},_s=function(t,e){return arguments.length<2?jC(Uv[t])||jC(Vv[t]):Uv[t]&&Uv[t][e]||Vv[t]&&Vv[t][e]},S8=It,Pl=S8({}.isPrototypeOf),k8=typeof navigator<"u"&&String(navigator.userAgent)||"",UM=cn,Kv=k8,HC=UM.process,UC=UM.Deno,VC=HC&&HC.versions||UC&&UC.version,KC=VC&&VC.v8,fi,Ip;KC&&(fi=KC.split("."),Ip=fi[0]>0&&fi[0]<4?1:+(fi[0]+fi[1]));!Ip&&Kv&&(fi=Kv.match(/Edge\/(\d+)/),(!fi||fi[1]>=74)&&(fi=Kv.match(/Chrome\/(\d+)/),fi&&(Ip=+fi[1])));var Bg=Ip,qC=Bg,C8=Rt,T8=cn,O8=T8.String,vu=!!Object.getOwnPropertySymbols&&!C8(function(){var t=Symbol("symbol detection");return!O8(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&qC&&qC<41}),E8=vu,VM=E8&&!Symbol.sham&&typeof Symbol.iterator=="symbol",A8=_s,M8=On,L8=Pl,P8=VM,N8=Object,_g=P8?function(t){return typeof t=="symbol"}:function(t){var e=A8("Symbol");return M8(e)&&L8(e.prototype,N8(t))},D8=String,hx=function(t){try{return D8(t)}catch{return"Object"}},R8=On,I8=hx,B8=TypeError,Fg=function(t){if(R8(t))return t;throw new B8(I8(t)+" is not a function")},_8=Fg,F8=HM,$8=function(t,e){var r=t[e];return F8(r)?void 0:_8(r)},qv=Bs,Gv=On,Yv=Ki,z8=TypeError,W8=function(t,e){var r,n;if(e==="string"&&Gv(r=t.toString)&&!Yv(n=qv(r,t))||Gv(r=t.valueOf)&&!Yv(n=qv(r,t))||e!=="string"&&Gv(r=t.toString)&&!Yv(n=qv(r,t)))return n;throw new z8("Can't convert object to primitive value")},KM={exports:{}},GC=cn,j8=Object.defineProperty,H8=function(t,e){try{j8(GC,t,{value:e,configurable:!0,writable:!0})}catch{GC[t]=e}return e},U8=cn,V8=H8,YC="__core-js_shared__",XC=KM.exports=U8[YC]||V8(YC,{});(XC.versions||(XC.versions=[])).push({version:"3.37.1",mode:"pure",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var dx=KM.exports,QC=dx,$f=function(t,e){return QC[t]||(QC[t]=e||{})},K8=Ff,q8=Object,Fs=function(t){return q8(K8(t))},G8=It,Y8=Fs,X8=G8({}.hasOwnProperty),yi=Object.hasOwn||function(e,r){return X8(Y8(e),r)},Q8=It,J8=0,Z8=Math.random(),e$=Q8(1 .toString),px=function(t){return"Symbol("+(t===void 0?"":t)+")_"+e$(++J8+Z8,36)},t$=cn,r$=$f,JC=yi,n$=px,i$=vu,o$=VM,Pa=t$.Symbol,Xv=r$("wks"),s$=o$?Pa.for||Pa:Pa&&Pa.withoutSetter||n$,wi=function(t){return JC(Xv,t)||(Xv[t]=i$&&JC(Pa,t)?Pa[t]:s$("Symbol."+t)),Xv[t]},l$=Bs,ZC=Ki,e2=_g,a$=$8,u$=W8,c$=wi,f$=TypeError,h$=c$("toPrimitive"),qM=function(t,e){if(!ZC(t)||e2(t))return t;var r=a$(t,h$),n;if(r){if(e===void 0&&(e="default"),n=l$(r,t,e),!ZC(n)||e2(n))return n;throw new f$("Can't convert object to primitive value")}return e===void 0&&(e="number"),u$(t,e)},d$=qM,p$=_g,gx=function(t){var e=d$(t,"string");return p$(e)?e:e+""},g$=cn,t2=Ki,Yy=g$.document,m$=t2(Yy)&&t2(Yy.createElement),GM=function(t){return m$?Yy.createElement(t):{}},v$=En,y$=Rt,w$=GM,YM=!v$&&!y$(function(){return Object.defineProperty(w$("div"),"a",{get:function(){return 7}}).a!==7}),x$=En,b$=Bs,S$=Dg,k$=Rg,C$=Co,T$=gx,O$=yi,E$=YM,r2=Object.getOwnPropertyDescriptor;_f.f=x$?r2:function(e,r){if(e=C$(e),r=T$(r),E$)try{return r2(e,r)}catch{}if(O$(e,r))return k$(!b$(S$.f,e,r),e[r])};var A$=Rt,M$=On,L$=/#|\.prototype\./,zf=function(t,e){var r=N$[P$(t)];return r===R$?!0:r===D$?!1:M$(e)?A$(e):!!e},P$=zf.normalize=function(t){return String(t).replace(L$,".").toLowerCase()},N$=zf.data={},D$=zf.NATIVE="N",R$=zf.POLYFILL="P",I$=zf,n2=zM,B$=Fg,_$=Bf,F$=n2(n2.bind),XM=function(t,e){return B$(t),e===void 0?t:_$?F$(t,e):function(){return t.apply(e,arguments)}},To={},$$=En,z$=Rt,QM=$$&&z$(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),W$=Ki,j$=String,H$=TypeError,yu=function(t){if(W$(t))return t;throw new H$(j$(t)+" is not an object")},U$=En,V$=YM,K$=QM,td=yu,i2=gx,q$=TypeError,Qv=Object.defineProperty,G$=Object.getOwnPropertyDescriptor,Jv="enumerable",Zv="configurable",e0="writable";To.f=U$?K$?function(e,r,n){if(td(e),r=i2(r),td(n),typeof e=="function"&&r==="prototype"&&"value"in n&&e0 in n&&!n[e0]){var i=G$(e,r);i&&i[e0]&&(e[r]=n.value,n={configurable:Zv in n?n[Zv]:i[Zv],enumerable:Jv in n?n[Jv]:i[Jv],writable:!1})}return Qv(e,r,n)}:Qv:function(e,r,n){if(td(e),r=i2(r),td(n),V$)try{return Qv(e,r,n)}catch{}if("get"in n||"set"in n)throw new q$("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var Y$=En,X$=To,Q$=Rg,$g=Y$?function(t,e,r){return X$.f(t,e,Q$(1,r))}:function(t,e,r){return t[e]=r,t},cc=cn,J$=Ng,Z$=zM,e5=On,t5=_f.f,r5=I$,fa=fn,n5=XM,ha=$g,o2=yi,i5=function(t){var e=function(r,n,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,i)}return J$(t,this,arguments)};return e.prototype=t.prototype,e},Jt=function(t,e){var r=t.target,n=t.global,i=t.stat,o=t.proto,l=n?cc:i?cc[r]:cc[r]&&cc[r].prototype,u=n?fa:fa[r]||ha(fa,r,{})[r],c=u.prototype,p,g,v,y,x,T,A,P,C;for(y in e)p=r5(n?y:r+(i?".":"#")+y,t.forced),g=!p&&l&&o2(l,y),T=u[y],g&&(t.dontCallGetSet?(C=t5(l,y),A=C&&C.value):A=l[y]),x=g&&A?A:e[y],!(!p&&!o&&typeof T==typeof x)&&(t.bind&&g?P=n5(x,cc):t.wrap&&g?P=i5(x):o&&e5(x)?P=Z$(x):P=x,(t.sham||x&&x.sham||T&&T.sham)&&ha(P,"sham",!0),ha(u,y,P),o&&(v=r+"Prototype",o2(fa,v)||ha(fa,v,{}),ha(fa[v],y,x),t.real&&c&&(p||!c[y])&&ha(c,y,x)))},o5=Math.ceil,s5=Math.floor,l5=Math.trunc||function(e){var r=+e;return(r>0?s5:o5)(r)},a5=l5,mx=function(t){var e=+t;return e!==e||e===0?0:a5(e)},u5=mx,c5=Math.max,f5=Math.min,JM=function(t,e){var r=u5(t);return r<0?c5(r+e,0):f5(r,e)},h5=mx,d5=Math.min,ZM=function(t){var e=h5(t);return e>0?d5(e,9007199254740991):0},p5=ZM,Wf=function(t){return p5(t.length)},g5=Co,m5=JM,v5=Wf,s2=function(t){return function(e,r,n){var i=g5(e),o=v5(i);if(o===0)return!t&&-1;var l=m5(n,o),u;if(t&&r!==r){for(;o>l;)if(u=i[l++],u!==u)return!0}else for(;o>l;l++)if((t||l in i)&&i[l]===r)return t||l||0;return!t&&-1}},y5={includes:s2(!0),indexOf:s2(!1)},zg={},w5=It,t0=yi,x5=Co,b5=y5.indexOf,S5=zg,l2=w5([].push),eL=function(t,e){var r=x5(t),n=0,i=[],o;for(o in r)!t0(S5,o)&&t0(r,o)&&l2(i,o);for(;e.length>n;)t0(r,o=e[n++])&&(~b5(i,o)||l2(i,o));return i},vx=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],k5=eL,C5=vx,Wg=Object.keys||function(e){return k5(e,C5)},jf={};jf.f=Object.getOwnPropertySymbols;var a2=En,T5=It,O5=Bs,E5=Rt,r0=Wg,A5=jf,M5=Dg,L5=Fs,P5=Ig,da=Object.assign,u2=Object.defineProperty,N5=T5([].concat),D5=!da||E5(function(){if(a2&&da({b:1},da(u2({},"a",{enumerable:!0,get:function(){u2(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),da({},t)[r]!==7||r0(da({},e)).join("")!==n})?function(e,r){for(var n=L5(e),i=arguments.length,o=1,l=A5.f,u=M5.f;i>o;)for(var c=P5(arguments[o++]),p=l?N5(r0(c),l(c)):r0(c),g=p.length,v=0,y;g>v;)y=p[v++],(!a2||O5(u,c,y))&&(n[y]=c[y]);return n}:da,R5=Jt,c2=D5;R5({target:"Object",stat:!0,arity:2,forced:Object.assign!==c2},{assign:c2});var I5=fn,B5=I5.Object.assign,_5=B5,F5=_5;const Xy=Wt(F5);function qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function $5(t,e){if(Za(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tL(t){var e=$5(t,"string");return Za(e)=="symbol"?e:e+""}function z5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tL(n.key),n)}}function Gr(t,e,r){return e&&z5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var W5=wi,j5=W5("toStringTag"),rL={};rL[j5]="z";var yx=String(rL)==="[object z]",H5=yx,U5=On,qd=Is,V5=wi,K5=V5("toStringTag"),q5=Object,G5=qd(function(){return arguments}())==="Arguments",Y5=function(t,e){try{return t[e]}catch{}},wx=H5?qd:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Y5(e=q5(t),K5))=="string"?r:G5?qd(e):(n=qd(e))==="Object"&&U5(e.callee)?"Arguments":n},X5=wx,Q5=String,Nl=function(t){if(X5(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Q5(t)},J5=mx,Z5=Nl,e6=Ff,t6=RangeError,r6=function(e){var r=Z5(e6(this)),n="",i=J5(e);if(i<0||i===1/0)throw new t6("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n},nL=It,n6=ZM,f2=Nl,i6=r6,o6=Ff,s6=nL(i6),l6=nL("".slice),a6=Math.ceil,h2=function(t){return function(e,r,n){var i=f2(o6(e)),o=n6(r),l=i.length,u=n===void 0?" ":f2(n),c,p;return o<=l||u===""?i:(c=o-l,p=s6(u,a6(c/u.length)),p.length>c&&(p=l6(p,0,c)),t?i+p:p+i)}},u6={start:h2(!1),end:h2(!0)},$s=It,d2=Rt,el=u6.start,c6=RangeError,f6=isFinite,h6=Math.abs,Oo=Date.prototype,n0=Oo.toISOString,d6=$s(Oo.getTime),p6=$s(Oo.getUTCDate),g6=$s(Oo.getUTCFullYear),m6=$s(Oo.getUTCHours),v6=$s(Oo.getUTCMilliseconds),y6=$s(Oo.getUTCMinutes),w6=$s(Oo.getUTCMonth),x6=$s(Oo.getUTCSeconds),b6=d2(function(){return n0.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!d2(function(){n0.call(new Date(NaN))})?function(){if(!f6(d6(this)))throw new c6("Invalid time value");var e=this,r=g6(e),n=v6(e),i=r<0?"-":r>9999?"+":"";return i+el(h6(r),i?6:4,0)+"-"+el(w6(e)+1,2,0)+"-"+el(p6(e),2,0)+"T"+el(m6(e),2,0)+":"+el(y6(e),2,0)+":"+el(x6(e),2,0)+"."+el(n,3,0)+"Z"}:n0,S6=Jt,iL=Bs,k6=Fs,C6=qM,T6=b6,O6=Is,E6=Rt,A6=E6(function(){return new Date(NaN).toJSON()!==null||iL(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});S6({target:"Date",proto:!0,forced:A6},{toJSON:function(e){var r=k6(this),n=C6(r,"number");return typeof n=="number"&&!isFinite(n)?null:!("toISOString"in r)&&O6(r)==="Date"?iL(T6,r):r.toISOString()}});var M6=It,jg=M6([].slice),L6=Is,Hg=Array.isArray||function(e){return L6(e)==="Array"},P6=It,p2=Hg,N6=On,g2=Is,D6=Nl,m2=P6([].push),R6=function(t){if(N6(t))return t;if(p2(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];typeof i=="string"?m2(r,i):(typeof i=="number"||g2(i)==="Number"||g2(i)==="String")&&m2(r,D6(i))}var o=r.length,l=!0;return function(u,c){if(l)return l=!1,c;if(p2(this))return c;for(var p=0;p<o;p++)if(r[p]===u)return c}}},I6=Jt,oL=_s,sL=Ng,B6=Bs,Hf=It,lL=Rt,v2=On,y2=_g,aL=jg,_6=R6,F6=vu,$6=String,ys=oL("JSON","stringify"),rd=Hf(/./.exec),w2=Hf("".charAt),z6=Hf("".charCodeAt),W6=Hf("".replace),j6=Hf(1 .toString),H6=/[\uD800-\uDFFF]/g,x2=/^[\uD800-\uDBFF]$/,b2=/^[\uDC00-\uDFFF]$/,S2=!F6||lL(function(){var t=oL("Symbol")("stringify detection");return ys([t])!=="[null]"||ys({a:t})!=="{}"||ys(Object(t))!=="{}"}),k2=lL(function(){return ys("\uDF06\uD834")!=='"\\udf06\\ud834"'||ys("\uDEAD")!=='"\\udead"'}),U6=function(t,e){var r=aL(arguments),n=_6(e);if(!(!v2(n)&&(t===void 0||y2(t))))return r[1]=function(i,o){if(v2(n)&&(o=B6(n,this,$6(i),o)),!y2(o))return o},sL(ys,null,r)},V6=function(t,e,r){var n=w2(r,e-1),i=w2(r,e+1);return rd(x2,t)&&!rd(b2,i)||rd(b2,t)&&!rd(x2,n)?"\\u"+j6(z6(t,0),16):t};ys&&I6({target:"JSON",stat:!0,arity:3,forced:S2||k2},{stringify:function(e,r,n){var i=aL(arguments),o=sL(S2?U6:ys,null,i);return k2&&typeof o=="string"?W6(o,H6,V6):o}});var Qy=fn,K6=Ng;Qy.JSON||(Qy.JSON={stringify:JSON.stringify});var q6=function(e,r,n){return K6(Qy.JSON.stringify,null,arguments)},G6=q6,Y6=G6;const X6=Wt(Y6);var Q6=It,J6=On,Jy=dx,Z6=Q6(Function.toString);J6(Jy.inspectSource)||(Jy.inspectSource=function(t){return Z6(t)});var ez=Jy.inspectSource,tz=It,rz=Rt,uL=On,nz=wx,iz=_s,oz=ez,cL=function(){},fL=iz("Reflect","construct"),xx=/^\s*(?:class|function)\b/,sz=tz(xx.exec),lz=!xx.test(cL),fc=function(e){if(!uL(e))return!1;try{return fL(cL,[],e),!0}catch{return!1}},hL=function(e){if(!uL(e))return!1;switch(nz(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return lz||!!sz(xx,oz(e))}catch{return!0}};hL.sham=!0;var bx=!fL||rz(function(){var t;return fc(fc.call)||!fc(Object)||!fc(function(){t=!0})||t})?hL:fc,C2=Hg,az=bx,uz=Ki,cz=wi,fz=cz("species"),T2=Array,hz=function(t){var e;return C2(t)&&(e=t.constructor,az(e)&&(e===T2||C2(e.prototype))?e=void 0:uz(e)&&(e=e[fz],e===null&&(e=void 0))),e===void 0?T2:e},dz=hz,dL=function(t,e){return new(dz(t))(e===0?0:e)},pz=XM,gz=It,mz=Ig,vz=Fs,yz=Wf,wz=dL,O2=gz([].push),Ko=function(t){var e=t===1,r=t===2,n=t===3,i=t===4,o=t===6,l=t===7,u=t===5||o;return function(c,p,g,v){for(var y=vz(c),x=mz(y),T=yz(x),A=pz(p,g),P=0,C=v||wz,S=e?C(c,T):r||l?C(c,0):void 0,M,N;T>P;P++)if((u||P in x)&&(M=x[P],N=A(M,P,y),t))if(e)S[P]=N;else if(N)switch(t){case 3:return!0;case 5:return M;case 6:return P;case 2:O2(S,M)}else switch(t){case 4:return!1;case 7:O2(S,M)}return o?-1:n||i?i:S}},Sx={forEach:Ko(0),map:Ko(1),filter:Ko(2),some:Ko(3),every:Ko(4),find:Ko(5),findIndex:Ko(6),filterReject:Ko(7)},xz=Rt,bz=wi,Sz=Bg,kz=bz("species"),Ug=function(t){return Sz>=51||!xz(function(){var e=[],r=e.constructor={};return r[kz]=function(){return{foo:1}},e[t](Boolean).foo!==1})},Cz=Jt,Tz=Sx.filter,Oz=Ug,Ez=Oz("filter");Cz({target:"Array",proto:!0,forced:!Ez},{filter:function(e){return Tz(this,e,arguments.length>1?arguments[1]:void 0)}});var Az=cn,Mz=fn,Uf=function(t,e){var r=Mz[t+"Prototype"],n=r&&r[e];if(n)return n;var i=Az[t],o=i&&i.prototype;return o&&o[e]},Lz=Uf,Pz=Lz("Array","filter"),Nz=Pl,Dz=Pz,i0=Array.prototype,Rz=function(t){var e=t.filter;return t===i0||Nz(i0,t)&&e===i0.filter?Dz:e},Iz=Rz,Bz=Iz;const Vg=Wt(Bz);var _z=En,Fz=To,$z=Rg,kx=function(t,e,r){_z?Fz.f(t,e,$z(0,r)):t[e]=r},zz=Jt,E2=Hg,Wz=bx,jz=Ki,A2=JM,Hz=Wf,Uz=Co,Vz=kx,Kz=wi,qz=Ug,Gz=jg,Yz=qz("slice"),Xz=Kz("species"),o0=Array,Qz=Math.max;zz({target:"Array",proto:!0,forced:!Yz},{slice:function(e,r){var n=Uz(this),i=Hz(n),o=A2(e,i),l=A2(r===void 0?i:r,i),u,c,p;if(E2(n)&&(u=n.constructor,Wz(u)&&(u===o0||E2(u.prototype))?u=void 0:jz(u)&&(u=u[Xz],u===null&&(u=void 0)),u===o0||u===void 0))return Gz(n,o,l);for(c=new(u===void 0?o0:u)(Qz(l-o,0)),p=0;o<l;o++,p++)o in n&&Vz(c,p,n[o]);return c.length=p,c}});var Jz=Uf,Zz=Jz("Array","slice"),e9=Pl,t9=Zz,s0=Array.prototype,r9=function(t){var e=t.slice;return t===s0||e9(s0,t)&&e===s0.slice?t9:e},n9=r9,i9=n9;const pL=Wt(i9);var o9="react-avatar/",l0="failing",M2=function(){try{return"localStorage"in window&&window.localStorage}catch{return!1}}(),Bp=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};qr(this,t);var r=e.cachePrefix,n=r===void 0?o9:r,i=e.sourceTTL,o=i===void 0?7*24*3600*1e3:i,l=e.sourceSize,u=l===void 0?20:l;this.cachePrefix=n,this.sourceTTL=o,this.sourceSize=u}return Gr(t,[{key:"set",value:function(r,n){if(M2){n=X6(n);try{localStorage.setItem(this.cachePrefix+r,n)}catch(i){console.error(i)}}}},{key:"get",value:function(r){if(!M2)return null;var n=localStorage.getItem(this.cachePrefix+r);return n?JSON.parse(n):null}},{key:"sourceFailed",value:function(r){var n=this.get(l0)||[];return n=Vg(n).call(n,function(i){var o=i.expires>0&&i.expires<Date.now(),l=i===r||i.url==r;return!o&&!l}),n.unshift({url:r,expires:Date.now()+this.sourceTTL}),n=pL(n).call(n,0,this.sourceSize-1),this.set(l0,n)}},{key:"hasSourceFailedBefore",value:function(r){var n=this.get(l0)||[];return n.some(function(i){var o=i.expires>0&&i.expires<Date.now(),l=i===r||i.url==r;return l&&!o})}}]),t}();const s9=new Bp;var gL=It,l9=Fg,a9=Ki,u9=yi,L2=jg,c9=Bf,mL=Function,f9=gL([].concat),h9=gL([].join),a0={},d9=function(t,e,r){if(!u9(a0,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";a0[e]=mL("C,a","return new C("+h9(n,",")+")")}return a0[e](t,r)},p9=c9?mL.bind:function(e){var r=l9(this),n=r.prototype,i=L2(arguments,1),o=function(){var u=f9(i,L2(arguments));return this instanceof o?d9(r,u.length,u):r.apply(e,u)};return a9(n)&&(o.prototype=n),o},g9=bx,m9=hx,v9=TypeError,y9=function(t){if(g9(t))return t;throw new v9(m9(t)+" is not a constructor")},Kg={},w9=En,x9=QM,b9=To,S9=yu,k9=Co,C9=Wg;Kg.f=w9&&!x9?Object.defineProperties:function(e,r){S9(e);for(var n=k9(r),i=C9(r),o=i.length,l=0,u;o>l;)b9.f(e,u=i[l++],n[u]);return e};var T9=_s,O9=T9("document","documentElement"),E9=$f,A9=px,P2=E9("keys"),Cx=function(t){return P2[t]||(P2[t]=A9(t))},M9=yu,L9=Kg,N2=vx,P9=zg,N9=O9,D9=GM,R9=Cx,D2=">",R2="<",Zy="prototype",e1="script",vL=R9("IE_PROTO"),u0=function(){},yL=function(t){return R2+e1+D2+t+R2+"/"+e1+D2},I2=function(t){t.write(yL("")),t.close();var e=t.parentWindow.Object;return t=null,e},I9=function(){var t=D9("iframe"),e="java"+e1+":",r;return t.style.display="none",N9.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(yL("document.F=Object")),r.close(),r.F},nd,Gd=function(){try{nd=new ActiveXObject("htmlfile")}catch{}Gd=typeof document<"u"?document.domain&&nd?I2(nd):I9():I2(nd);for(var t=N2.length;t--;)delete Gd[Zy][N2[t]];return Gd()};P9[vL]=!0;var wL=Object.create||function(e,r){var n;return e!==null?(u0[Zy]=M9(e),n=new u0,u0[Zy]=null,n[vL]=e):n=Gd(),r===void 0?n:L9.f(n,r)},B9=Jt,_9=_s,c0=Ng,F9=p9,B2=y9,$9=yu,_2=Ki,z9=wL,xL=Rt,Tx=_9("Reflect","construct"),W9=Object.prototype,j9=[].push,bL=xL(function(){function t(){}return!(Tx(function(){},[],t)instanceof t)}),SL=!xL(function(){Tx(function(){})}),F2=bL||SL;B9({target:"Reflect",stat:!0,forced:F2,sham:F2},{construct:function(e,r){B2(e),$9(r);var n=arguments.length<3?e:B2(arguments[2]);if(SL&&!bL)return Tx(e,r,n);if(e===n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var i=[null];return c0(j9,i,r),new(c0(F9,e,i))}var o=n.prototype,l=z9(_2(o)?o:W9),u=c0(e,l,r);return _2(u)?u:l}});var H9=fn,U9=H9.Reflect.construct,V9=U9,K9=V9;const zt=Wt(K9);function t1(t,e){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},t1(t,e)}function Vf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t1(t,e)}function _p(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kf(t,e){if(e&&(Za(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _p(t)}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(t)}function Re(t,e,r){return(e=tL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var q9=Jt,G9=Fs,kL=Wg,Y9=Rt,X9=Y9(function(){kL(1)});q9({target:"Object",stat:!0,forced:X9},{keys:function(e){return kL(G9(e))}});var Q9=fn,J9=Q9.Object.keys,Z9=J9,eW=Z9;const Ox=Wt(eW);var CL={exports:{}},tW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rW=tW,nW=rW;function TL(){}function OL(){}OL.resetWarningCache=TL;var iW=function(){function t(n,i,o,l,u,c){if(c!==nW){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OL,resetWarningCache:TL};return r.PropTypes=r,r};CL.exports=iW();var oW=CL.exports;const ve=Wt(oW);function sW(t){if(Array.isArray(t))return t}function lW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,p=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(g){p=!0,i=g}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(p)throw i}}return u}}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function EL(t,e){if(t){if(typeof t=="string")return r1(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?r1(t,e):void 0}}function aW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(t,e){return sW(t)||lW(t,e)||EL(t,e)||aW()}function cW(t){if(Array.isArray(t))return r1(t)}function fW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t){return cW(t)||fW(t)||EL(t)||hW()}var pW=Rt,gW=function(t,e){var r=[][t];return!!r&&pW(function(){r.call(null,e||function(){return 1},1)})},mW=Jt,vW=Sx.map,yW=Ug,wW=yW("map");mW({target:"Array",proto:!0,forced:!wW},{map:function(e){return vW(this,e,arguments.length>1?arguments[1]:void 0)}});var xW=Uf,bW=xW("Array","map"),SW=Pl,kW=bW,f0=Array.prototype,CW=function(t){var e=t.map;return t===f0||SW(f0,t)&&e===f0.map?kW:e},TW=CW,OW=TW;const AL=Wt(OW);var EW=Fg,AW=Fs,MW=Ig,LW=Wf,$2=TypeError,z2="Reduce of empty array with no initial value",W2=function(t){return function(e,r,n,i){var o=AW(e),l=MW(o),u=LW(o);if(EW(r),u===0&&n<2)throw new $2(z2);var c=t?u-1:0,p=t?-1:1;if(n<2)for(;;){if(c in l){i=l[c],c+=p;break}if(c+=p,t?c<0:u<=c)throw new $2(z2)}for(;t?c>=0:u>c;c+=p)c in l&&(i=r(i,l[c],c,o));return i}},PW={left:W2(!1),right:W2(!0)},NW=cn,DW=Is,RW=DW(NW.process)==="process",IW=Jt,BW=PW.left,_W=gW,j2=Bg,FW=RW,$W=!FW&&j2>79&&j2<83,zW=$W||!_W("reduce");IW({target:"Array",proto:!0,forced:zW},{reduce:function(e){var r=arguments.length;return BW(this,e,r,r>1?arguments[1]:void 0)}});var WW=Uf,jW=WW("Array","reduce"),HW=Pl,UW=jW,h0=Array.prototype,VW=function(t){var e=t.reduce;return t===h0||HW(h0,t)&&e===h0.reduce?UW:e},KW=VW,qW=KW;const ML=Wt(qW);var LL=`	
\v\f\r                　\u2028\u2029\uFEFF`,GW=It,YW=Ff,XW=Nl,n1=LL,H2=GW("".replace),QW=RegExp("^["+n1+"]+"),JW=RegExp("(^|[^"+n1+"])["+n1+"]+$"),d0=function(t){return function(e){var r=XW(YW(e));return t&1&&(r=H2(r,QW,"")),t&2&&(r=H2(r,JW,"$1")),r}},ZW={start:d0(1),end:d0(2),trim:d0(3)},PL=cn,ej=Rt,tj=It,rj=Nl,nj=ZW.trim,ij=LL,oj=tj("".charAt),Fp=PL.parseFloat,U2=PL.Symbol,V2=U2&&U2.iterator,sj=1/Fp(ij+"-0")!==-1/0||V2&&!ej(function(){Fp(Object(V2))}),lj=sj?function(e){var r=nj(rj(e)),n=Fp(r);return n===0&&oj(r,0)==="-"?-0:n}:Fp,aj=Jt,K2=lj;aj({global:!0,forced:parseFloat!==K2},{parseFloat:K2});var uj=fn,cj=uj.parseFloat,fj=cj,hj=fj;const dj=Wt(hj);var pj=function(){var t;return!!(typeof window<"u"&&window!==null&&(t="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia(t).matches))};const gj=Wt(pj);var mj=gj(),NL=["#A62A21","#7e3794","#0B51C1","#3A6024","#A81563","#B3003C"],vj=/^([-+]?(?:\d+(?:\.\d+)?|\.\d+))([a-z]{2,4}|%)?$/;function yj(t,e){for(var r,n=AL(r=dW(t)).call(r,function(p){return p.charCodeAt(0)}),i=n.length,o=i%(e-1)+1,l=ML(n).call(n,function(p,g){return p+g})%e,u=n[0]%e,c=0;c<i;c++)u=(o*u+l)%e;return u}function Ex(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NL;if(!t)return"transparent";var r=yj(t,e.length);return e[r]}function qg(t){t=""+t;var e=vj.exec(t)||[],r=uW(e,3),n=r[1],i=n===void 0?0:n,o=r[2],l=o===void 0?"px":o;return{value:dj(i),str:i+l,unit:l}}function Gg(t){return t=qg(t),isNaN(t.value)?t=512:t.unit==="px"?t=t.value:t.value===0?t=0:t=512,mj&&(t=t*2),t}function DL(t,e){var r,n,i,o=e.maxInitials;return pL(r=Vg(n=AL(i=t.split(/\s/)).call(i,function(l){return l.substring(0,1).toUpperCase()})).call(n,function(l){return!!l})).call(r,0,o).join("").toUpperCase()}var id={};function wj(t,e){if(id[e]){id[e].push(t);return}var r=id[e]=[t];setTimeout(function(){delete id[e],r.forEach(function(n){return n()})},e)}function i1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o||o==="")return o;if(o===!1||o===null)return null}}function Ax(t){if(t===!0)return"100%";if(t!==!1)return t}function xj(t){var e=bj();return function(){var n=Vn(t),i;if(e){var o=Vn(this).constructor;i=zt(n,arguments,o)}else i=n.apply(this,arguments);return Kf(this,i)}}function bj(){if(typeof Reflect>"u"||!zt||zt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(zt(Boolean,[],function(){})),!0}catch{return!1}}var o1={cache:s9,colors:NL,initials:DL,avatarRedirectUrl:null},Sj=Ox(o1),Mx=st.createContext&&st.createContext(),Yg=!Mx,kj=Yg?null:Mx.Consumer,Cj=st.forwardRef||function(t){return t},ks=function(t){Vf(r,t);var e=xj(r);function r(){return qr(this,r),e.apply(this,arguments)}return Gr(r,[{key:"_getContext",value:function(){var i=this,o={};return Sj.forEach(function(l){typeof i.props[l]<"u"&&(o[l]=i.props[l])}),o}},{key:"render",value:function(){var i=this.props.children;return Yg?st.Children.only(i):st.createElement(Mx.Provider,{value:this._getContext()},st.Children.only(i))}}]),r}(st.Component);Re(ks,"displayName","ConfigProvider");Re(ks,"propTypes",{cache:ve.object,colors:ve.arrayOf(ve.string),initials:ve.func,avatarRedirectUrl:ve.string,children:ve.node});var RL=function(e){function r(n,i){if(Yg){var o=i&&i.reactAvatar;return st.createElement(e,yr({},o1,o,n))}return st.createElement(kj,null,function(l){return st.createElement(e,yr({ref:i},o1,l,n))})}return r.contextTypes=ks.childContextTypes,Cj(r)};Yg&&(ks.childContextTypes={reactAvatar:ve.object},ks.prototype.getChildContext=function(){return{reactAvatar:this._getContext()}});var Xg={},Tj=eL,Oj=vx,Ej=Oj.concat("length","prototype");Xg.f=Object.getOwnPropertyNames||function(e){return Tj(e,Ej)};var IL={},Aj=Is,Mj=Co,BL=Xg.f,Lj=jg,_L=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Pj=function(t){try{return BL(t)}catch{return Lj(_L)}};IL.f=function(e){return _L&&Aj(e)==="Window"?Pj(e):BL(Mj(e))};var Nj=$g,FL=function(t,e,r,n){return n&&n.enumerable?t[e]=r:Nj(t,e,r),t},Dj=To,Rj=function(t,e,r){return Dj.f(t,e,r)},Lx={},Ij=wi;Lx.f=Ij;var q2=fn,Bj=yi,_j=Lx,Fj=To.f,$j=function(t){var e=q2.Symbol||(q2.Symbol={});Bj(e,t)||Fj(e,t,{value:_j.f(t)})},zj=Bs,Wj=_s,jj=wi,Hj=FL,Uj=function(){var t=Wj("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=jj("toPrimitive");e&&!e[n]&&Hj(e,n,function(i){return zj(r,this)},{arity:1})},Vj=yx,Kj=wx,qj=Vj?{}.toString:function(){return"[object "+Kj(this)+"]"},Gj=yx,Yj=To.f,Xj=$g,Qj=yi,Jj=qj,Zj=wi,G2=Zj("toStringTag"),eH=function(t,e,r,n){var i=r?t:t&&t.prototype;i&&(Qj(i,G2)||Yj(i,G2,{configurable:!0,value:e}),n&&!Gj&&Xj(i,"toString",Jj))},tH=cn,rH=On,Y2=tH.WeakMap,nH=rH(Y2)&&/native code/.test(String(Y2)),iH=nH,$L=cn,oH=Ki,sH=$g,p0=yi,g0=dx,lH=Cx,aH=zg,X2="Object already initialized",s1=$L.TypeError,uH=$L.WeakMap,$p,df,zp,cH=function(t){return zp(t)?df(t):$p(t,{})},fH=function(t){return function(e){var r;if(!oH(e)||(r=df(e)).type!==t)throw new s1("Incompatible receiver, "+t+" required");return r}};if(iH||g0.state){var Ei=g0.state||(g0.state=new uH);Ei.get=Ei.get,Ei.has=Ei.has,Ei.set=Ei.set,$p=function(t,e){if(Ei.has(t))throw new s1(X2);return e.facade=t,Ei.set(t,e),e},df=function(t){return Ei.get(t)||{}},zp=function(t){return Ei.has(t)}}else{var pa=lH("state");aH[pa]=!0,$p=function(t,e){if(p0(t,pa))throw new s1(X2);return e.facade=t,sH(t,pa,e),e},df=function(t){return p0(t,pa)?t[pa]:{}},zp=function(t){return p0(t,pa)}}var hH={set:$p,get:df,has:zp,enforce:cH,getterFor:fH},Qg=Jt,qf=cn,Px=Bs,dH=It,eu=En,tu=vu,pH=Rt,rr=yi,gH=Pl,l1=yu,Jg=Co,Nx=gx,mH=Nl,a1=Rg,ru=wL,zL=Wg,vH=Xg,WL=IL,yH=jf,jL=_f,HL=To,wH=Kg,UL=Dg,Q2=FL,xH=Rj,Dx=$f,bH=Cx,VL=zg,J2=px,SH=wi,kH=Lx,CH=$j,TH=Uj,OH=eH,KL=hH,Zg=Sx.forEach,en=bH("hidden"),em="Symbol",pf="prototype",EH=KL.set,Z2=KL.getterFor(em),hi=Object[pf],gl=qf.Symbol,Cc=gl&&gl[pf],AH=qf.RangeError,MH=qf.TypeError,m0=qf.QObject,qL=jL.f,ml=HL.f,GL=WL.f,LH=UL.f,YL=dH([].push),wo=Dx("symbols"),Gf=Dx("op-symbols"),PH=Dx("wks"),u1=!m0||!m0[pf]||!m0[pf].findChild,XL=function(t,e,r){var n=qL(hi,e);n&&delete hi[e],ml(t,e,r),n&&t!==hi&&ml(hi,e,n)},c1=eu&&pH(function(){return ru(ml({},"a",{get:function(){return ml(this,"a",{value:7}).a}})).a!==7})?XL:ml,v0=function(t,e){var r=wo[t]=ru(Cc);return EH(r,{type:em,tag:t,description:e}),eu||(r.description=e),r},tm=function(e,r,n){e===hi&&tm(Gf,r,n),l1(e);var i=Nx(r);return l1(n),rr(wo,i)?(n.enumerable?(rr(e,en)&&e[en][i]&&(e[en][i]=!1),n=ru(n,{enumerable:a1(0,!1)})):(rr(e,en)||ml(e,en,a1(1,ru(null))),e[en][i]=!0),c1(e,i,n)):ml(e,i,n)},Rx=function(e,r){l1(e);var n=Jg(r),i=zL(n).concat(eP(n));return Zg(i,function(o){(!eu||Px(QL,n,o))&&tm(e,o,n[o])}),e},NH=function(e,r){return r===void 0?ru(e):Rx(ru(e),r)},QL=function(e){var r=Nx(e),n=Px(LH,this,r);return this===hi&&rr(wo,r)&&!rr(Gf,r)?!1:n||!rr(this,r)||!rr(wo,r)||rr(this,en)&&this[en][r]?n:!0},JL=function(e,r){var n=Jg(e),i=Nx(r);if(!(n===hi&&rr(wo,i)&&!rr(Gf,i))){var o=qL(n,i);return o&&rr(wo,i)&&!(rr(n,en)&&n[en][i])&&(o.enumerable=!0),o}},ZL=function(e){var r=GL(Jg(e)),n=[];return Zg(r,function(i){!rr(wo,i)&&!rr(VL,i)&&YL(n,i)}),n},eP=function(t){var e=t===hi,r=GL(e?Gf:Jg(t)),n=[];return Zg(r,function(i){rr(wo,i)&&(!e||rr(hi,i))&&YL(n,wo[i])}),n};tu||(gl=function(){if(gH(Cc,this))throw new MH("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:mH(arguments[0]),r=J2(e),n=function(i){var o=this===void 0?qf:this;o===hi&&Px(n,Gf,i),rr(o,en)&&rr(o[en],r)&&(o[en][r]=!1);var l=a1(1,i);try{c1(o,r,l)}catch(u){if(!(u instanceof AH))throw u;XL(o,r,l)}};return eu&&u1&&c1(hi,r,{configurable:!0,set:n}),v0(r,e)},Cc=gl[pf],Q2(Cc,"toString",function(){return Z2(this).tag}),Q2(gl,"withoutSetter",function(t){return v0(J2(t),t)}),UL.f=QL,HL.f=tm,wH.f=Rx,jL.f=JL,vH.f=WL.f=ZL,yH.f=eP,kH.f=function(t){return v0(SH(t),t)},eu&&xH(Cc,"description",{configurable:!0,get:function(){return Z2(this).description}}));Qg({global:!0,constructor:!0,wrap:!0,forced:!tu,sham:!tu},{Symbol:gl});Zg(zL(PH),function(t){CH(t)});Qg({target:em,stat:!0,forced:!tu},{useSetter:function(){u1=!0},useSimple:function(){u1=!1}});Qg({target:"Object",stat:!0,forced:!tu,sham:!eu},{create:NH,defineProperty:tm,defineProperties:Rx,getOwnPropertyDescriptor:JL});Qg({target:"Object",stat:!0,forced:!tu},{getOwnPropertyNames:ZL});TH();OH(gl,em);VL[en]=!0;var DH=vu,tP=DH&&!!Symbol.for&&!!Symbol.keyFor,RH=Jt,IH=_s,BH=yi,_H=Nl,rP=$f,FH=tP,y0=rP("string-to-symbol-registry"),$H=rP("symbol-to-string-registry");RH({target:"Symbol",stat:!0,forced:!FH},{for:function(t){var e=_H(t);if(BH(y0,e))return y0[e];var r=IH("Symbol")(e);return y0[e]=r,$H[r]=e,r}});var zH=Jt,WH=yi,jH=_g,HH=hx,UH=$f,VH=tP,eT=UH("symbol-to-string-registry");zH({target:"Symbol",stat:!0,forced:!VH},{keyFor:function(e){if(!jH(e))throw new TypeError(HH(e)+" is not a symbol");if(WH(eT,e))return eT[e]}});var KH=Jt,qH=vu,GH=Rt,nP=jf,YH=Fs,XH=!qH||GH(function(){nP.f(1)});KH({target:"Object",stat:!0,forced:XH},{getOwnPropertySymbols:function(e){var r=nP.f;return r?r(YH(e)):[]}});var QH=fn,JH=QH.Object.getOwnPropertySymbols,ZH=JH,e7=ZH;const Wp=Wt(e7);var iP={exports:{}},t7=Jt,r7=Rt,n7=Co,oP=_f.f,sP=En,i7=!sP||r7(function(){oP(1)});t7({target:"Object",stat:!0,forced:i7,sham:!sP},{getOwnPropertyDescriptor:function(e,r){return oP(n7(e),r)}});var o7=fn,lP=o7.Object,s7=iP.exports=function(e,r){return lP.getOwnPropertyDescriptor(e,r)};lP.getOwnPropertyDescriptor.sham&&(s7.sham=!0);var l7=iP.exports,a7=l7,u7=a7;const rm=Wt(u7);var c7=_s,f7=It,h7=Xg,d7=jf,p7=yu,g7=f7([].concat),m7=c7("Reflect","ownKeys")||function(e){var r=h7.f(p7(e)),n=d7.f;return n?g7(r,n(e)):r},v7=Jt,y7=En,w7=m7,x7=Co,b7=_f,S7=kx;v7({target:"Object",stat:!0,sham:!y7},{getOwnPropertyDescriptors:function(e){for(var r=x7(e),n=b7.f,i=w7(r),o={},l=0,u,c;i.length>l;)c=n(r,u=i[l++]),c!==void 0&&S7(o,u,c);return o}});var k7=fn,C7=k7.Object.getOwnPropertyDescriptors,T7=C7,O7=T7;const jp=Wt(O7);var aP={exports:{}},E7=Jt,A7=En,tT=Kg.f;E7({target:"Object",stat:!0,forced:Object.defineProperties!==tT,sham:!A7},{defineProperties:tT});var M7=fn,uP=M7.Object,L7=aP.exports=function(e,r){return uP.defineProperties(e,r)};uP.defineProperties.sham&&(L7.sham=!0);var P7=aP.exports,N7=P7,D7=N7;const cP=Wt(D7);var fP={exports:{}},R7=Jt,I7=En,rT=To.f;R7({target:"Object",stat:!0,forced:Object.defineProperty!==rT,sham:!I7},{defineProperty:rT});var B7=fn,hP=B7.Object,_7=fP.exports=function(e,r,n){return hP.defineProperty(e,r,n)};hP.defineProperty.sham&&(_7.sham=!0);var F7=fP.exports,$7=F7,z7=$7;const dP=Wt(z7);var W7=function(){function t(){qr(this,t),this.sourcePointer=0,this.active=!0,this.fetch=null}return Gr(t,[{key:"isActive",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(r.internal!==this||!this.fetch||this.active!==!0)}}]),t}();function nT(t,e){var r=Ox(t);if(Wp){var n=Wp(t);e&&(n=Vg(n).call(n,function(i){return rm(t,i).enumerable})),r.push.apply(r,n)}return r}function w0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(n){Re(t,n,r[n])}):jp?cP(t,jp(r)):nT(Object(r)).forEach(function(n){dP(t,n,rm(r,n))})}return t}function j7(t){var e=H7();return function(){var n=Vn(t),i;if(e){var o=Vn(this).constructor;i=zt(n,arguments,o)}else i=n.apply(this,arguments);return Kf(this,i)}}function H7(){if(typeof Reflect>"u"||!zt||zt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(zt(Boolean,[],function(){})),!0}catch{return!1}}function U7(t,e,r){var n=e.cache,i=new t(e);if(!i.isCompatible(e))return r();i.get(function(o){var l=o&&o.src&&n.hasSourceFailedBefore(o.src);!l&&o?r(o):r()})}function V7(t){var e=t.sources,r=e===void 0?[]:e,n=ML(r).call(r,function(o,l){return Xy(o,l.propTypes)},{}),i=function(o){Vf(u,o);var l=j7(u);function u(c){var p;return qr(this,u),p=l.call(this,c),Re(_p(p),"_createFetcher",function(g){return function(v){var y=p.props.cache;if(g.isActive(p.state)){v&&v.type==="error"&&y.sourceFailed(v.target.src);var x=g.sourcePointer;if(r.length!==x){var T=r[x];g.sourcePointer++,U7(T,p.props,function(A){if(!A)return setTimeout(g.fetch,0);g.isActive(p.state)&&(A=w0({src:null,value:null,color:null},A),p.setState(function(P){return g.isActive(P)?A:{}}))})}}}}),Re(_p(p),"fetch",function(){var g=new W7;g.fetch=p._createFetcher(g),p.setState({internal:g},g.fetch)}),p.state={internal:null,src:null,value:null,color:c.color},p}return Gr(u,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(p){var g=!1;for(var v in n)g=g||p[v]!==this.props[v];g&&setTimeout(this.fetch,0)}},{key:"componentWillUnmount",value:function(){this.state.internal&&(this.state.internal.active=!1)}},{key:"render",value:function(){var p=this.props,g=p.children,v=p.propertyName,y=this.state,x=y.src,T=y.value,A=y.color,P=y.sourceName,C=y.internal,S={src:x,value:T,color:A,sourceName:P,onRenderFailed:function(){return C&&C.fetch()}};if(typeof g=="function")return g(S);var M=st.Children.only(g);return st.cloneElement(M,Re({},v,S))}}]),u}(re.PureComponent);return Re(i,"displayName","AvatarDataProvider"),Re(i,"propTypes",w0(w0({},n),{},{cache:ve.object,propertyName:ve.string})),Re(i,"defaultProps",{propertyName:"avatar"}),Re(i,"Cache",Bp),Re(i,"ConfigProvider",ks),Xy(RL(i),{ConfigProvider:ks,Cache:Bp})}function iT(t,e){var r=Ox(t);if(Wp){var n=Wp(t);e&&(n=Vg(n).call(n,function(i){return rm(t,i).enumerable})),r.push.apply(r,n)}return r}function K7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(r),!0).forEach(function(n){Re(t,n,r[n])}):jp?cP(t,jp(r)):iT(Object(r)).forEach(function(n){dP(t,n,rm(r,n))})}return t}function q7(t){var e=G7();return function(){var n=Vn(t),i;if(e){var o=Vn(this).constructor;i=zt(n,arguments,o)}else i=n.apply(this,arguments);return Kf(this,i)}}function G7(){if(typeof Reflect>"u"||!zt||zt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(zt(Boolean,[],function(){})),!0}catch{return!1}}var Ix=function(t){Vf(r,t);var e=q7(r);function r(){return qr(this,r),e.apply(this,arguments)}return Gr(r,[{key:"render",value:function(){var i=this.props,o=i.className,l=i.unstyled,u=i.round,c=i.style,p=i.avatar,g=i.onClick,v=i.children,y=p.sourceName,x=qg(this.props.size),T=l?null:K7({display:"inline-block",verticalAlign:"middle",width:x.str,height:x.str,borderRadius:Ax(u),fontFamily:"Helvetica, Arial, sans-serif"},c),A=[o,"sb-avatar"];if(y){var P=y.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");A.push("sb-avatar--"+P)}return st.createElement("div",{className:A.join(" "),onClick:g,style:T},v)}}]),r}(st.PureComponent);Re(Ix,"propTypes",{className:ve.string,round:ve.oneOfType([ve.bool,ve.string]),style:ve.object,size:ve.oneOfType([ve.number,ve.string]),unstyled:ve.bool,avatar:ve.object,onClick:ve.func,children:ve.node});function Y7(t){var e=X7();return function(){var n=Vn(t),i;if(e){var o=Vn(this).constructor;i=zt(n,arguments,o)}else i=n.apply(this,arguments);return Kf(this,i)}}function X7(){if(typeof Reflect>"u"||!zt||zt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(zt(Boolean,[],function(){})),!0}catch{return!1}}var Bx=function(t){Vf(r,t);var e=Y7(r);function r(){return qr(this,r),e.apply(this,arguments)}return Gr(r,[{key:"render",value:function(){var i=this.props,o=i.className,l=i.round,u=i.unstyled,c=i.alt,p=i.title,g=i.name,v=i.value,y=i.avatar,x=qg(this.props.size),T=u?null:{maxWidth:"100%",width:x.str,height:x.str,borderRadius:Ax(l)};return st.createElement(Ix,this.props,st.createElement("img",{className:o+" sb-avatar__image",width:x.str,height:x.str,style:T,src:y.src,alt:i1(c,g||v),title:i1(p,g||v),onError:y.onRenderFailed}))}}]),r}(st.PureComponent);Re(Bx,"propTypes",{alt:ve.oneOfType([ve.string,ve.bool]),title:ve.oneOfType([ve.string,ve.bool]),name:ve.string,value:ve.string,avatar:ve.object,className:ve.string,unstyled:ve.bool,round:ve.oneOfType([ve.bool,ve.string,ve.number]),size:ve.oneOfType([ve.number,ve.string])});Re(Bx,"defaultProps",{className:"",round:!1,size:100,unstyled:!1});var Q7=TypeError,J7=9007199254740991,Z7=function(t){if(t>J7)throw Q7("Maximum allowed index exceeded");return t},eU=Jt,tU=Rt,rU=Hg,nU=Ki,iU=Fs,oU=Wf,oT=Z7,sT=kx,sU=dL,lU=Ug,aU=wi,uU=Bg,pP=aU("isConcatSpreadable"),cU=uU>=51||!tU(function(){var t=[];return t[pP]=!1,t.concat()[0]!==t}),fU=function(t){if(!nU(t))return!1;var e=t[pP];return e!==void 0?!!e:rU(t)},hU=!cU||!lU("concat");eU({target:"Array",proto:!0,arity:1,forced:hU},{concat:function(e){var r=iU(this),n=sU(r,0),i=0,o,l,u,c,p;for(o=-1,u=arguments.length;o<u;o++)if(p=o===-1?r:arguments[o],fU(p))for(c=oU(p),oT(i+c),l=0;l<c;l++,i++)l in p&&sT(n,i,p[l]);else oT(i+1),sT(n,i++,p);return n.length=i,n}});var dU=Uf,pU=dU("Array","concat"),gU=Pl,mU=pU,x0=Array.prototype,vU=function(t){var e=t.concat;return t===x0||gU(x0,t)&&e===x0.concat?mU:e},yU=vU,wU=yU;const Wc=Wt(wU);function xU(t){var e=bU();return function(){var n=Vn(t),i;if(e){var o=Vn(this).constructor;i=zt(n,arguments,o)}else i=n.apply(this,arguments);return Kf(this,i)}}function bU(){if(typeof Reflect>"u"||!zt||zt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(zt(Boolean,[],function(){})),!0}catch{return!1}}var _x=function(t){Vf(r,t);var e=xU(r);function r(){var n,i;qr(this,r);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return i=e.call.apply(e,Wc(n=[this]).call(n,l)),Re(_p(i),"_scaleTextNode",function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,g=i.props,v=g.unstyled,y=g.textSizeRatio,x=g.textMarginRatio,T=g.avatar;if(i._node=c,!(!c||!c.parentNode||v||T.src||!i._mounted)){var A=c.parentNode,P=A.parentNode,C=A.getBoundingClientRect(),S=C.width,M=C.height;if(S==0&&M==0){var N=Math.min(p*1.5,500);wj(function(){return i._scaleTextNode(c,N)},N);return}if(!P.style.fontSize){var D=M/y;P.style.fontSize="".concat(D,"px")}A.style.fontSize=null;var W=c.getBoundingClientRect(),z=W.width;if(!(z<0)){var H=S*(1-2*x);z>H&&(A.style.fontSize="calc(1em * ".concat(H/z,")"))}}}),i}return Gr(r,[{key:"componentDidMount",value:function(){this._mounted=!0,this._scaleTextNode(this._node)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var i=this.props,o=i.className,l=i.round,u=i.unstyled,c=i.title,p=i.name,g=i.value,v=i.avatar,y=qg(this.props.size),x=u?null:{width:y.str,height:y.str,lineHeight:"initial",textAlign:"center",color:this.props.fgColor,background:v.color,borderRadius:Ax(l)},T=u?null:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"},A=u?null:{display:"table-cell",verticalAlign:"middle",fontSize:"100%",whiteSpace:"nowrap"},P=[v.value,this.props.size].join("");return st.createElement(Ix,this.props,st.createElement("div",{className:o+" sb-avatar__text",style:x,title:i1(c,p||g)},st.createElement("div",{style:T},st.createElement("span",{style:A},st.createElement("span",{ref:this._scaleTextNode,key:P},v.value)))))}}]),r}(st.PureComponent);Re(_x,"propTypes",{name:ve.string,value:ve.string,avatar:ve.object,title:ve.oneOfType([ve.string,ve.bool]),className:ve.string,unstyled:ve.bool,fgColor:ve.string,textSizeRatio:ve.number,textMarginRatio:ve.number,round:ve.oneOfType([ve.bool,ve.string,ve.number]),size:ve.oneOfType([ve.number,ve.string])});Re(_x,"defaultProps",{className:"",fgColor:"#FFF",round:!1,size:100,textSizeRatio:3,textMarginRatio:.15,unstyled:!1});function SU(t){var e=V7(t),r=RL(st.forwardRef(function(n,i){return st.createElement(e,yr({},n,{propertyName:"avatar"}),function(o){var l=o.src?Bx:_x;return st.createElement(l,yr({},n,{avatar:o,ref:i}))})}));return Xy(r,{getRandomColor:Ex,ConfigProvider:ks,Cache:Bp})}var gP={exports:{}},mP={exports:{}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(r,n){return r<<n|r>>>32-n},rotr:function(r,n){return r<<32-n|r>>>n},endian:function(r){if(r.constructor==Number)return e.rotl(r,8)&16711935|e.rotl(r,24)&4278255360;for(var n=0;n<r.length;n++)r[n]=e.endian(r[n]);return r},randomBytes:function(r){for(var n=[];r>0;r--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(r){for(var n=[],i=0,o=0;i<r.length;i++,o+=8)n[o>>>5]|=r[i]<<24-o%32;return n},wordsToBytes:function(r){for(var n=[],i=0;i<r.length*32;i+=8)n.push(r[i>>>5]>>>24-i%32&255);return n},bytesToHex:function(r){for(var n=[],i=0;i<r.length;i++)n.push((r[i]>>>4).toString(16)),n.push((r[i]&15).toString(16));return n.join("")},hexToBytes:function(r){for(var n=[],i=0;i<r.length;i+=2)n.push(parseInt(r.substr(i,2),16));return n},bytesToBase64:function(r){for(var n=[],i=0;i<r.length;i+=3)for(var o=r[i]<<16|r[i+1]<<8|r[i+2],l=0;l<4;l++)i*8+l*6<=r.length*8?n.push(t.charAt(o>>>6*(3-l)&63)):n.push("=");return n.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],i=0,o=0;i<r.length;o=++i%4)o!=0&&n.push((t.indexOf(r.charAt(i-1))&Math.pow(2,-2*o+8)-1)<<o*2|t.indexOf(r.charAt(i))>>>6-o*2);return n}};mP.exports=e})();var kU=mP.exports,f1={utf8:{stringToBytes:function(t){return f1.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(f1.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r)&255);return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}},lT=f1;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var CU=function(t){return t!=null&&(vP(t)||TU(t)||!!t._isBuffer)};function vP(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function TU(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&vP(t.slice(0,0))}(function(){var t=kU,e=lT.utf8,r=CU,n=lT.bin,i=function(o,l){o.constructor==String?l&&l.encoding==="binary"?o=n.stringToBytes(o):o=e.stringToBytes(o):r(o)?o=Array.prototype.slice.call(o,0):!Array.isArray(o)&&o.constructor!==Uint8Array&&(o=o.toString());for(var u=t.bytesToWords(o),c=o.length*8,p=1732584193,g=-271733879,v=-1732584194,y=271733878,x=0;x<u.length;x++)u[x]=(u[x]<<8|u[x]>>>24)&16711935|(u[x]<<24|u[x]>>>8)&4278255360;u[c>>>5]|=128<<c%32,u[(c+64>>>9<<4)+14]=c;for(var T=i._ff,A=i._gg,P=i._hh,C=i._ii,x=0;x<u.length;x+=16){var S=p,M=g,N=v,D=y;p=T(p,g,v,y,u[x+0],7,-680876936),y=T(y,p,g,v,u[x+1],12,-389564586),v=T(v,y,p,g,u[x+2],17,606105819),g=T(g,v,y,p,u[x+3],22,-1044525330),p=T(p,g,v,y,u[x+4],7,-176418897),y=T(y,p,g,v,u[x+5],12,1200080426),v=T(v,y,p,g,u[x+6],17,-1473231341),g=T(g,v,y,p,u[x+7],22,-45705983),p=T(p,g,v,y,u[x+8],7,1770035416),y=T(y,p,g,v,u[x+9],12,-1958414417),v=T(v,y,p,g,u[x+10],17,-42063),g=T(g,v,y,p,u[x+11],22,-1990404162),p=T(p,g,v,y,u[x+12],7,1804603682),y=T(y,p,g,v,u[x+13],12,-40341101),v=T(v,y,p,g,u[x+14],17,-1502002290),g=T(g,v,y,p,u[x+15],22,1236535329),p=A(p,g,v,y,u[x+1],5,-165796510),y=A(y,p,g,v,u[x+6],9,-1069501632),v=A(v,y,p,g,u[x+11],14,643717713),g=A(g,v,y,p,u[x+0],20,-373897302),p=A(p,g,v,y,u[x+5],5,-701558691),y=A(y,p,g,v,u[x+10],9,38016083),v=A(v,y,p,g,u[x+15],14,-660478335),g=A(g,v,y,p,u[x+4],20,-405537848),p=A(p,g,v,y,u[x+9],5,568446438),y=A(y,p,g,v,u[x+14],9,-1019803690),v=A(v,y,p,g,u[x+3],14,-187363961),g=A(g,v,y,p,u[x+8],20,1163531501),p=A(p,g,v,y,u[x+13],5,-1444681467),y=A(y,p,g,v,u[x+2],9,-51403784),v=A(v,y,p,g,u[x+7],14,1735328473),g=A(g,v,y,p,u[x+12],20,-1926607734),p=P(p,g,v,y,u[x+5],4,-378558),y=P(y,p,g,v,u[x+8],11,-2022574463),v=P(v,y,p,g,u[x+11],16,1839030562),g=P(g,v,y,p,u[x+14],23,-35309556),p=P(p,g,v,y,u[x+1],4,-1530992060),y=P(y,p,g,v,u[x+4],11,1272893353),v=P(v,y,p,g,u[x+7],16,-155497632),g=P(g,v,y,p,u[x+10],23,-1094730640),p=P(p,g,v,y,u[x+13],4,681279174),y=P(y,p,g,v,u[x+0],11,-358537222),v=P(v,y,p,g,u[x+3],16,-722521979),g=P(g,v,y,p,u[x+6],23,76029189),p=P(p,g,v,y,u[x+9],4,-640364487),y=P(y,p,g,v,u[x+12],11,-421815835),v=P(v,y,p,g,u[x+15],16,530742520),g=P(g,v,y,p,u[x+2],23,-995338651),p=C(p,g,v,y,u[x+0],6,-198630844),y=C(y,p,g,v,u[x+7],10,1126891415),v=C(v,y,p,g,u[x+14],15,-1416354905),g=C(g,v,y,p,u[x+5],21,-57434055),p=C(p,g,v,y,u[x+12],6,1700485571),y=C(y,p,g,v,u[x+3],10,-1894986606),v=C(v,y,p,g,u[x+10],15,-1051523),g=C(g,v,y,p,u[x+1],21,-2054922799),p=C(p,g,v,y,u[x+8],6,1873313359),y=C(y,p,g,v,u[x+15],10,-30611744),v=C(v,y,p,g,u[x+6],15,-1560198380),g=C(g,v,y,p,u[x+13],21,1309151649),p=C(p,g,v,y,u[x+4],6,-145523070),y=C(y,p,g,v,u[x+11],10,-1120210379),v=C(v,y,p,g,u[x+2],15,718787259),g=C(g,v,y,p,u[x+9],21,-343485551),p=p+S>>>0,g=g+M>>>0,v=v+N>>>0,y=y+D>>>0}return t.endian([p,g,v,y])};i._ff=function(o,l,u,c,p,g,v){var y=o+(l&u|~l&c)+(p>>>0)+v;return(y<<g|y>>>32-g)+l},i._gg=function(o,l,u,c,p,g,v){var y=o+(l&c|u&~c)+(p>>>0)+v;return(y<<g|y>>>32-g)+l},i._hh=function(o,l,u,c,p,g,v){var y=o+(l^u^c)+(p>>>0)+v;return(y<<g|y>>>32-g)+l},i._ii=function(o,l,u,c,p,g,v){var y=o+(u^(l|~c))+(p>>>0)+v;return(y<<g|y>>>32-g)+l},i._blocksize=16,i._digestsize=16,gP.exports=function(o,l){if(o==null)throw new Error("Illegal argument "+o);var u=t.wordsToBytes(i(o,l));return l&&l.asBytes?u:l&&l.asString?n.bytesToString(u):t.bytesToHex(u)}})();var OU=gP.exports;const EU=Wt(OU);var yP=Gr(function t(e){var r=this;qr(this,t),Re(this,"props",null),Re(this,"isCompatible",function(){return!!r.props.email||!!r.props.md5Email}),Re(this,"get",function(n){var i=r.props,o=i.md5Email||EU(i.email),l=Gg(i.size),u="https://secure.gravatar.com/avatar/".concat(o,"?d=404");l&&(u+="&s=".concat(l)),n({sourceName:"gravatar",src:u})}),this.props=e});Re(yP,"propTypes",{email:ve.string,md5Email:ve.string});var wP=Gr(function t(e){var r=this;qr(this,t),Re(this,"props",null),Re(this,"isCompatible",function(){return!!r.props.facebookId}),Re(this,"get",function(n){var i,o=r.props.facebookId,l=Gg(r.props.size),u="https://graph.facebook.com/".concat(o,"/picture");l&&(u+=Wc(i="?width=".concat(l,"&height=")).call(i,l)),n({sourceName:"facebook",src:u})}),this.props=e});Re(wP,"propTypes",{facebookId:ve.string});var xP=Gr(function t(e){var r=this;qr(this,t),Re(this,"props",null),Re(this,"isCompatible",function(){return!!r.props.githubHandle}),Re(this,"get",function(n){var i=r.props.githubHandle,o=Gg(r.props.size),l="https://avatars.githubusercontent.com/".concat(i,"?v=4");o&&(l+="&s=".concat(o)),n({sourceName:"github",src:l})}),this.props=e});Re(xP,"propTypes",{githubHandle:ve.string});var bP=Gr(function t(e){var r=this;qr(this,t),Re(this,"props",null),Re(this,"isCompatible",function(){return!!r.props.skypeId}),Re(this,"get",function(n){var i=r.props.skypeId,o="https://api.skype.com/users/".concat(i,"/profile/avatar");n({sourceName:"skype",src:o})}),this.props=e});Re(bP,"propTypes",{skypeId:ve.string});var SP=function(){function t(e){var r=this;qr(this,t),Re(this,"props",null),Re(this,"isCompatible",function(){return!!(r.props.name||r.props.value||r.props.email)}),Re(this,"get",function(n){var i=r.getValue();if(!i)return n(null);n({sourceName:"text",value:i,color:r.getColor()})}),this.props=e}return Gr(t,[{key:"getInitials",value:function(){var r=this.props,n=r.name,i=r.initials;return typeof i=="string"?i:typeof i=="function"?i(n,this.props):DL(n,this.props)}},{key:"getValue",value:function(){return this.props.name?this.getInitials():this.props.value?this.props.value:null}},{key:"getColor",value:function(){var r=this.props,n=r.color,i=r.colors,o=r.name,l=r.email,u=r.value,c=o||l||u;return n||Ex(c,i)}}]),t}();Re(SP,"propTypes",{color:ve.string,name:ve.string,value:ve.string,email:ve.string,maxInitials:ve.number,initials:ve.oneOfType([ve.string,ve.func])});var kP=Gr(function t(e){var r=this;qr(this,t),Re(this,"props",null),Re(this,"isCompatible",function(){return!!r.props.src}),Re(this,"get",function(n){n({sourceName:"src",src:r.props.src})}),this.props=e});Re(kP,"propTypes",{src:ve.string});var CP=Gr(function t(e){var r=this;qr(this,t),Re(this,"props",null),Re(this,"icon","✷"),Re(this,"isCompatible",function(){return!0}),Re(this,"get",function(n){var i=r.props,o=i.color,l=i.colors;n({sourceName:"icon",value:r.icon,color:o||Ex(r.icon,l)})}),this.props=e});Re(CP,"propTypes",{color:ve.string});function nm(t,e){var r;return r=Gr(function n(i){var o=this;qr(this,n),Re(this,"props",null),Re(this,"isCompatible",function(){return!!o.props.avatarRedirectUrl&&!!o.props[e]}),Re(this,"get",function(l){var u,c,p,g=o.props.avatarRedirectUrl,v=Gg(o.props.size),y=g.replace(/\/*$/,"/"),x=o.props[e],T=v?"size=".concat(v):"",A=Wc(u=Wc(c=Wc(p="".concat(y)).call(p,t,"/")).call(c,x,"?")).call(u,T);l({sourceName:t,src:A})}),this.props=i}),Re(r,"propTypes",Re({},e,ve.oneOfType([ve.string,ve.number]))),r}const AU=nm("twitter","twitterHandle"),MU=nm("vkontakte","vkontakteId"),LU=nm("instagram","instagramId"),PU=nm("google","googleId");var NU=[wP,PU,xP,AU,LU,MU,bP,yP,kP,SP,CP];const DU=SU({sources:NU});function RU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}class tt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){[e,r]=nu(this,e,r);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(r,this.length,i,1),Ii.from(i,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=nu(this,e,r);let n=[];return this.decompose(e,r,n,0),Ii.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new jc(this),o=new jc(e);for(let l=r,u=r;;){if(i.next(l),o.next(l),l=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(u+=i.value.length,i.done||u>=n)return!0}}iter(e=1){return new jc(this,e)}iterRange(e,r=this.length){return new TP(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new OP(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?tt.empty:e.length<=32?new Lt(e):Ii.from(Lt.split(e,[]))}}class Lt extends tt{constructor(e,r=IU(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,i){for(let o=0;;o++){let l=this.text[o],u=i+l.length;if((r?n:u)>=e)return new BU(i,u,n,l);i=u+1,n++}}decompose(e,r,n,i){let o=e<=0&&r>=this.length?this:new Lt(aT(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let l=n.pop(),u=Yd(o.text,l.text.slice(),0,o.length);if(u.length<=32)n.push(new Lt(u,l.length+o.length));else{let c=u.length>>1;n.push(new Lt(u.slice(0,c)),new Lt(u.slice(c)))}}else n.push(o)}replace(e,r,n){if(!(n instanceof Lt))return super.replace(e,r,n);[e,r]=nu(this,e,r);let i=Yd(this.text,Yd(n.text,aT(this.text,0,e)),r),o=this.length+n.length-(r-e);return i.length<=32?new Lt(i,o):Ii.from(Lt.split(i,[]),o)}sliceString(e,r=this.length,n=`
`){[e,r]=nu(this,e,r);let i="";for(let o=0,l=0;o<=r&&l<this.text.length;l++){let u=this.text[l],c=o+u.length;o>e&&l&&(i+=n),e<c&&r>o&&(i+=u.slice(Math.max(0,e-o),r-o)),o=c+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],i=-1;for(let o of e)n.push(o),i+=o.length+1,n.length==32&&(r.push(new Lt(n,i)),n=[],i=-1);return i>-1&&r.push(new Lt(n,i)),r}}class Ii extends tt{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,i){for(let o=0;;o++){let l=this.children[o],u=i+l.length,c=n+l.lines-1;if((r?c:u)>=e)return l.lineInner(e,r,n,i);i=u+1,n=c+1}}decompose(e,r,n,i){for(let o=0,l=0;l<=r&&o<this.children.length;o++){let u=this.children[o],c=l+u.length;if(e<=c&&r>=l){let p=i&((l<=e?1:0)|(c>=r?2:0));l>=e&&c<=r&&!p?n.push(u):u.decompose(e-l,r-l,n,p)}l=c+1}}replace(e,r,n){if([e,r]=nu(this,e,r),n.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let l=this.children[i],u=o+l.length;if(e>=o&&r<=u){let c=l.replace(e-o,r-o,n),p=this.lines-l.lines+c.lines;if(c.lines<p>>4&&c.lines>p>>6){let g=this.children.slice();return g[i]=c,new Ii(g,this.length-(r-e)+n.length)}return super.replace(o,u,c)}o=u+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){[e,r]=nu(this,e,r);let i="";for(let o=0,l=0;o<this.children.length&&l<=r;o++){let u=this.children[o],c=l+u.length;l>e&&o&&(i+=n),e<c&&r>l&&(i+=u.sliceString(e-l,r-l,n)),l=c+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof Ii))return 0;let n=0,[i,o,l,u]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,o+=r){if(i==l||o==u)return n;let c=this.children[i],p=e.children[o];if(c!=p)return n+c.scanIdentical(p,r);n+=c.length+1}}static from(e,r=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let x of e)n+=x.lines;if(n<32){let x=[];for(let T of e)T.flatten(x);return new Lt(x,r)}let i=Math.max(32,n>>5),o=i<<1,l=i>>1,u=[],c=0,p=-1,g=[];function v(x){let T;if(x.lines>o&&x instanceof Ii)for(let A of x.children)v(A);else x.lines>l&&(c>l||!c)?(y(),u.push(x)):x instanceof Lt&&c&&(T=g[g.length-1])instanceof Lt&&x.lines+T.lines<=32?(c+=x.lines,p+=x.length+1,g[g.length-1]=new Lt(T.text.concat(x.text),T.length+1+x.length)):(c+x.lines>i&&y(),c+=x.lines,p+=x.length+1,g.push(x))}function y(){c!=0&&(u.push(g.length==1?g[0]:Ii.from(g,p)),p=-1,c=g.length=0)}for(let x of e)v(x);return y(),u.length==1?u[0]:new Ii(u,r)}}tt.empty=new Lt([""],0);function IU(t){let e=-1;for(let r of t)e+=r.length+1;return e}function Yd(t,e,r=0,n=1e9){for(let i=0,o=0,l=!0;o<t.length&&i<=n;o++){let u=t[o],c=i+u.length;c>=r&&(c>n&&(u=u.slice(0,n-i)),i<r&&(u=u.slice(r-i)),l?(e[e.length-1]+=u,l=!1):e.push(u)),i=c+1}return e}function aT(t,e,r){return Yd(t,[""],e,r)}class jc{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof Lt?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],o=this.offsets[n],l=o>>1,u=i instanceof Lt?i.text.length:i.children.length;if(l==(r>0?u:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Lt){let c=i.text[l+(r<0?-1:0)];if(this.offsets[n]+=r,c.length>Math.max(0,e))return this.value=e==0?c:r>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[l+(r<0?-1:0)];e>c.length?(e-=c.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(c),this.offsets.push(r>0?1:(c instanceof Lt?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class TP{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new jc(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=n?i:r<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class OP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(tt.prototype[Symbol.iterator]=function(){return this.iter()},jc.prototype[Symbol.iterator]=TP.prototype[Symbol.iterator]=OP.prototype[Symbol.iterator]=function(){return this});class BU{constructor(e,r,n,i){this.from=e,this.to=r,this.number=n,this.text=i}get length(){return this.to-this.from}}function nu(t,e,r){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,r))]}let za="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<za.length;t++)za[t]+=za[t-1];function _U(t){for(let e=1;e<za.length;e+=2)if(za[e]>t)return za[e-1]<=t;return!1}function uT(t){return t>=127462&&t<=127487}const cT=8205;function gr(t,e,r=!0,n=!0){return(r?EP:FU)(t,e,n)}function EP(t,e,r){if(e==t.length)return e;e&&AP(t.charCodeAt(e))&&MP(t.charCodeAt(e-1))&&e--;let n=fr(t,e);for(e+=_n(n);e<t.length;){let i=fr(t,e);if(n==cT||i==cT||r&&_U(i))e+=_n(i),n=i;else if(uT(i)){let o=0,l=e-2;for(;l>=0&&uT(fr(t,l));)o++,l-=2;if(o%2==0)break;e+=2}else break}return e}function FU(t,e,r){for(;e>0;){let n=EP(t,e-2,r);if(n<e)return n;e--}return 0}function AP(t){return t>=56320&&t<57344}function MP(t){return t>=55296&&t<56320}function fr(t,e){let r=t.charCodeAt(e);if(!MP(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return AP(n)?(r-55296<<10)+(n-56320)+65536:r}function Fx(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function _n(t){return t<65536?1:2}const h1=/\r\n?|\n/;var Wr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Wr||(Wr={}));class ji{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,i=0;r<this.sections.length;){let o=this.sections[r++],l=this.sections[r++];l<0?(e(n,i,o),i+=o):i+=l,n+=o}}iterChangedRanges(e,r=!1){d1(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];i<0?e.push(n,i):e.push(i,n)}return new ji(e)}composeDesc(e){return this.empty?e:e.empty?this:LP(this,e)}mapDesc(e,r=!1){return e.empty?this:p1(this,e,r)}mapPos(e,r=-1,n=Wr.Simple){let i=0,o=0;for(let l=0;l<this.sections.length;){let u=this.sections[l++],c=this.sections[l++],p=i+u;if(c<0){if(p>e)return o+(e-i);o+=u}else{if(n!=Wr.Simple&&p>=e&&(n==Wr.TrackDel&&i<e&&p>e||n==Wr.TrackBefore&&i<e||n==Wr.TrackAfter&&p>e))return null;if(p>e||p==e&&r<0&&!u)return e==i||r<0?o:o+c;o+=c}i=p}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,r=e){for(let n=0,i=0;n<this.sections.length&&i<=r;){let o=this.sections[n++],l=this.sections[n++],u=i+o;if(l>=0&&i<=r&&u>=e)return i<e&&u>r?"cover":!0;i=u}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ji(e)}static create(e){return new ji(e)}}class Yt extends ji{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return d1(this,(r,n,i,o,l)=>e=e.replace(i,i+(n-r),l),!1),e}mapDesc(e,r=!1){return p1(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let i=0,o=0;i<r.length;i+=2){let l=r[i],u=r[i+1];if(u>=0){r[i]=u,r[i+1]=l;let c=i>>1;for(;n.length<c;)n.push(tt.empty);n.push(l?e.slice(o,o+l):tt.empty)}o+=l}return new Yt(r,n)}compose(e){return this.empty?e:e.empty?this:LP(this,e,!0)}map(e,r=!1){return e.empty?this:p1(this,e,r,!0)}iterChanges(e,r=!1){d1(this,e,r)}get desc(){return ji.create(this.sections)}filter(e){let r=[],n=[],i=[],o=new gf(this);e:for(let l=0,u=0;;){let c=l==e.length?1e9:e[l++];for(;u<c||u==c&&o.len==0;){if(o.done)break e;let g=Math.min(o.len,c-u);Cr(i,g,-1);let v=o.ins==-1?-1:o.off==0?o.ins:0;Cr(r,g,v),v>0&&os(n,r,o.text),o.forward(g),u+=g}let p=e[l++];for(;u<p;){if(o.done)break e;let g=Math.min(o.len,p-u);Cr(r,g,-1),Cr(i,g,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(g),u+=g}}return{changes:new Yt(r,n),filtered:ji.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],i=this.sections[r+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let i=[],o=[],l=0,u=null;function c(g=!1){if(!g&&!i.length)return;l<r&&Cr(i,r-l,-1);let v=new Yt(i,o);u=u?u.compose(v.map(u)):v,i=[],o=[],l=0}function p(g){if(Array.isArray(g))for(let v of g)p(v);else if(g instanceof Yt){if(g.length!=r)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${r})`);c(),u=u?u.compose(g.map(u)):g}else{let{from:v,to:y=v,insert:x}=g;if(v>y||v<0||y>r)throw new RangeError(`Invalid change range ${v} to ${y} (in doc of length ${r})`);let T=x?typeof x=="string"?tt.of(x.split(n||h1)):x:tt.empty,A=T.length;if(v==y&&A==0)return;v<l&&c(),v>l&&Cr(i,v-l,-1),Cr(i,y-v,A),os(o,i,T),l=y}}return p(e),c(!u),u}static empty(e){return new Yt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")r.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((l,u)=>u&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)r.push(o[0],0);else{for(;n.length<i;)n.push(tt.empty);n[i]=tt.of(o.slice(1)),r.push(o[0],n[i].length)}}}return new Yt(r,n)}static createSet(e,r){return new Yt(e,r)}}function Cr(t,e,r,n=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=r:n?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function os(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(tt.empty);t.push(r)}}function d1(t,e,r){let n=t.inserted;for(let i=0,o=0,l=0;l<t.sections.length;){let u=t.sections[l++],c=t.sections[l++];if(c<0)i+=u,o+=u;else{let p=i,g=o,v=tt.empty;for(;p+=u,g+=c,c&&n&&(v=v.append(n[l-2>>1])),!(r||l==t.sections.length||t.sections[l+1]<0);)u=t.sections[l++],c=t.sections[l++];e(i,p,o,g,v),i=p,o=g}}}function p1(t,e,r,n=!1){let i=[],o=n?[]:null,l=new gf(t),u=new gf(e);for(let c=-1;;)if(l.ins==-1&&u.ins==-1){let p=Math.min(l.len,u.len);Cr(i,p,-1),l.forward(p),u.forward(p)}else if(u.ins>=0&&(l.ins<0||c==l.i||l.off==0&&(u.len<l.len||u.len==l.len&&!r))){let p=u.len;for(Cr(i,u.ins,-1);p;){let g=Math.min(l.len,p);l.ins>=0&&c<l.i&&l.len<=g&&(Cr(i,0,l.ins),o&&os(o,i,l.text),c=l.i),l.forward(g),p-=g}u.next()}else if(l.ins>=0){let p=0,g=l.len;for(;g;)if(u.ins==-1){let v=Math.min(g,u.len);p+=v,g-=v,u.forward(v)}else if(u.ins==0&&u.len<g)g-=u.len,u.next();else break;Cr(i,p,c<l.i?l.ins:0),o&&c<l.i&&os(o,i,l.text),c=l.i,l.forward(l.len-g)}else{if(l.done&&u.done)return o?Yt.createSet(i,o):ji.create(i);throw new Error("Mismatched change set lengths")}}function LP(t,e,r=!1){let n=[],i=r?[]:null,o=new gf(t),l=new gf(e);for(let u=!1;;){if(o.done&&l.done)return i?Yt.createSet(n,i):ji.create(n);if(o.ins==0)Cr(n,o.len,0,u),o.next();else if(l.len==0&&!l.done)Cr(n,0,l.ins,u),i&&os(i,n,l.text),l.next();else{if(o.done||l.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,l.len),p=n.length;if(o.ins==-1){let g=l.ins==-1?-1:l.off?0:l.ins;Cr(n,c,g,u),i&&g&&os(i,n,l.text)}else l.ins==-1?(Cr(n,o.off?0:o.len,c,u),i&&os(i,n,o.textBit(c))):(Cr(n,o.off?0:o.len,l.off?0:l.ins,u),i&&!l.off&&os(i,n,l.text));u=(o.ins>c||l.ins>=0&&l.len>c)&&(u||n.length>p),o.forward2(c),l.forward(c)}}}}class gf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?tt.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?tt.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class fl{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new fl(n,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return ne.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return ne.range(this.anchor,n)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ne.range(e.anchor,e.head)}static create(e,r,n){return new fl(e,r,n)}}class ne{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:ne.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ne([this.main],0)}addRange(e,r=!0){return ne.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,ne.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ne(e.ranges.map(r=>fl.fromJSON(r)),e.main)}static single(e,r=e){return new ne([ne.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=n:o.from<n)return ne.normalized(e.slice(),r);n=o.to}return new ne(e,r)}static cursor(e,r=0,n,i){return fl.create(e,e,(r==0?0:r<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,r,n,i){let o=(n??16777215)<<6|(i==null?7:Math.min(6,i));return r<e?fl.create(r,e,48|o):fl.create(e,r,(r>e?8:0)|o)}static normalized(e,r=0){let n=e[r];e.sort((i,o)=>i.from-o.from),r=e.indexOf(n);for(let i=1;i<e.length;i++){let o=e[i],l=e[i-1];if(o.empty?o.from<=l.to:o.from<l.to){let u=l.from,c=Math.max(o.to,l.to);i<=r&&r--,e.splice(--i,2,o.anchor>o.head?ne.range(c,u):ne.range(u,c))}}return new ne(e,r)}}function PP(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let $x=0;class xe{constructor(e,r,n,i,o){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=i,this.id=$x++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new xe(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:zx),!!e.static,e.enables)}of(e){return new Xd([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xd(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xd(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}}function zx(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}class Xd{constructor(e,r,n,i){this.dependencies=e,this.facet=r,this.type=n,this.value=i,this.id=$x++}dynamicSlot(e){var r;let n=this.value,i=this.facet.compareInput,o=this.id,l=e[o]>>1,u=this.type==2,c=!1,p=!1,g=[];for(let v of this.dependencies)v=="doc"?c=!0:v=="selection"?p=!0:((r=e[v.id])!==null&&r!==void 0?r:1)&1||g.push(e[v.id]);return{create(v){return v.values[l]=n(v),1},update(v,y){if(c&&y.docChanged||p&&(y.docChanged||y.selection)||g1(v,g)){let x=n(v);if(u?!fT(x,v.values[l],i):!i(x,v.values[l]))return v.values[l]=x,1}return 0},reconfigure:(v,y)=>{let x,T=y.config.address[o];if(T!=null){let A=Up(y,T);if(this.dependencies.every(P=>P instanceof xe?y.facet(P)===v.facet(P):P instanceof wr?y.field(P,!1)==v.field(P,!1):!0)||(u?fT(x=n(v),A,i):i(x=n(v),A)))return v.values[l]=A,0}else x=n(v);return v.values[l]=x,1}}}}function fT(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function g1(t,e){let r=!1;for(let n of e)Hc(t,n)&1&&(r=!0);return r}function $U(t,e,r){let n=r.map(c=>t[c.id]),i=r.map(c=>c.type),o=n.filter(c=>!(c&1)),l=t[e.id]>>1;function u(c){let p=[];for(let g=0;g<n.length;g++){let v=Up(c,n[g]);if(i[g]==2)for(let y of v)p.push(y);else p.push(v)}return e.combine(p)}return{create(c){for(let p of n)Hc(c,p);return c.values[l]=u(c),1},update(c,p){if(!g1(c,o))return 0;let g=u(c);return e.compare(g,c.values[l])?0:(c.values[l]=g,1)},reconfigure(c,p){let g=g1(c,n),v=p.config.facets[e.id],y=p.facet(e);if(v&&!g&&zx(r,v))return c.values[l]=y,0;let x=u(c);return e.compare(x,y)?(c.values[l]=y,0):(c.values[l]=x,1)}}}const hT=xe.define({static:!0});class wr{constructor(e,r,n,i,o){this.id=e,this.createF=r,this.updateF=n,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let r=new wr($x++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(hT).find(n=>n.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,i)=>{let o=n.values[r],l=this.updateF(o,i);return this.compareF(o,l)?0:(n.values[r]=l,1)},reconfigure:(n,i)=>i.config.address[this.id]!=null?(n.values[r]=i.field(this),0):(n.values[r]=this.create(n),1)}}init(e){return[this,hT.of({field:this,create:e})]}get extension(){return this}}const ol={lowest:4,low:3,default:2,high:1,highest:0};function hc(t){return e=>new NP(e,t)}const Dl={highest:hc(ol.highest),high:hc(ol.high),default:hc(ol.default),low:hc(ol.low),lowest:hc(ol.lowest)};class NP{constructor(e,r){this.inner=e,this.prec=r}}class im{of(e){return new m1(this,e)}reconfigure(e){return im.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class m1{constructor(e,r){this.compartment=e,this.inner=r}}class Hp{constructor(e,r,n,i,o,l){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=i,this.staticValues=o,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let i=[],o=Object.create(null),l=new Map;for(let y of zU(e,r,l))y instanceof wr?i.push(y):(o[y.facet.id]||(o[y.facet.id]=[])).push(y);let u=Object.create(null),c=[],p=[];for(let y of i)u[y.id]=p.length<<1,p.push(x=>y.slot(x));let g=n==null?void 0:n.config.facets;for(let y in o){let x=o[y],T=x[0].facet,A=g&&g[y]||[];if(x.every(P=>P.type==0))if(u[T.id]=c.length<<1|1,zx(A,x))c.push(n.facet(T));else{let P=T.combine(x.map(C=>C.value));c.push(n&&T.compare(P,n.facet(T))?n.facet(T):P)}else{for(let P of x)P.type==0?(u[P.id]=c.length<<1|1,c.push(P.value)):(u[P.id]=p.length<<1,p.push(C=>P.dynamicSlot(C)));u[T.id]=p.length<<1,p.push(P=>$U(P,T,x))}}let v=p.map(y=>y(u));return new Hp(e,l,v,u,c,o)}}function zU(t,e,r){let n=[[],[],[],[],[]],i=new Map;function o(l,u){let c=i.get(l);if(c!=null){if(c<=u)return;let p=n[c].indexOf(l);p>-1&&n[c].splice(p,1),l instanceof m1&&r.delete(l.compartment)}if(i.set(l,u),Array.isArray(l))for(let p of l)o(p,u);else if(l instanceof m1){if(r.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let p=e.get(l.compartment)||l.inner;r.set(l.compartment,p),o(p,u)}else if(l instanceof NP)o(l.inner,l.prec);else if(l instanceof wr)n[u].push(l),l.provides&&o(l.provides,u);else if(l instanceof Xd)n[u].push(l),l.facet.extensions&&o(l.facet.extensions,ol.default);else{let p=l.extension;if(!p)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(p,u)}}return o(t,ol.default),n.reduce((l,u)=>l.concat(u))}function Hc(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function Up(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const DP=xe.define(),v1=xe.define({combine:t=>t.some(e=>e),static:!0}),RP=xe.define({combine:t=>t.length?t[0]:void 0,static:!0}),IP=xe.define(),BP=xe.define(),_P=xe.define(),FP=xe.define({combine:t=>t.length?t[0]:!1});class qi{constructor(e,r){this.type=e,this.value=r}static define(){return new WU}}class WU{of(e){return new qi(this,e)}}class jU{constructor(e){this.map=e}of(e){return new We(this,e)}}class We{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new We(this.type,r)}is(e){return this.type==e}static define(e={}){return new jU(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let i of e){let o=i.map(r);o&&n.push(o)}return n}}We.reconfigure=We.define();We.appendConfig=We.define();class Qt{constructor(e,r,n,i,o,l){this.startState=e,this.changes=r,this.selection=n,this.effects=i,this.annotations=o,this.scrollIntoView=l,this._doc=null,this._state=null,n&&PP(n,r.newLength),o.some(u=>u.type==Qt.time)||(this.annotations=o.concat(Qt.time.of(Date.now())))}static create(e,r,n,i,o,l){return new Qt(e,r,n,i,o,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Qt.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Qt.time=qi.define();Qt.userEvent=qi.define();Qt.addToHistory=qi.define();Qt.remote=qi.define();function HU(t,e){let r=[];for(let n=0,i=0;;){let o,l;if(n<t.length&&(i==e.length||e[i]>=t[n]))o=t[n++],l=t[n++];else if(i<e.length)o=e[i++],l=e[i++];else return r;!r.length||r[r.length-1]<o?r.push(o,l):r[r.length-1]<l&&(r[r.length-1]=l)}}function $P(t,e,r){var n;let i,o,l;return r?(i=e.changes,o=Yt.empty(e.changes.length),l=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(o):(n=t.selection)===null||n===void 0?void 0:n.map(i),effects:We.mapEffects(t.effects,i).concat(We.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function y1(t,e,r){let n=e.selection,i=Wa(e.annotations);return e.userEvent&&(i=i.concat(Qt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Yt?e.changes:Yt.of(e.changes||[],r,t.facet(RP)),selection:n&&(n instanceof ne?n:ne.single(n.anchor,n.head)),effects:Wa(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function zP(t,e,r){let n=y1(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(r=!1);let l=!!e[o].sequential;n=$P(n,y1(t,e[o],l?n.changes.newLength:t.doc.length),l)}let i=Qt.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return VU(r?UU(i):i)}function UU(t){let e=t.startState,r=!0;for(let i of e.facet(IP)){let o=i(t);if(o===!1){r=!1;break}Array.isArray(o)&&(r=r===!0?o:HU(r,o))}if(r!==!0){let i,o;if(r===!1)o=t.changes.invertedDesc,i=Yt.empty(e.doc.length);else{let l=t.changes.filter(r);i=l.changes,o=l.filtered.mapDesc(l.changes).invertedDesc}t=Qt.create(e,i,t.selection&&t.selection.map(o),We.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let n=e.facet(BP);for(let i=n.length-1;i>=0;i--){let o=n[i](t);o instanceof Qt?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Qt?t=o[0]:t=zP(e,Wa(o),!1)}return t}function VU(t){let e=t.startState,r=e.facet(_P),n=t;for(let i=r.length-1;i>=0;i--){let o=r[i](t);o&&Object.keys(o).length&&(n=$P(n,y1(e,o,t.changes.newLength),!0))}return n==t?t:Qt.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const KU=[];function Wa(t){return t==null?KU:Array.isArray(t)?t:[t]}var yt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(yt||(yt={}));const qU=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let w1;try{w1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function GU(t){if(w1)return w1.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||qU.test(r)))return!0}return!1}function YU(t){return e=>{if(!/\S/.test(e))return yt.Space;if(GU(e))return yt.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return yt.Word;return yt.Other}}class Ge{constructor(e,r,n,i,o,l){this.config=e,this.doc=r,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,l&&(l._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)Hc(this,u<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return Hc(this,n),Up(this,n)}update(...e){return zP(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:i}=r;for(let u of e.effects)u.is(im.reconfigure)?(r&&(i=new Map,r.compartments.forEach((c,p)=>i.set(p,c)),r=null),i.set(u.value.compartment,u.value.extension)):u.is(We.reconfigure)?(r=null,n=u.value):u.is(We.appendConfig)&&(r=null,n=Wa(n).concat(u.value));let o;r?o=e.startState.values.slice():(r=Hp.resolve(n,i,this),o=new Ge(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(c,p)=>p.reconfigure(c,this),null).values);let l=e.startState.facet(v1)?e.newSelection:e.newSelection.asSingle();new Ge(r,e.newDoc,l,o,(u,c)=>c.update(u,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:ne.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),i=this.changes(n.changes),o=[n.range],l=Wa(n.effects);for(let u=1;u<r.ranges.length;u++){let c=e(r.ranges[u]),p=this.changes(c.changes),g=p.map(i);for(let y=0;y<u;y++)o[y]=o[y].map(g);let v=i.mapDesc(p,!0);o.push(c.range.map(v)),i=i.compose(g),l=We.mapEffects(l,g).concat(We.mapEffects(Wa(c.effects),v))}return{changes:i,selection:ne.create(o,r.mainIndex),effects:l}}changes(e=[]){return e instanceof Yt?e:Yt.of(e,this.doc.length,this.facet(Ge.lineSeparator))}toText(e){return tt.of(e.split(this.facet(Ge.lineSeparator)||h1))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(Hc(this,r),Up(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof wr&&this.config.address[i.id]!=null&&(r[n]=i.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let o in n)if(Object.prototype.hasOwnProperty.call(e,o)){let l=n[o],u=e[o];i.push(l.init(c=>l.spec.fromJSON(u,c)))}}return Ge.create({doc:e.doc,selection:ne.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=Hp.resolve(e.extensions||[],new Map),n=e.doc instanceof tt?e.doc:tt.of((e.doc||"").split(r.staticFacet(Ge.lineSeparator)||h1)),i=e.selection?e.selection instanceof ne?e.selection:ne.single(e.selection.anchor,e.selection.head):ne.single(0);return PP(i,n.length),r.staticFacet(v1)||(i=i.asSingle()),new Ge(r,n,i,r.dynamicSlots.map(()=>null),(o,l)=>l.create(o),null)}get tabSize(){return this.facet(Ge.tabSize)}get lineBreak(){return this.facet(Ge.lineSeparator)||`
`}get readOnly(){return this.facet(FP)}phrase(e,...r){for(let n of this.facet(Ge.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>r.length?n:r[o-1]})),e}languageDataAt(e,r,n=-1){let i=[];for(let o of this.facet(DP))for(let l of o(this,r,n))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return YU(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:n,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),l=e-n,u=e-n;for(;l>0;){let c=gr(r,l,!1);if(o(r.slice(c,l))!=yt.Word)break;l=c}for(;u<i;){let c=gr(r,u);if(o(r.slice(u,c))!=yt.Word)break;u=c}return l==u?null:ne.range(l+n,u+n)}}Ge.allowMultipleSelections=v1;Ge.tabSize=xe.define({combine:t=>t.length?t[0]:4});Ge.lineSeparator=RP;Ge.readOnly=FP;Ge.phrases=xe.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(i=>t[i]==e[i])}});Ge.languageData=DP;Ge.changeFilter=IP;Ge.transactionFilter=BP;Ge.transactionExtender=_P;im.reconfigure=We.define();function Gi(t,e,r={}){let n={};for(let i of t)for(let o of Object.keys(i)){let l=i[o],u=n[o];if(u===void 0)n[o]=l;else if(!(u===l||l===void 0))if(Object.hasOwnProperty.call(r,o))n[o]=r[o](u,l);else throw new Error("Config merge conflict for field "+o)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class kl{eq(e){return this==e}range(e,r=e){return x1.create(e,r,this)}}kl.prototype.startSide=kl.prototype.endSide=0;kl.prototype.point=!1;kl.prototype.mapMode=Wr.TrackDel;let x1=class WP{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new WP(e,r,n)}};function b1(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Wx{constructor(e,r,n,i){this.from=e,this.to=r,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,i=0){let o=n?this.to:this.from;for(let l=i,u=o.length;;){if(l==u)return l;let c=l+u>>1,p=o[c]-e||(n?this.value[c].endSide:this.value[c].startSide)-r;if(c==l)return p>=0?l:u;p>=0?u=c:l=c+1}}between(e,r,n,i){for(let o=this.findIndex(r,-1e9,!0),l=this.findIndex(n,1e9,!1,o);o<l;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,r){let n=[],i=[],o=[],l=-1,u=-1;for(let c=0;c<this.value.length;c++){let p=this.value[c],g=this.from[c]+e,v=this.to[c]+e,y,x;if(g==v){let T=r.mapPos(g,p.startSide,p.mapMode);if(T==null||(y=x=T,p.startSide!=p.endSide&&(x=r.mapPos(g,p.endSide),x<y)))continue}else if(y=r.mapPos(g,p.startSide),x=r.mapPos(v,p.endSide),y>x||y==x&&p.startSide>0&&p.endSide<=0)continue;(x-y||p.endSide-p.startSide)<0||(l<0&&(l=y),p.point&&(u=Math.max(u,x-y)),n.push(p),i.push(y-l),o.push(x-l))}return{mapped:n.length?new Wx(i,o,n,u):null,pos:l}}}class Qe{constructor(e,r,n,i){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=i}static create(e,r,n,i){return new Qe(e,r,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:i=0,filterTo:o=this.length}=e,l=e.filter;if(r.length==0&&!l)return this;if(n&&(r=r.slice().sort(b1)),this.isEmpty)return r.length?Qe.of(r):this;let u=new jP(this,null,-1).goto(0),c=0,p=[],g=new Cs;for(;u.value||c<r.length;)if(c<r.length&&(u.from-r[c].from||u.startSide-r[c].value.startSide)>=0){let v=r[c++];g.addInner(v.from,v.to,v.value)||p.push(v)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(c==r.length||this.chunkEnd(u.chunkIndex)<r[c].from)&&(!l||i>this.chunkEnd(u.chunkIndex)||o<this.chunkPos[u.chunkIndex])&&g.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!l||i>u.to||o<u.from||l(u.from,u.to,u.value))&&(g.addInner(u.from,u.to,u.value)||p.push(x1.create(u.from,u.to,u.value))),u.next());return g.finishInner(this.nextLayer.isEmpty&&!p.length?Qe.empty:this.nextLayer.update({add:p,filter:l,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],i=-1;for(let l=0;l<this.chunk.length;l++){let u=this.chunkPos[l],c=this.chunk[l],p=e.touchesRange(u,u+c.length);if(p===!1)i=Math.max(i,c.maxPoint),r.push(c),n.push(e.mapPos(u));else if(p===!0){let{mapped:g,pos:v}=c.map(u,e);g&&(i=Math.max(i,g.maxPoint),r.push(g),n.push(v))}}let o=this.nextLayer.map(e);return r.length==0?o:new Qe(n,r,o||Qe.empty,i)}between(e,r,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],l=this.chunk[i];if(r>=o&&e<=o+l.length&&l.between(o,e-o,r-o,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return mf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return mf.from(e).goto(r)}static compare(e,r,n,i,o=-1){let l=e.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=o),u=r.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=o),c=dT(l,u,n),p=new dc(l,c,o),g=new dc(u,c,o);n.iterGaps((v,y,x)=>pT(p,v,g,y,x,i)),n.empty&&n.length==0&&pT(p,0,g,0,0,i)}static eq(e,r,n=0,i){i==null&&(i=999999999);let o=e.filter(g=>!g.isEmpty&&r.indexOf(g)<0),l=r.filter(g=>!g.isEmpty&&e.indexOf(g)<0);if(o.length!=l.length)return!1;if(!o.length)return!0;let u=dT(o,l),c=new dc(o,u,0).goto(n),p=new dc(l,u,0).goto(n);for(;;){if(c.to!=p.to||!S1(c.active,p.active)||c.point&&(!p.point||!c.point.eq(p.point)))return!1;if(c.to>i)return!0;c.next(),p.next()}}static spans(e,r,n,i,o=-1){let l=new dc(e,null,o).goto(r),u=r,c=l.openStart;for(;;){let p=Math.min(l.to,n);if(l.point){let g=l.activeForPoint(l.to),v=l.pointFrom<r?g.length+1:l.point.startSide<0?g.length:Math.min(g.length,c);i.point(u,p,l.point,g,v,l.pointRank),c=Math.min(l.openEnd(p),g.length)}else p>u&&(i.span(u,p,l.active,c),c=l.openEnd(p));if(l.to>n)return c+(l.point&&l.to>n?1:0);u=l.to,l.next()}}static of(e,r=!1){let n=new Cs;for(let i of e instanceof x1?[e]:r?XU(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return Qe.empty;let r=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=Qe.empty;i=i.nextLayer)r=new Qe(i.chunkPos,i.chunk,r,Math.max(i.maxPoint,r.maxPoint));return r}}Qe.empty=new Qe([],[],null,-1);function XU(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(b1(e,n)>0)return t.slice().sort(b1);e=n}return t}Qe.empty.nextLayer=Qe.empty;class Cs{finishChunk(e){this.chunks.push(new Wx(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new Cs)).add(e,r,n)}addInner(e,r,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(Qe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=Qe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function dT(t,e,r){let n=new Map;for(let o of t)for(let l=0;l<o.chunk.length;l++)o.chunk[l].maxPoint<=0&&n.set(o.chunk[l],o.chunkPos[l]);let i=new Set;for(let o of e)for(let l=0;l<o.chunk.length;l++){let u=n.get(o.chunk[l]);u!=null&&(r?r.mapPos(u):u)==o.chunkPos[l]&&!(r!=null&&r.touchesRange(u,u+o.chunk[l].length))&&i.add(o.chunk[l])}return i}class jP{constructor(e,r,n,i=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class mf{constructor(e){this.heap=e}static from(e,r=null,n=-1){let i=[];for(let o=0;o<e.length;o++)for(let l=e[o];!l.isEmpty;l=l.nextLayer)l.maxPoint>=n&&i.push(new jP(l,r,n,o));return i.length==1?i[0]:new mf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)b0(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)b0(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),b0(this.heap,0)}}}function b0(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let i=t[n];if(n+1<t.length&&i.compare(t[n+1])>=0&&(i=t[n+1],n++),r.compare(i)<0)break;t[n]=r,t[e]=i,e=n}}class dc{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=mf.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){od(this.active,e),od(this.activeTo,e),od(this.activeRank,e),this.minActive=gT(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:i,rank:o}=this.cursor;for(;r<this.activeRank.length&&(o-this.activeRank[r]||i-this.activeTo[r])>0;)r++;sd(this.active,r,n),sd(this.activeTo,r,i),sd(this.activeRank,r,o),e&&sd(e,r,this.cursor.from),this.minActive=gT(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&od(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}function pT(t,e,r,n,i,o){t.goto(e),r.goto(n);let l=n+i,u=n,c=n-e;for(;;){let p=t.to+c-r.to||t.endSide-r.endSide,g=p<0?t.to+c:r.to,v=Math.min(g,l);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&S1(t.activeForPoint(t.to),r.activeForPoint(r.to))||o.comparePoint(u,v,t.point,r.point):v>u&&!S1(t.active,r.active)&&o.compareRange(u,v,t.active,r.active),g>l)break;u=g,p<=0&&t.next(),p>=0&&r.next()}}function S1(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function od(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function sd(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function gT(t,e){let r=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||t[i].endSide-t[r].endSide)<0&&(r=i,n=e[i]);return r}function wu(t,e,r=t.length){let n=0;for(let i=0;i<r;)t.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=gr(t,i));return n}function k1(t,e,r,n){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?r-o%r:1,i=gr(t,i)}return n===!0?-1:t.length}const C1="ͼ",mT=typeof Symbol>"u"?"__"+C1:Symbol.for(C1),T1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ts{constructor(e,r){this.rules=[];let{finish:n}=r||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function o(l,u,c,p){let g=[],v=/^@(\w+)\b/.exec(l[0]),y=v&&v[1]=="keyframes";if(v&&u==null)return c.push(l[0]+";");for(let x in u){let T=u[x];if(/&/.test(x))o(x.split(/,\s*/).map(A=>l.map(P=>A.replace(/&/,P))).reduce((A,P)=>A.concat(P)),T,c);else if(T&&typeof T=="object"){if(!v)throw new RangeError("The value of a property ("+x+") should be a primitive value.");o(i(x),T,g,y)}else T!=null&&g.push(x.replace(/_.*/,"").replace(/[A-Z]/g,A=>"-"+A.toLowerCase())+": "+T+";")}(g.length||y)&&c.push((n&&!v&&!p?l.map(n):l).join(", ")+" {"+g.join(" ")+"}")}for(let l in e)o(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=vT[mT]||1;return vT[mT]=e+1,C1+e.toString(36)}static mount(e,r,n){let i=e[T1],o=n&&n.nonce;i?o&&i.setNonce(o):i=new QU(e,o),i.mount(Array.isArray(r)?r:[r],e)}}let yT=new Map;class QU{constructor(e,r){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=yT.get(n);if(o)return e[T1]=o;this.sheet=new i.CSSStyleSheet,yT.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[T1]=this}mount(e,r){let n=this.sheet,i=0,o=0;for(let l=0;l<e.length;l++){let u=e[l],c=this.modules.indexOf(u);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),c==-1){if(this.modules.splice(o++,0,u),n)for(let p=0;p<u.rules.length;p++)n.insertRule(u.rules[p],i++)}else{for(;o<c;)i+=this.modules[o++].rules.length;i+=u.rules.length,o++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let l="";for(let c=0;c<this.modules.length;c++)l+=this.modules[c].getRules()+`
`;this.styleTag.textContent=l;let u=r.head||r;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Os={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},JU=typeof navigator<"u"&&/Mac/.test(navigator.platform),ZU=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var hr=0;hr<10;hr++)Os[48+hr]=Os[96+hr]=String(hr);for(var hr=1;hr<=24;hr++)Os[hr+111]="F"+hr;for(var hr=65;hr<=90;hr++)Os[hr]=String.fromCharCode(hr+32),vf[hr]=String.fromCharCode(hr);for(var S0 in Os)vf.hasOwnProperty(S0)||(vf[S0]=Os[S0]);function eV(t){var e=JU&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ZU&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?vf:Os)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function yf(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function O1(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Qd(t,e){if(!e.anchorNode)return!1;try{return O1(t,e.anchorNode)}catch{return!1}}function iu(t){return t.nodeType==3?Tl(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Uc(t,e,r,n){return r?wT(t,e,r,n,-1)||wT(t,e,r,n,1):!1}function Cl(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Vp(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function wT(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Ui(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=Cl(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ui(t):0}else return!1}}function Ui(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Yf(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function tV(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function HP(t,e){let r=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-t.offsetWidth)<1)&&(r=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:r,scaleY:n}}function rV(t,e,r,n,i,o,l,u){let c=t.ownerDocument,p=c.defaultView||window;for(let g=t,v=!1;g&&!v;)if(g.nodeType==1){let y,x=g==c.body,T=1,A=1;if(x)y=tV(p);else{if(/^(fixed|sticky)$/.test(getComputedStyle(g).position)&&(v=!0),g.scrollHeight<=g.clientHeight&&g.scrollWidth<=g.clientWidth){g=g.assignedSlot||g.parentNode;continue}let S=g.getBoundingClientRect();({scaleX:T,scaleY:A}=HP(g,S)),y={left:S.left,right:S.left+g.clientWidth*T,top:S.top,bottom:S.top+g.clientHeight*A}}let P=0,C=0;if(i=="nearest")e.top<y.top?(C=-(y.top-e.top+l),r>0&&e.bottom>y.bottom+C&&(C=e.bottom-y.bottom+C+l)):e.bottom>y.bottom&&(C=e.bottom-y.bottom+l,r<0&&e.top-C<y.top&&(C=-(y.top+C-e.top+l)));else{let S=e.bottom-e.top,M=y.bottom-y.top;C=(i=="center"&&S<=M?e.top+S/2-M/2:i=="start"||i=="center"&&r<0?e.top-l:e.bottom-M+l)-y.top}if(n=="nearest"?e.left<y.left?(P=-(y.left-e.left+o),r>0&&e.right>y.right+P&&(P=e.right-y.right+P+o)):e.right>y.right&&(P=e.right-y.right+o,r<0&&e.left<y.left+P&&(P=-(y.left+P-e.left+o))):P=(n=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:n=="start"==u?e.left-o:e.right-(y.right-y.left)+o)-y.left,P||C)if(x)p.scrollBy(P,C);else{let S=0,M=0;if(C){let N=g.scrollTop;g.scrollTop+=C/A,M=(g.scrollTop-N)*A}if(P){let N=g.scrollLeft;g.scrollLeft+=P/T,S=(g.scrollLeft-N)*T}e={left:e.left-S,top:e.top-M,right:e.right-S,bottom:e.bottom-M},S&&Math.abs(S-P)<1&&(n="nearest"),M&&Math.abs(M-C)<1&&(i="nearest")}if(x)break;g=g.assignedSlot||g.parentNode}else if(g.nodeType==11)g=g.host;else break}function nV(t){let e=t.ownerDocument,r,n;for(let i=t.parentNode;i&&!(i==e.body||r&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!r&&i.scrollWidth>i.clientWidth&&(r=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:r,y:n}}class iV{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:n}=e;this.set(r,Math.min(e.anchorOffset,r?Ui(r):0),n,Math.min(e.focusOffset,n?Ui(n):0))}set(e,r,n,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=n,this.focusOffset=i}}let ga=null;function UP(t){if(t.setActive)return t.setActive();if(ga)return t.focus(ga);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(ga==null?{get preventScroll(){return ga={preventScroll:!0},!0}}:void 0),!ga){ga=!1;for(let r=0;r<e.length;){let n=e[r++],i=e[r++],o=e[r++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=o&&(n.scrollLeft=o)}}}let xT;function Tl(t,e,r=e){let n=xT||(xT=document.createRange());return n.setEnd(t,r),n.setStart(t,e),n}function ja(t,e,r,n){let i={key:e,code:e,keyCode:r,which:r,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,t.dispatchEvent(l),o.defaultPrevented||l.defaultPrevented}function oV(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function VP(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function sV(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,Ui(r));;)if(n){if(r.nodeType!=1)return!1;let i=r.childNodes[n-1];i.contentEditable=="false"?n--:(r=i,n=Ui(r))}else{if(r==t)return!0;n=Cl(r),r=r.parentNode}}function KP(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function qP(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n>0)return{node:r,offset:n};if(r.nodeType==1&&n>0){if(r.contentEditable=="false")return null;r=r.childNodes[n-1],n=Ui(r)}else if(r.parentNode&&!Vp(r))n=Cl(r),r=r.parentNode;else return null}}function GP(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n<r.nodeValue.length)return{node:r,offset:n};if(r.nodeType==1&&n<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[n],n=0}else if(r.parentNode&&!Vp(r))n=Cl(r)+1,r=r.parentNode;else return null}}class Or{constructor(e,r,n=!0){this.node=e,this.offset=r,this.precise=n}static before(e,r){return new Or(e.parentNode,Cl(e),r)}static after(e,r){return new Or(e.parentNode,Cl(e)+1,r)}}const jx=[];class lt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let n of this.children){if(n==e)return r;r+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let n=this.dom,i=null,o;for(let l of this.children){if(l.flags&7){if(!l.dom&&(o=i?i.nextSibling:n.firstChild)){let u=lt.get(o);(!u||!u.parent&&u.canReuseDOM(l))&&l.reuseDOM(o)}l.sync(e,r),l.flags&=-8}if(o=i?i.nextSibling:n.firstChild,r&&!r.written&&r.node==n&&o!=l.dom&&(r.written=!0),l.dom.parentNode==n)for(;o&&o!=l.dom;)o=bT(o);else n.insertBefore(l.dom,o);i=l.dom}for(o=i?i.nextSibling:n.firstChild,o&&r&&r.node==n&&(r.written=!0);o;)o=bT(o)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,r),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let n;if(e==this.dom)n=this.dom.childNodes[r];else{let i=Ui(e)==0?0:r==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!lt.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,o=0;;i++){let l=this.children[i];if(l.dom==n)return o;o+=l.length+l.breakAfter}}domBoundsAround(e,r,n=0){let i=-1,o=-1,l=-1,u=-1;for(let c=0,p=n,g=n;c<this.children.length;c++){let v=this.children[c],y=p+v.length;if(p<e&&y>r)return v.domBoundsAround(e,r,p);if(y>=e&&i==-1&&(i=c,o=p),p>r&&v.dom.parentNode==this.dom){l=c,u=g;break}g=y,p=y+v.breakAfter}return{from:o,to:u<0?n+this.length:u,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,n=jx){this.markDirty();for(let i=e;i<r;i++){let o=this.children[i];o.parent==this&&n.indexOf(o)<0&&o.destroy()}n.length<250?this.children.splice(e,r-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(r));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new YP(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,n,i,o,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}lt.prototype.breakAfter=0;function bT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class YP{constructor(e,r,n){this.children=e,this.pos=r,this.i=n,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function XP(t,e,r,n,i,o,l,u,c){let{children:p}=t,g=p.length?p[e]:null,v=o.length?o[o.length-1]:null,y=v?v.breakAfter:l;if(!(e==n&&g&&!l&&!y&&o.length<2&&g.merge(r,i,o.length?v:null,r==0,u,c))){if(n<p.length){let x=p[n];x&&(i<x.length||x.breakAfter&&(v!=null&&v.breakAfter))?(e==n&&(x=x.split(i),i=0),!y&&v&&x.merge(0,i,v,!0,0,c)?o[o.length-1]=x:((i||x.children.length&&!x.children[0].length)&&x.merge(0,i,null,!1,0,c),o.push(x))):x!=null&&x.breakAfter&&(v?v.breakAfter=1:l=1),n++}for(g&&(g.breakAfter=l,r>0&&(!l&&o.length&&g.merge(r,g.length,o[0],!1,u,0)?g.breakAfter=o.shift().breakAfter:(r<g.length||g.children.length&&g.children[g.children.length-1].length==0)&&g.merge(r,g.length,null,!1,u,0),e++));e<n&&o.length;)if(p[n-1].become(o[o.length-1]))n--,o.pop(),c=o.length?0:u;else if(p[e].become(o[0]))e++,o.shift(),u=o.length?0:c;else break;!o.length&&e&&n<p.length&&!p[e-1].breakAfter&&p[n].merge(0,0,p[e-1],!1,u,c)&&e--,(e<n||o.length)&&t.replaceChildren(e,n,o)}}function QP(t,e,r,n,i,o){let l=t.childCursor(),{i:u,off:c}=l.findPos(r,1),{i:p,off:g}=l.findPos(e,-1),v=e-r;for(let y of n)v+=y.length;t.length+=v,XP(t,p,g,u,c,n,0,i,o)}let tn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},E1=typeof document<"u"?document:{documentElement:{style:{}}};const A1=/Edge\/(\d+)/.exec(tn.userAgent),JP=/MSIE \d/.test(tn.userAgent),M1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tn.userAgent),om=!!(JP||M1||A1),ST=!om&&/gecko\/(\d+)/i.test(tn.userAgent),k0=!om&&/Chrome\/(\d+)/.exec(tn.userAgent),kT="webkitFontSmoothing"in E1.documentElement.style,ZP=!om&&/Apple Computer/.test(tn.vendor),CT=ZP&&(/Mobile\/\w+/.test(tn.userAgent)||tn.maxTouchPoints>2);var be={mac:CT||/Mac/.test(tn.platform),windows:/Win/.test(tn.platform),linux:/Linux|X11/.test(tn.platform),ie:om,ie_version:JP?E1.documentMode||6:M1?+M1[1]:A1?+A1[1]:0,gecko:ST,gecko_version:ST?+(/Firefox\/(\d+)/.exec(tn.userAgent)||[0,0])[1]:0,chrome:!!k0,chrome_version:k0?+k0[1]:0,ios:CT,android:/Android\b/.test(tn.userAgent),webkit:kT,safari:ZP,webkit_version:kT?+(/\bAppleWebKit\/(\d+)/.exec(tn.userAgent)||[0,0])[1]:0,tabSize:E1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const lV=256;class mi extends lt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,n){return this.flags&8||n&&(!(n instanceof mi)||this.length-(r-e)+n.length>lV||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new mi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new Or(this.dom,e)}domBoundsAround(e,r,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return aV(this.dom,e,r)}}class xo extends lt{constructor(e,r=[],n=0){super(),this.mark=e,this.children=r,this.length=n;for(let i of r)i.setParent(this)}setAttrs(e){if(VP(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,n,i,o,l){return n&&(!(n instanceof xo&&n.mark.eq(this.mark))||e&&o<=0||r<this.length&&l<=0)?!1:(QP(this,e,r,n?n.children.slice():[],o-1,l-1),this.markDirty(),!0)}split(e){let r=[],n=0,i=-1,o=0;for(let u of this.children){let c=n+u.length;c>e&&r.push(n<e?u.split(e-n):u),i<0&&n>=e&&(i=o),n=c,o++}let l=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new xo(this.mark,r,l)}domAtPos(e){return eN(this,e)}coordsAt(e,r){return rN(this,e,r)}}function aV(t,e,r){let n=t.nodeValue.length;e>n&&(e=n);let i=e,o=e,l=0;e==0&&r<0||e==n&&r>=0?be.chrome||be.gecko||(e?(i--,l=1):o<n&&(o++,l=-1)):r<0?i--:o<n&&o++;let u=Tl(t,i,o).getClientRects();if(!u.length)return null;let c=u[(l?l<0:r>=0)?0:u.length-1];return be.safari&&!l&&c.width==0&&(c=Array.prototype.find.call(u,p=>p.width)||c),l?Yf(c,l<0):c||null}class ss extends lt{static create(e,r,n){return new ss(e,r,n)}constructor(e,r,n){super(),this.widget=e,this.length=r,this.side=n,this.prevWidget=null}split(e){let r=ss.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,n,i,o,l){return n&&(!(n instanceof ss)||!this.widget.compare(n.widget)||e>0&&o<=0||r<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}become(e){return e instanceof ss&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return tt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,n=r&&r.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):tt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Or.before(this.dom):Or.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);if(n)return n;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let l=this.side?this.side<0:e>0;for(let u=l?i.length-1:0;o=i[u],!(e>0?u==0:u==i.length-1||o.top<o.bottom);u+=l?-1:1);return Yf(o,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ou extends lt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ou&&e.side==this.side}split(){return new ou(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Or.before(this.dom):Or.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return tt.empty}get isHidden(){return!0}}mi.prototype.children=ss.prototype.children=ou.prototype.children=jx;function eN(t,e){let r=t.dom,{children:n}=t,i=0;for(let o=0;i<n.length;i++){let l=n[i],u=o+l.length;if(!(u==o&&l.getSide()<=0)){if(e>o&&e<u&&l.dom.parentNode==r)return l.domAtPos(e-o);if(e<=o)break;o=u}}for(let o=i;o>0;o--){let l=n[o-1];if(l.dom.parentNode==r)return l.domAtPos(l.length)}for(let o=i;o<n.length;o++){let l=n[o];if(l.dom.parentNode==r)return l.domAtPos(0)}return new Or(r,0)}function tN(t,e,r){let n,{children:i}=t;r>0&&e instanceof xo&&i.length&&(n=i[i.length-1])instanceof xo&&n.mark.eq(e.mark)?tN(n,e.children[0],r-1):(i.push(e),e.setParent(t)),t.length+=e.length}function rN(t,e,r){let n=null,i=-1,o=null,l=-1;function u(p,g){for(let v=0,y=0;v<p.children.length&&y<=g;v++){let x=p.children[v],T=y+x.length;T>=g&&(x.children.length?u(x,g-y):(!o||o.isHidden&&r>0)&&(T>g||y==T&&x.getSide()>0)?(o=x,l=g-y):(y<g||y==T&&x.getSide()<0&&!x.isHidden)&&(n=x,i=g-y)),y=T}}u(t,e);let c=(r<0?n:o)||n||o;return c?c.coordsAt(Math.max(0,c==n?i:l),r):uV(t)}function uV(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=iu(e);return r[r.length-1]||null}function L1(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const TT=Object.create(null);function Kp(t,e,r){if(t==e)return!0;t||(t=TT),e||(e=TT);let n=Object.keys(t),i=Object.keys(e);if(n.length-(r&&n.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let o of n)if(o!=r&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function P1(t,e,r){let n=!1;if(e)for(let i in e)r&&i in r||(n=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(n=!0,i=="style"?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return n}function cV(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];e[n.name]=n.value}return e}class Eo{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Hr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Hr||(Hr={}));class Pe extends kl{constructor(e,r,n,i){super(),this.startSide=e,this.endSide=r,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Xf(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return r+=n&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new Es(e,r,r,n,e.widget||null,!1)}static replace(e){let r=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:o,end:l}=nN(e,r);n=(o?r?-3e8:-1:5e8)-1,i=(l?r?2e8:1:-6e8)+1}return new Es(e,n,i,r,e.widget||null,!0)}static line(e){return new Qf(e)}static set(e,r=!1){return Qe.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Pe.none=Qe.empty;class Xf extends Pe{constructor(e){let{start:r,end:n}=nN(e);super(r?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,n;return this==e||e instanceof Xf&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&Kp(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}Xf.prototype.point=!1;class Qf extends Pe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Qf&&this.spec.class==e.spec.class&&Kp(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}Qf.prototype.mapMode=Wr.TrackBefore;Qf.prototype.point=!0;class Es extends Pe{constructor(e,r,n,i,o,l){super(r,n,o,e),this.block=i,this.isReplace=l,this.mapMode=i?r<=0?Wr.TrackBefore:Wr.TrackAfter:Wr.TrackDel}get type(){return this.startSide!=this.endSide?Hr.WidgetRange:this.startSide<=0?Hr.WidgetBefore:Hr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Es&&fV(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}Es.prototype.point=!0;function nN(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return r==null&&(r=t.inclusive),n==null&&(n=t.inclusive),{start:r??e,end:n??e}}function fV(t,e){return t==e||!!(t&&e&&t.compare(e))}function N1(t,e,r,n=0){let i=r.length-1;i>=0&&r[i]+n>=t?r[i]=Math.max(r[i],e):r.push(t,e)}class _t extends lt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,n,i,o,l){if(n){if(!(n instanceof _t))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),QP(this,e,r,n?n.children.slice():[],o,l),!0}split(e){let r=new _t;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:n,off:i}=this.childPos(e);i&&(r.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)r.append(this.children[o],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Kp(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){tN(this,e,r)}addLineDeco(e){let r=e.spec.attributes,n=e.spec.class;r&&(this.attrs=L1(r,this.attrs||{})),n&&(this.attrs=L1({class:n},this.attrs||{}))}domAtPos(e){return eN(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var n;this.dom?this.flags&4&&(VP(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(P1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let i=this.dom.lastChild;for(;i&&lt.get(i)instanceof xo;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=lt.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!be.ios||!this.children.some(o=>o instanceof mi))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let n of this.children){if(!(n instanceof mi)||/[^ -~]/.test(n.text))return null;let i=iu(n.dom);if(i.length!=1)return null;e+=i[0].width,r=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let n=rN(this,e,r);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=n.bottom-n.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let l=(o-i.textHeight)/2;return{top:n.top+l,bottom:n.bottom-l,left:n.left,right:n.left}}}return n}become(e){return e instanceof _t&&this.children.length==0&&e.children.length==0&&Kp(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let n=0,i=0;n<e.children.length;n++){let o=e.children[n],l=i+o.length;if(l>=r){if(o instanceof _t)return o;if(l>r)break}i=l+o.breakAfter}return null}}class ho extends lt{constructor(e,r,n){super(),this.widget=e,this.length=r,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,r,n,i,o,l){return n&&(!(n instanceof ho)||!this.widget.compare(n.widget)||e>0&&o<=0||r<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?Or.before(this.dom):Or.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let n=new ho(this.widget,r,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return jx}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):tt.empty}domBoundsAround(){return null}become(e){return e instanceof ho&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);return n||(this.widget instanceof D1?null:Yf(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:n}=this.deco;return r==n?!1:e<0?r<0:n>0}}class D1 extends Eo{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Vc{constructor(e,r,n,i){this.doc=e,this.pos=r,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ho&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new _t),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ld(new ou(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ho)&&this.getLine()}buildText(e,r,n){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:l,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-n)),this.getLine().append(ld(new mi(this.text.slice(this.textOff,this.textOff+i)),r),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,r,n,i){this.buildText(r-e,n,i),this.pos=r,this.openStart<0&&(this.openStart=i)}point(e,r,n,i,o,l){if(this.disallowBlockEffectsFor[l]&&n instanceof Es){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=r-e;if(n instanceof Es)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ho(n.widget||su.block,u,n));else{let c=ss.create(n.widget||su.inline,u,u?0:n.startSide),p=this.atCursorPos&&!c.isEditable&&o<=i.length&&(e<r||n.startSide>0),g=!c.isEditable&&(e<r||o>i.length||n.startSide<=0),v=this.getLine();this.pendingBuffer==2&&!p&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),p&&(v.append(ld(new ou(1),i),o),o=i.length+Math.max(0,o-i.length)),v.append(ld(c,i),o),this.atCursorPos=g,this.pendingBuffer=g?e<r||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=o)}static build(e,r,n,i,o){let l=new Vc(e,r,n,o);return l.openEnd=Qe.spans(i,r,n,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function ld(t,e){for(let r of e)t=new xo(r,[t],t.length);return t}class su extends Eo{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}su.inline=new su("span");su.block=new su("div");var gt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(gt||(gt={}));const Ol=gt.LTR,Hx=gt.RTL;function iN(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const hV=iN("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),dV=iN("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),R1=Object.create(null),Ai=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);R1[e]=r,R1[r]=-e}function oN(t){return t<=247?hV[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?dV[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const pV=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ls{get dir(){return this.level%2?Hx:Ol}constructor(e,r,n){this.from=e,this.to=r,this.level=n}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,n,i){let o=-1;for(let l=0;l<e.length;l++){let u=e[l];if(u.from<=r&&u.to>=r){if(u.level==n)return l;(o<0||(i!=0?i<0?u.from<r:u.to>r:e[o].level>u.level))&&(o=l)}}if(o<0)throw new RangeError("Index out of range");return o}}function sN(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!sN(n.inner,i.inner))return!1}return!0}const ot=[];function gV(t,e,r,n,i){for(let o=0;o<=n.length;o++){let l=o?n[o-1].to:e,u=o<n.length?n[o].from:r,c=o?256:i;for(let p=l,g=c,v=c;p<u;p++){let y=oN(t.charCodeAt(p));y==512?y=g:y==8&&v==4&&(y=16),ot[p]=y==4?2:y,y&7&&(v=y),g=y}for(let p=l,g=c,v=c;p<u;p++){let y=ot[p];if(y==128)p<u-1&&g==ot[p+1]&&g&24?y=ot[p]=g:ot[p]=256;else if(y==64){let x=p+1;for(;x<u&&ot[x]==64;)x++;let T=p&&g==8||x<r&&ot[x]==8?v==1?1:8:256;for(let A=p;A<x;A++)ot[A]=T;p=x-1}else y==8&&v==1&&(ot[p]=1);g=y,y&7&&(v=y)}}}function mV(t,e,r,n,i){let o=i==1?2:1;for(let l=0,u=0,c=0;l<=n.length;l++){let p=l?n[l-1].to:e,g=l<n.length?n[l].from:r;for(let v=p,y,x,T;v<g;v++)if(x=R1[y=t.charCodeAt(v)])if(x<0){for(let A=u-3;A>=0;A-=3)if(Ai[A+1]==-x){let P=Ai[A+2],C=P&2?i:P&4?P&1?o:i:0;C&&(ot[v]=ot[Ai[A]]=C),u=A;break}}else{if(Ai.length==189)break;Ai[u++]=v,Ai[u++]=y,Ai[u++]=c}else if((T=ot[v])==2||T==1){let A=T==i;c=A?0:1;for(let P=u-3;P>=0;P-=3){let C=Ai[P+2];if(C&2)break;if(A)Ai[P+2]|=2;else{if(C&4)break;Ai[P+2]|=4}}}}}function vV(t,e,r,n){for(let i=0,o=n;i<=r.length;i++){let l=i?r[i-1].to:t,u=i<r.length?r[i].from:e;for(let c=l;c<u;){let p=ot[c];if(p==256){let g=c+1;for(;;)if(g==u){if(i==r.length)break;g=r[i++].to,u=i<r.length?r[i].from:e}else if(ot[g]==256)g++;else break;let v=o==1,y=(g<e?ot[g]:n)==1,x=v==y?v?1:2:n;for(let T=g,A=i,P=A?r[A-1].to:t;T>c;)T==P&&(T=r[--A].from,P=A?r[A-1].to:t),ot[--T]=x;c=g}else o=p,c++}}}function I1(t,e,r,n,i,o,l){let u=n%2?2:1;if(n%2==i%2)for(let c=e,p=0;c<r;){let g=!0,v=!1;if(p==o.length||c<o[p].from){let A=ot[c];A!=u&&(g=!1,v=A==16)}let y=!g&&u==1?[]:null,x=g?n:n+1,T=c;e:for(;;)if(p<o.length&&T==o[p].from){if(v)break e;let A=o[p];if(!g)for(let P=A.to,C=p+1;;){if(P==r)break e;if(C<o.length&&o[C].from==P)P=o[C++].to;else{if(ot[P]==u)break e;break}}if(p++,y)y.push(A);else{A.from>c&&l.push(new ls(c,A.from,x));let P=A.direction==Ol!=!(x%2);B1(t,P?n+1:n,i,A.inner,A.from,A.to,l),c=A.to}T=A.to}else{if(T==r||(g?ot[T]!=u:ot[T]==u))break;T++}y?I1(t,c,T,n+1,i,y,l):c<T&&l.push(new ls(c,T,x)),c=T}else for(let c=r,p=o.length;c>e;){let g=!0,v=!1;if(!p||c>o[p-1].to){let A=ot[c-1];A!=u&&(g=!1,v=A==16)}let y=!g&&u==1?[]:null,x=g?n:n+1,T=c;e:for(;;)if(p&&T==o[p-1].to){if(v)break e;let A=o[--p];if(!g)for(let P=A.from,C=p;;){if(P==e)break e;if(C&&o[C-1].to==P)P=o[--C].from;else{if(ot[P-1]==u)break e;break}}if(y)y.push(A);else{A.to<c&&l.push(new ls(A.to,c,x));let P=A.direction==Ol!=!(x%2);B1(t,P?n+1:n,i,A.inner,A.from,A.to,l),c=A.from}T=A.from}else{if(T==e||(g?ot[T-1]!=u:ot[T-1]==u))break;T--}y?I1(t,T,c,n+1,i,y,l):T<c&&l.push(new ls(T,c,x)),c=T}}function B1(t,e,r,n,i,o,l){let u=e%2?2:1;gV(t,i,o,n,u),mV(t,i,o,n,u),vV(i,o,n,u),I1(t,i,o,e,r,n,l)}function yV(t,e,r){if(!t)return[new ls(0,0,e==Hx?1:0)];if(e==Ol&&!r.length&&!pV.test(t))return lN(t.length);if(r.length)for(;t.length>ot.length;)ot[ot.length]=256;let n=[],i=e==Ol?0:1;return B1(t,i,i,r,0,t.length,n),n}function lN(t){return[new ls(0,t,0)]}let aN="";function wV(t,e,r,n,i){var o;let l=n.head-t.from,u=ls.find(e,l,(o=n.bidiLevel)!==null&&o!==void 0?o:-1,n.assoc),c=e[u],p=c.side(i,r);if(l==p){let y=u+=i?1:-1;if(y<0||y>=e.length)return null;c=e[u=y],l=c.side(!i,r),p=c.side(i,r)}let g=gr(t.text,l,c.forward(i,r));(g<c.from||g>c.to)&&(g=p),aN=t.text.slice(Math.min(l,g),Math.max(l,g));let v=u==(i?e.length-1:0)?null:e[u+(i?1:-1)];return v&&g==p&&v.level+(i?0:1)<c.level?ne.cursor(v.side(!i,r)+t.from,v.forward(i,r)?1:-1,v.level):ne.cursor(g+t.from,c.forward(i,r)?-1:1,c.level)}function xV(t,e,r){for(let n=e;n<r;n++){let i=oN(t.charCodeAt(n));if(i==1)return Ol;if(i==2||i==4)return Hx}return Ol}const uN=xe.define(),cN=xe.define(),fN=xe.define(),hN=xe.define(),_1=xe.define(),dN=xe.define(),pN=xe.define(),Ux=xe.define(),Vx=xe.define(),gN=xe.define({combine:t=>t.some(e=>e)}),mN=xe.define({combine:t=>t.some(e=>e)}),vN=xe.define();class Ha{constructor(e,r="nearest",n="nearest",i=5,o=5,l=!1){this.range=e,this.y=r,this.x=n,this.yMargin=i,this.xMargin=o,this.isSnapshot=l}map(e){return e.empty?this:new Ha(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Ha(ne.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ad=We.define({map:(t,e)=>t.map(e)}),yN=We.define();function on(t,e,r){let n=t.facet(hN);n.length?n[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const es=xe.define({combine:t=>t.length?t[0]:!0});let bV=0;const Tc=xe.define();class Dt{constructor(e,r,n,i,o){this.id=e,this.create=r,this.domEventHandlers=n,this.domEventObservers=i,this.extension=o(this)}static define(e,r){const{eventHandlers:n,eventObservers:i,provide:o,decorations:l}=r||{};return new Dt(bV++,e,n,i,u=>{let c=[Tc.of(u)];return l&&c.push(wf.of(p=>{let g=p.plugin(u);return g?l(g):Pe.none})),o&&c.push(o(u)),c})}static fromClass(e,r){return Dt.define(n=>new e(n),r)}}class C0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(n){if(on(r.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){on(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(n){on(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const wN=xe.define(),Kx=xe.define(),wf=xe.define(),xN=xe.define(),qx=xe.define(),bN=xe.define();function OT(t,e){let r=t.state.facet(bN);if(!r.length)return r;let n=r.map(o=>o instanceof Function?o(t):o),i=[];return Qe.spans(n,e.from,e.to,{point(){},span(o,l,u,c){let p=o-e.from,g=l-e.from,v=i;for(let y=u.length-1;y>=0;y--,c--){let x=u[y].spec.bidiIsolate,T;if(x==null&&(x=xV(e.text,p,g)),c>0&&v.length&&(T=v[v.length-1]).to==p&&T.direction==x)T.to=g,v=T.inner;else{let A={from:p,to:g,direction:x,inner:[]};v.push(A),v=A.inner}}}}),i}const SN=xe.define();function kN(t){let e=0,r=0,n=0,i=0;for(let o of t.state.facet(SN)){let l=o(t);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(r=Math.max(r,l.right)),l.top!=null&&(n=Math.max(n,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:r,top:n,bottom:i}}const Oc=xe.define();class Wn{constructor(e,r,n,i){this.fromA=e,this.toA=r,this.fromB=n,this.toB=i}join(e){return new Wn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,n=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(r-1,1)}}return e.splice(r,0,n),e}static extendWithRanges(e,r){if(r.length==0)return e;let n=[];for(let i=0,o=0,l=0,u=0;;i++){let c=i==e.length?null:e[i],p=l-u,g=c?c.fromB:1e9;for(;o<r.length&&r[o]<g;){let v=r[o],y=r[o+1],x=Math.max(u,v),T=Math.min(g,y);if(x<=T&&new Wn(x+p,T+p,x,T).addToSet(n),y>g)break;o+=2}if(!c)return n;new Wn(c.fromA,c.toA,c.fromB,c.toB).addToSet(n),l=c.toA,u=c.toB}}}class qp{constructor(e,r,n){this.view=e,this.state=r,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Yt.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,l,u,c)=>i.push(new Wn(o,l,u,c))),this.changedRanges=i}static create(e,r,n){return new qp(e,r,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class ET extends lt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Pe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new _t],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Wn(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:p,toA:g})=>g<this.minWidthFrom||p>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?i=this.domChanged.newSel.head:!AV(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?kV(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:p,to:g}=this.hasComposition;n=new Wn(p,g,e.changes.mapPos(p,-1),e.changes.mapPos(g,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(be.ie||be.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,u=this.updateDeco(),c=OV(l,u,e.changes);return n=Wn.extendWithRanges(n,c),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=be.chrome||be.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||i.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof ho&&l.widget instanceof D1&&o.push(l.dom);i.updateGaps(o)}updateChildren(e,r,n){let i=n?n.range.addToSet(e.slice()):e,o=this.childCursor(r);for(let l=i.length-1;;l--){let u=l>=0?i[l]:null;if(!u)break;let{fromA:c,toA:p,fromB:g,toB:v}=u,y,x,T,A;if(n&&n.range.fromB<v&&n.range.toB>g){let N=Vc.build(this.view.state.doc,g,n.range.fromB,this.decorations,this.dynamicDecorationMap),D=Vc.build(this.view.state.doc,n.range.toB,v,this.decorations,this.dynamicDecorationMap);x=N.breakAtStart,T=N.openStart,A=D.openEnd;let W=this.compositionView(n);D.breakAtStart?W.breakAfter=1:D.content.length&&W.merge(W.length,W.length,D.content[0],!1,D.openStart,0)&&(W.breakAfter=D.content[0].breakAfter,D.content.shift()),N.content.length&&W.merge(0,0,N.content[N.content.length-1],!0,0,N.openEnd)&&N.content.pop(),y=N.content.concat(W).concat(D.content)}else({content:y,breakAtStart:x,openStart:T,openEnd:A}=Vc.build(this.view.state.doc,g,v,this.decorations,this.dynamicDecorationMap));let{i:P,off:C}=o.findPos(p,1),{i:S,off:M}=o.findPos(c,-1);XP(this,S,M,P,C,y,x,T,A)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let n of r.effects)n.is(yN)&&(this.editContextFormatting=n.value)}compositionView(e){let r=new mi(e.text.nodeValue);r.flags|=8;for(let{deco:i}of e.marks)r=new xo(i,[r],r.length);let n=new _t;return n.append(r,0),n}fixCompositionDOM(e){let r=(o,l)=>{l.flags|=8|(l.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(l);let u=lt.get(o);u&&u!=l&&(u.dom=null),l.setDOM(o)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];r(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)n=i.childPos(n.off,1),i=i.children[n.i],r(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,o=!i&&Qd(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||r||o))return;let l=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(u.anchor)),p=u.empty?c:this.moveToLine(this.domAtPos(u.head));if(be.gecko&&u.empty&&!this.hasComposition&&SV(c)){let v=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(v,c.node.childNodes[c.offset]||null)),c=p=new Or(v,0),l=!0}let g=this.view.observer.selectionRange;(l||!g.focusNode||(!Uc(c.node,c.offset,g.anchorNode,g.anchorOffset)||!Uc(p.node,p.offset,g.focusNode,g.focusOffset))&&!this.suppressWidgetCursorChange(g,u))&&(this.view.observer.ignore(()=>{be.android&&be.chrome&&this.dom.contains(g.focusNode)&&EV(g.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let v=yf(this.view.root);if(v)if(u.empty){if(be.gecko){let y=CV(c.node,c.offset);if(y&&y!=3){let x=(y==1?qP:GP)(c.node,c.offset);x&&(c=new Or(x.node,x.offset))}}v.collapse(c.node,c.offset),u.bidiLevel!=null&&v.caretBidiLevel!==void 0&&(v.caretBidiLevel=u.bidiLevel)}else if(v.extend){v.collapse(c.node,c.offset);try{v.extend(p.node,p.offset)}catch{}}else{let y=document.createRange();u.anchor>u.head&&([c,p]=[p,c]),y.setEnd(p.node,p.offset),y.setStart(c.node,c.offset),v.removeAllRanges(),v.addRange(y)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(c,p)),this.impreciseAnchor=c.precise?null:new Or(g.anchorNode,g.anchorOffset),this.impreciseHead=p.precise?null:new Or(g.focusNode,g.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&Uc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,n=yf(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!n||!r.empty||!r.assoc||!n.modify)return;let l=_t.find(this,r.head);if(!l)return;let u=l.posAtStart;if(r.head==u||r.head==u+l.length)return;let c=this.coordsAt(r.head,-1),p=this.coordsAt(r.head,1);if(!c||!p||c.bottom>p.top)return;let g=this.domAtPos(r.head+r.assoc);n.collapse(g.node,g.offset),n.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let v=e.observer.selectionRange;e.docView.posFromDOM(v.anchorNode,v.anchorOffset)!=r.from&&n.collapse(i,o)}moveToLine(e){let r=this.dom,n;if(e.node!=r)return e;for(let i=e.offset;!n&&i<r.childNodes.length;i++){let o=lt.get(r.childNodes[i]);o instanceof _t&&(n=o.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let o=lt.get(r.childNodes[i]);o instanceof _t&&(n=o.domAtPos(o.length))}return n?new Or(n.node,n.offset,!0):e}nearest(e){for(let r=e;r;){let n=lt.get(r);if(n&&n.rootView==this)return n;r=r.parentNode}return null}posFromDOM(e,r){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,r)+n.posAtStart}domAtPos(e){let{i:r,off:n}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let i=this.children[r];if(n<i.length||i instanceof _t)break;r++,n=0}return this.children[r].domAtPos(n)}coordsAt(e,r){let n=null,i=0;for(let o=this.length,l=this.children.length-1;l>=0;l--){let u=this.children[l],c=o-u.breakAfter,p=c-u.length;if(c<e)break;if(p<=e&&(p<e||u.covers(-1))&&(c>e||u.covers(1))&&(!n||u instanceof _t&&!(n instanceof _t&&r>=0)))n=u,i=p;else if(n&&p==e&&c==e&&u instanceof ho&&Math.abs(r)<2){if(u.deco.startSide<0)break;l&&(n=null)}o=p}return n?n.coordsAt(e-i,r):null}coordsForChar(e){let{i:r,off:n}=this.childPos(e,1),i=this.children[r];if(!(i instanceof _t))return null;for(;i.children.length;){let{i:u,off:c}=i.childPos(n,1);for(;;u++){if(u==i.children.length)return null;if((i=i.children[u]).length)break}n=c}if(!(i instanceof mi))return null;let o=gr(i.text,n);if(o==n)return null;let l=Tl(i.dom,n,o).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(u==l.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let r=[],{from:n,to:i}=e,o=this.view.contentDOM.clientWidth,l=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,c=this.view.textDirection==gt.LTR;for(let p=0,g=0;g<this.children.length;g++){let v=this.children[g],y=p+v.length;if(y>i)break;if(p>=n){let x=v.dom.getBoundingClientRect();if(r.push(x.height),l){let T=v.dom.lastChild,A=T?iu(T):[];if(A.length){let P=A[A.length-1],C=c?P.right-x.left:x.right-P.left;C>u&&(u=C,this.minWidth=o,this.minWidthFrom=p,this.minWidthTo=y)}}}p=y+v.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?gt.RTL:gt.LTR}measureTextSize(){for(let o of this.children)if(o instanceof _t){let l=o.measureTextSize();if(l)return l}let e=document.createElement("div"),r,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=iu(e.firstChild)[0];r=e.getBoundingClientRect().height,n=o?o.width/27:7,i=o?o.height:r,e.remove()}),{lineHeight:r,charWidth:n,textHeight:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new YP(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let n=0,i=0;;i++){let o=i==r.viewports.length?null:r.viewports[i],l=o?o.from-1:this.length;if(l>n){let u=(r.lineBlockAt(l).bottom-r.lineBlockAt(n).top)/this.view.scaleY;e.push(Pe.replace({widget:new D1(u),block:!0,inclusive:!0,isBlockGap:!0}).range(n,l))}if(!o)break;n=o.to+1}return Pe.set(e)}updateDeco(){let e=1,r=this.view.state.facet(wf).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),n=!1,i=this.view.state.facet(xN).map((o,l)=>{let u=typeof o=="function";return u&&(n=!0),u?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=n,r.push(Qe.join(i))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let p=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=p.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let p of this.view.state.facet(vN))try{if(p(this.view,e.range,e))return!0}catch(g){on(this.view.state,g,"scroll handler")}let{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!n)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let o=kN(this.view),l={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:u,offsetHeight:c}=this.view.scrollDOM;rV(this.view.scrollDOM,l,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,u),-u),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==gt.LTR)}}function SV(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function CN(t,e){let r=t.observer.selectionRange;if(!r.focusNode)return null;let n=qP(r.focusNode,r.focusOffset),i=GP(r.focusNode,r.focusOffset),o=n||i;if(i&&n&&i.node!=n.node){let u=lt.get(i.node);if(!u||u instanceof mi&&u.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let c=lt.get(n.node);!c||c instanceof mi&&c.text!=n.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=n,!o)return null;let l=e-o.offset;return{from:l,to:l+o.node.nodeValue.length,node:o.node}}function kV(t,e,r){let n=CN(t,r);if(!n)return null;let{node:i,from:o,to:l}=n,u=i.nodeValue;if(/[\n\r]/.test(u)||t.state.doc.sliceString(n.from,n.to)!=u)return null;let c=e.invertedDesc,p=new Wn(c.mapPos(o),c.mapPos(l),o,l),g=[];for(let v=i.parentNode;;v=v.parentNode){let y=lt.get(v);if(y instanceof xo)g.push({node:v,deco:y.mark});else{if(y instanceof _t||v.nodeName=="DIV"&&v.parentNode==t.contentDOM)return{range:p,text:i,marks:g,line:v};if(v!=t.contentDOM)g.push({node:v,deco:new Xf({inclusive:!0,attributes:cV(v),tagName:v.tagName.toLowerCase()})});else return null}}}function CV(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let TV=class{constructor(){this.changes=[]}compareRange(e,r){N1(e,r,this.changes)}comparePoint(e,r){N1(e,r,this.changes)}};function OV(t,e,r){let n=new TV;return Qe.compare(t,e,r,n),n.changes}function EV(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function AV(t,e){let r=!1;return e&&t.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(r=!0)}),r}function MV(t,e,r=1){let n=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return ne.cursor(e);o==0?r=1:o==i.length&&(r=-1);let l=o,u=o;r<0?l=gr(i.text,o,!1):u=gr(i.text,o);let c=n(i.text.slice(l,u));for(;l>0;){let p=gr(i.text,l,!1);if(n(i.text.slice(p,l))!=c)break;l=p}for(;u<i.length;){let p=gr(i.text,u);if(n(i.text.slice(u,p))!=c)break;u=p}return ne.range(l+i.from,u+i.from)}function LV(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function PV(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function T0(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function AT(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function MT(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function F1(t,e,r){let n,i,o,l,u=!1,c,p,g,v;for(let T=t.firstChild;T;T=T.nextSibling){let A=iu(T);for(let P=0;P<A.length;P++){let C=A[P];i&&T0(i,C)&&(C=AT(MT(C,i.bottom),i.top));let S=LV(e,C),M=PV(r,C);if(S==0&&M==0)return T.nodeType==3?LT(T,e,r):F1(T,e,r);if(!n||l>M||l==M&&o>S){n=T,i=C,o=S,l=M;let N=M?r<C.top?-1:1:S?e<C.left?-1:1:0;u=!N||(N>0?P<A.length-1:P>0)}S==0?r>C.bottom&&(!g||g.bottom<C.bottom)?(c=T,g=C):r<C.top&&(!v||v.top>C.top)&&(p=T,v=C):g&&T0(g,C)?g=MT(g,C.bottom):v&&T0(v,C)&&(v=AT(v,C.top))}}if(g&&g.bottom>=r?(n=c,i=g):v&&v.top<=r&&(n=p,i=v),!n)return{node:t,offset:0};let y=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return LT(n,y,r);if(u&&n.contentEditable!="false")return F1(n,y,r);let x=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:x}}function LT(t,e,r){let n=t.nodeValue.length,i=-1,o=1e9,l=0;for(let u=0;u<n;u++){let c=Tl(t,u,u+1).getClientRects();for(let p=0;p<c.length;p++){let g=c[p];if(g.top==g.bottom)continue;l||(l=e-g.left);let v=(g.top>r?g.top-r:r-g.bottom)-1;if(g.left-1<=e&&g.right+1>=e&&v<o){let y=e>=(g.left+g.right)/2,x=y;if((be.chrome||be.gecko)&&Tl(t,u).getBoundingClientRect().left==g.right&&(x=!y),v<=0)return{node:t,offset:u+(x?1:0)};i=u+(x?1:0),o=v}}}return{node:t,offset:i>-1?i:l>0?t.nodeValue.length:0}}function TN(t,e,r,n=-1){var i,o;let l=t.contentDOM.getBoundingClientRect(),u=l.top+t.viewState.paddingTop,c,{docHeight:p}=t.viewState,{x:g,y:v}=e,y=v-u;if(y<0)return 0;if(y>p)return t.state.doc.length;for(let N=t.viewState.heightOracle.textHeight/2,D=!1;c=t.elementAtHeight(y),c.type!=Hr.Text;)for(;y=n>0?c.bottom+N:c.top-N,!(y>=0&&y<=p);){if(D)return r?null:0;D=!0,n=-n}v=u+y;let x=c.from;if(x<t.viewport.from)return t.viewport.from==0?0:r?null:PT(t,l,c,g,v);if(x>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:PT(t,l,c,g,v);let T=t.dom.ownerDocument,A=t.root.elementFromPoint?t.root:T,P=A.elementFromPoint(g,v);P&&!t.contentDOM.contains(P)&&(P=null),P||(g=Math.max(l.left+1,Math.min(l.right-1,g)),P=A.elementFromPoint(g,v),P&&!t.contentDOM.contains(P)&&(P=null));let C,S=-1;if(P&&((i=t.docView.nearest(P))===null||i===void 0?void 0:i.isEditable)!=!1){if(T.caretPositionFromPoint){let N=T.caretPositionFromPoint(g,v);N&&({offsetNode:C,offset:S}=N)}else if(T.caretRangeFromPoint){let N=T.caretRangeFromPoint(g,v);N&&({startContainer:C,startOffset:S}=N,(!t.contentDOM.contains(C)||be.safari&&NV(C,S,g)||be.chrome&&DV(C,S,g))&&(C=void 0))}C&&(S=Math.min(Ui(C),S))}if(!C||!t.docView.dom.contains(C)){let N=_t.find(t.docView,x);if(!N)return y>c.top+c.height/2?c.to:c.from;({node:C,offset:S}=F1(N.dom,g,v))}let M=t.docView.nearest(C);if(!M)return null;if(M.isWidget&&((o=M.dom)===null||o===void 0?void 0:o.nodeType)==1){let N=M.dom.getBoundingClientRect();return e.y<N.top||e.y<=N.bottom&&e.x<=(N.left+N.right)/2?M.posAtStart:M.posAtEnd}else return M.localPosFromDOM(C,S)+M.posAtStart}function PT(t,e,r,n,i){let o=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let u=t.viewState.heightOracle.textHeight,c=Math.floor((i-r.top-(t.defaultLineHeight-u)*.5)/u);o+=c*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(r.from,r.to);return r.from+k1(l,o,t.state.tabSize)}function NV(t,e,r){let n;if(t.nodeType!=3||e!=(n=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Tl(t,n-1,n).getBoundingClientRect().left>r}function DV(t,e,r){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let n=t.nodeType==1?t.getBoundingClientRect():Tl(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}function $1(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let n of r.type)if(n.to>e||n.to==e&&(n.to==r.to||n.type==Hr.Text))return n}return r}function RV(t,e,r,n){let i=$1(t,e.head),o=!n||i.type!=Hr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let l=t.dom.getBoundingClientRect(),u=t.textDirectionAt(i.from),c=t.posAtCoords({x:r==(u==gt.LTR)?l.right-1:l.left+1,y:(o.top+o.bottom)/2});if(c!=null)return ne.cursor(c,r?-1:1)}return ne.cursor(r?i.to:i.from,r?-1:1)}function NT(t,e,r,n){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),l=t.textDirectionAt(i.from);for(let u=e,c=null;;){let p=wV(i,o,l,u,r),g=aN;if(!p){if(i.number==(r?t.state.doc.lines:1))return u;g=`
`,i=t.state.doc.line(i.number+(r?1:-1)),o=t.bidiSpans(i),p=t.visualLineSide(i,!r)}if(c){if(!c(g))return u}else{if(!n)return p;c=n(g)}u=p}}function IV(t,e,r){let n=t.state.charCategorizer(e),i=n(r);return o=>{let l=n(o);return i==yt.Space&&(i=l),i==l}}function BV(t,e,r,n){let i=e.head,o=r?1:-1;if(i==(r?t.state.doc.length:0))return ne.cursor(i,e.assoc);let l=e.goalColumn,u,c=t.contentDOM.getBoundingClientRect(),p=t.coordsAtPos(i,e.assoc||-1),g=t.documentTop;if(p)l==null&&(l=p.left-c.left),u=o<0?p.top:p.bottom;else{let x=t.viewState.lineBlockAt(i);l==null&&(l=Math.min(c.right-c.left,t.defaultCharacterWidth*(i-x.from))),u=(o<0?x.top:x.bottom)+g}let v=c.left+l,y=n??t.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let T=u+(y+x)*o,A=TN(t,{x:v,y:T},!1,o);if(T<c.top||T>c.bottom||(o<0?A<i:A>i)){let P=t.docView.coordsForChar(A),C=!P||T<P.top?-1:1;return ne.cursor(A,C,void 0,l)}}}function Jd(t,e,r){for(;;){let n=0;for(let i of t)i.between(e-1,e+1,(o,l,u)=>{if(e>o&&e<l){let c=n||r||(e-o<l-e?-1:1);e=c<0?o:l,n=c}});if(!n)return e}}function O0(t,e,r){let n=Jd(t.state.facet(qx).map(i=>i(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:ne.cursor(n,n<r.from?1:-1)}const Ec="￿";class _V{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Ge.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ec}readRange(e,r){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let o=this.text.length;this.readNode(i);let l=i.nextSibling;if(l==r)break;let u=lt.get(i),c=lt.get(l);(u&&c?u.breakAfter:(u?u.breakAfter:Vp(i))||Vp(l)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=l}return this.findPointBefore(n,r),this}readTextNode(e){let r=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,r.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,l=1,u;if(this.lineSeparator?(o=r.indexOf(this.lineSeparator,n),l=this.lineSeparator.length):(u=i.exec(r))&&(o=u.index,l=u[0].length),this.append(r.slice(n,o<0?r.length:o)),o<0)break;if(this.lineBreak(),l>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=l-1);n=o+l}}readNode(e){if(e.cmIgnore)return;let r=lt.get(e),n=r&&r.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==r&&(n.pos=this.text.length)}findPointInside(e,r){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(FV(e,n.node,n.offset)?r:0))}}function FV(t,e,r){for(;;){if(!e||r<Ui(e))return!1;if(e==t)return!0;r=Cl(e)+1,e=e.parentNode}}class DT{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class $V{constructor(e,r,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:o,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,n,0))){let u=o||l?[]:jV(e),c=new _V(u,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=HV(u,this.bounds.from)}else{let u=e.observer.selectionRange,c=o&&o.node==u.focusNode&&o.offset==u.focusOffset||!O1(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),p=l&&l.node==u.anchorNode&&l.offset==u.anchorOffset||!O1(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset),g=e.viewport;if((be.ios||be.chrome)&&e.state.selection.main.empty&&c!=p&&(g.from>0||g.to<e.state.doc.length)){let v=Math.min(c,p),y=Math.max(c,p),x=g.from-v,T=g.to-y;(x==0||x==1||v==0)&&(T==0||T==-1||y==e.state.doc.length)&&(c=0,p=e.state.doc.length)}this.newSel=ne.single(p,c)}}}function ON(t,e){let r,{newSel:n}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:u}=e.bounds,c=i.from,p=null;(o===8||be.android&&e.text.length<u-l)&&(c=i.to,p="end");let g=WV(t.state.doc.sliceString(l,u,Ec),e.text,c-l,p);g&&(be.chrome&&o==13&&g.toB==g.from+2&&e.text.slice(g.from,g.toB)==Ec+Ec&&g.toB--,r={from:l+g.from,to:l+g.toA,insert:tt.of(e.text.slice(g.from,g.toB).split(Ec))})}else n&&(!t.hasFocus&&t.state.facet(es)||n.main.eq(i))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!i.empty&&n&&n.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:(be.mac||be.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&r.insert.length==2&&(n=ne.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:tt.of([" "])}):be.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=ne.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:tt.of([" "])}),r)return Gx(t,r,n,o);if(n&&!n.main.eq(i)){let l=!1,u="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(l=!0),u=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:l,userEvent:u}),!0}else return!1}function Gx(t,e,r,n=-1){if(be.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(be.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ja(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&ja(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&ja(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,u=()=>l||(l=zV(t,e,r));return t.state.facet(dN).some(c=>c(t,e.from,e.to,o,u))||t.dispatch(u()),!0}function zV(t,e,r){let n,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=o.from<e.from?i.sliceDoc(o.from,e.from):"",c=o.to>e.to?i.sliceDoc(e.to,o.to):"";n=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let u=i.changes(e),c=r&&r.main.to<=u.newLength?r.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let p=t.state.sliceDoc(e.from,e.to),g,v=r&&CN(t,r.main.head);if(v){let T=e.insert.length-(e.to-e.from);g={from:v.from,to:v.to-T}}else g=t.state.doc.lineAt(o.head);let y=o.to-e.to,x=o.to-o.from;n=i.changeByRange(T=>{if(T.from==o.from&&T.to==o.to)return{changes:u,range:c||T.map(u)};let A=T.to-y,P=A-p.length;if(T.to-T.from!=x||t.state.sliceDoc(P,A)!=p||T.to>=g.from&&T.from<=g.to)return{range:T};let C=i.changes({from:P,to:A,insert:e.insert}),S=T.to-o.to;return{changes:C,range:c?ne.range(Math.max(0,c.anchor+S),Math.max(0,c.head+S)):T.map(C)}})}else n={changes:u,selection:c&&i.selection.replaceRange(c)}}let l="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:l,scrollIntoView:!0})}function WV(t,e,r,n){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let l=t.length,u=e.length;for(;l>0&&u>0&&t.charCodeAt(l-1)==e.charCodeAt(u-1);)l--,u--;if(n=="end"){let c=Math.max(0,o-Math.min(l,u));r-=l+c-o}if(l<o&&t.length<e.length){let c=r<=o&&r>=l?o-r:0;o-=c,u=o+(u-l),l=o}else if(u<o){let c=r<=o&&r>=u?o-r:0;o-=c,l=o+(l-u),u=o}return{from:o,toA:l,toB:u}}function jV(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}=t.observer.selectionRange;return r&&(e.push(new DT(r,n)),(i!=r||o!=n)&&e.push(new DT(i,o))),e}function HV(t,e){if(t.length==0)return null;let r=t[0].pos,n=t.length==2?t[1].pos:r;return r>-1&&n>-1?ne.single(r+e,n+e):null}class UV{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,be.safari&&e.contentDOM.addEventListener("input",()=>null),be.gecko&&sK(e.contentDOM.ownerDocument)}handleEvent(e){!JV(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,r){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,r);for(let i of n.handlers){if(r.defaultPrevented)break;if(i(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=VV(e),n=this.handlers,i=this.view.contentDOM;for(let o in r)if(o!="scroll"){let l=!r[o].handlers.length,u=n[o];u&&l!=!u.handlers.length&&(i.removeEventListener(o,this.handleEvent),u=null),u||i.addEventListener(o,this.handleEvent,{passive:l})}for(let o in n)o!="scroll"&&!r[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&AN.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),be.android&&be.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return be.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=EN.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||KV.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ja(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:be.safari&&!be.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function RT(t,e){return(r,n)=>{try{return e.call(t,n,r)}catch(i){on(r.state,i)}}}function VV(t){let e=Object.create(null);function r(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of t){let i=n.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let l=i.domEventHandlers[o];l&&r(o).handlers.push(RT(n.value,l))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let l=i.domEventObservers[o];l&&r(o).observers.push(RT(n.value,l))}}for(let n in vi)r(n).handlers.push(vi[n]);for(let n in Kn)r(n).observers.push(Kn[n]);return e}const EN=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],KV="dthko",AN=[16,17,18,20,91,92,224,225],ud=6;function cd(t){return Math.max(0,t)*.7+8}function qV(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class GV{constructor(e,r,n,i){this.view=e,this.startEvent=r,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=nV(e.contentDOM),this.atoms=e.state.facet(qx).map(l=>l(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Ge.allowMultipleSelections)&&YV(e,r),this.dragging=QV(e,r)&&PN(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&qV(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,n=0,i=0,o=0,l=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:u}=this.scrollParents.y.getBoundingClientRect());let c=kN(this.view);e.clientX-c.left<=i+ud?r=-cd(i-e.clientX):e.clientX+c.right>=l-ud&&(r=cd(e.clientX-l)),e.clientY-c.top<=o+ud?n=-cd(o-e.clientY):e.clientY+c.bottom>=u-ud&&(n=cd(e.clientY-u)),this.setScrollSpeed(r,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],o=null;if(i.empty){let l=Jd(this.atoms,i.from,0);l!=i.from&&(o=ne.cursor(l,-1))}else{let l=Jd(this.atoms,i.from,-1),u=Jd(this.atoms,i.to,1);(l!=i.from||u!=i.to)&&(o=ne.range(i.from==i.anchor?l:u,i.from==i.head?l:u))}o&&(r||(r=e.ranges.slice()),r[n]=o)}return r?ne.create(r,e.mainIndex):e}select(e){let{view:r}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function YV(t,e){let r=t.state.facet(uN);return r.length?r[0](e):be.mac?e.metaKey:e.ctrlKey}function XV(t,e){let r=t.state.facet(cN);return r.length?r[0](e):be.mac?!e.altKey:!e.ctrlKey}function QV(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=yf(t.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let l=i[o];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function JV(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=lt.get(r))&&n.ignoreEvent(e))return!1;return!0}const vi=Object.create(null),Kn=Object.create(null),MN=be.ie&&be.ie_version<15||be.ios&&be.webkit_version<604;function ZV(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),LN(t,r.value)},50)}function sm(t,e,r){for(let n of t.facet(e))r=n(r,t);return r}function LN(t,e){e=sm(t.state,Ux,e);let{state:r}=t,n,i=1,o=r.toText(e),l=o.lines==r.selection.ranges.length;if(z1!=null&&r.selection.ranges.every(c=>c.empty)&&z1==o.toString()){let c=-1;n=r.changeByRange(p=>{let g=r.doc.lineAt(p.from);if(g.from==c)return{range:p};c=g.from;let v=r.toText((l?o.line(i++).text:e)+r.lineBreak);return{changes:{from:g.from,insert:v},range:ne.cursor(p.from+v.length)}})}else l?n=r.changeByRange(c=>{let p=o.line(i++);return{changes:{from:c.from,to:c.to,insert:p.text},range:ne.cursor(c.from+p.length)}}):n=r.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Kn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};vi.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Kn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Kn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};vi.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let n of t.state.facet(fN))if(r=n(t,e),r)break;if(!r&&e.button==0&&(r=rK(t,e)),r){let n=!t.hasFocus;t.inputState.startMouseSelection(new GV(t,e,r,n)),n&&t.observer.ignore(()=>{UP(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function IT(t,e,r,n){if(n==1)return ne.cursor(e,r);if(n==2)return MV(t.state,e,r);{let i=_t.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:o.from,u=i?i.posAtEnd:o.to;return u<t.state.doc.length&&u==o.to&&u++,ne.range(l,u)}}let BT=(t,e,r)=>e>=r.top&&e<=r.bottom&&t>=r.left&&t<=r.right;function eK(t,e,r,n){let i=_t.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let l=i.coordsAt(o,-1);if(l&&BT(r,n,l))return-1;let u=i.coordsAt(o,1);return u&&BT(r,n,u)?1:l&&l.bottom>=n?-1:1}function _T(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:eK(t,r,e.clientX,e.clientY)}}const tK=be.ie&&be.ie_version<=11;let FT=null,$T=0,zT=0;function PN(t){if(!tK)return t.detail;let e=FT,r=zT;return FT=t,zT=Date.now(),$T=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?($T+1)%3:1}function rK(t,e){let r=_T(t,e),n=PN(e),i=t.state.selection;return{update(o){o.docChanged&&(r.pos=o.changes.mapPos(r.pos),i=i.map(o.changes))},get(o,l,u){let c=_T(t,o),p,g=IT(t,c.pos,c.bias,n);if(r.pos!=c.pos&&!l){let v=IT(t,r.pos,r.bias,n),y=Math.min(v.from,g.from),x=Math.max(v.to,g.to);g=y<g.from?ne.range(y,x):ne.range(x,y)}return l?i.replaceRange(i.main.extend(g.from,g.to)):u&&n==1&&i.ranges.length>1&&(p=nK(i,c.pos))?p:u?i.addRange(g):ne.create([g])}}}function nK(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:i}=t.ranges[r];if(n<=e&&i>=e)return ne.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}vi.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,l=o+i.length;(o>=r.to||l<=r.from)&&(r=ne.range(o,l))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",sm(t.state,Vx,t.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};vi.dragend=t=>(t.inputState.draggedContent=null,!1);function WT(t,e,r,n){if(r=sm(t.state,Ux,r),!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,l=n&&o&&XV(t,e)?{from:o.from,to:o.to}:null,u={from:i,insert:r},c=t.state.changes(l?[l,u]:u);t.focus(),t.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}vi.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let n=Array(r.length),i=0,o=()=>{++i==r.length&&WT(t,e,n.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<r.length;l++){let u=new FileReader;u.onerror=o,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(n[l]=u.result),o()},u.readAsText(r[l])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return WT(t,e,n,!0),!0}return!1};vi.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=MN?null:e.clipboardData;return r?(LN(t,r.getData("text/plain")||r.getData("text/uri-list")),!0):(ZV(t),!1)};function iK(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function oK(t){let e=[],r=[],n=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let l=t.doc.lineAt(o);l.number>i&&(e.push(l.text),r.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),i=l.number}n=!0}return{text:sm(t,Vx,e.join(t.lineBreak)),ranges:r,linewise:n}}let z1=null;vi.copy=vi.cut=(t,e)=>{let{text:r,ranges:n,linewise:i}=oK(t.state);if(!r&&!i)return!1;z1=i?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=MN?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",r),!0):(iK(t,r),!1)};const NN=qi.define();function DN(t,e){let r=[];for(let n of t.facet(pN)){let i=n(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:NN.of(!0)}):null}function RN(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=DN(t.state,e);r?t.dispatch(r):t.update([])}},10)}Kn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),RN(t)};Kn.blur=t=>{t.observer.clearSelectionRange(),RN(t)};Kn.compositionstart=Kn.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Kn.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,be.chrome&&be.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Kn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};vi.beforeinput=(t,e)=>{var r,n;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),l=e.getTargetRanges();if(o&&l.length){let u=l[0],c=t.posAtDOM(u.startContainer,u.startOffset),p=t.posAtDOM(u.endContainer,u.endOffset);return Gx(t,{from:c,to:p,insert:t.state.toText(o)},null),!0}}let i;if(be.chrome&&be.android&&(i=EN.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return be.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),be.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Kn.compositionend(t,e),20),!1};const jT=new Set;function sK(t){jT.has(t)||(jT.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const HT=["pre-wrap","normal","pre-line","break-spaces"];let lu=!1;function UT(){lu=!1}class lK{constructor(e){this.lineWrapping=e,this.doc=tt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let n=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((r-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return HT.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,n,i,o,l){let u=HT.indexOf(e)>-1,c=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=r,this.charWidth=n,this.textHeight=i,this.lineLength=o,c){this.heightSamples={};for(let p=0;p<l.length;p++){let g=l[p];g<0?p++:this.heightSamples[Math.floor(g*10)]=!0}}return c}}class aK{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class Bi{constructor(e,r,n,i,o){this.from=e,this.length=r,this.top=n,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Hr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Es?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Bi(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var dt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(dt||(dt={}));const Zd=.001;class Ur{constructor(e,r,n=2){this.length=e,this.height=r,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Zd&&(lu=!0),this.height=e)}replace(e,r,n){return Ur.of(n)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,n,i){let o=this,l=n.doc;for(let u=i.length-1;u>=0;u--){let{fromA:c,toA:p,fromB:g,toB:v}=i[u],y=o.lineAt(c,dt.ByPosNoHeight,n.setDoc(r),0,0),x=y.to>=p?y:o.lineAt(p,dt.ByPosNoHeight,n,0,0);for(v+=x.to-p,p=x.to;u>0&&y.from<=i[u-1].toA;)c=i[u-1].fromA,g=i[u-1].fromB,u--,c<y.from&&(y=o.lineAt(c,dt.ByPosNoHeight,n,0,0));g+=y.from-c,c=y.from;let T=Yx.build(n.setDoc(l),e,g,v);o=Gp(o,o.replace(c,p,T))}return o.updateHeight(n,0)}static empty(){return new vn(0,0)}static of(e){if(e.length==1)return e[0];let r=0,n=e.length,i=0,o=0;for(;;)if(r==n)if(i>o*2){let u=e[r-1];u.break?e.splice(--r,1,u.left,null,u.right):e.splice(--r,1,u.left,u.right),n+=1+u.break,i-=u.size}else if(o>i*2){let u=e[n];u.break?e.splice(n,1,u.left,null,u.right):e.splice(n,1,u.left,u.right),n+=2+u.break,o-=u.size}else break;else if(i<o){let u=e[r++];u&&(i+=u.size)}else{let u=e[--n];u&&(o+=u.size)}let l=0;return e[r-1]==null?(l=1,r--):e[r]==null&&(l=1,n++),new uK(Ur.of(e.slice(0,r)),l,Ur.of(e.slice(n)))}}function Gp(t,e){return t==e?t:(t.constructor!=e.constructor&&(lu=!0),e)}Ur.prototype.size=1;class IN extends Ur{constructor(e,r,n){super(e,r),this.deco=n}blockAt(e,r,n,i){return new Bi(i,this.length,n,this.height,this.deco||0)}lineAt(e,r,n,i,o){return this.blockAt(0,n,i,o)}forEachLine(e,r,n,i,o,l){e<=o+this.length&&r>=o&&l(this.blockAt(0,n,i,o))}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vn extends IN{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,n,i){return new Bi(i,this.length,n,this.height,this.breaks)}replace(e,r,n){let i=n[0];return n.length==1&&(i instanceof vn||i instanceof cr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof cr?i=new vn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ur.of(n)}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class cr extends Ur{constructor(e){super(e,0)}heightMetrics(e,r){let n=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,o=i-n+1,l,u=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*o);l=c/o,this.length>o+1&&(u=(this.height-c)/(this.length-o-1))}else l=this.height/o;return{firstLine:n,lastLine:i,perLine:l,perChar:u}}blockAt(e,r,n,i){let{firstLine:o,lastLine:l,perLine:u,perChar:c}=this.heightMetrics(r,i);if(r.lineWrapping){let p=i+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),g=r.doc.lineAt(p),v=u+g.length*c,y=Math.max(n,e-v/2);return new Bi(g.from,g.length,y,v,0)}else{let p=Math.max(0,Math.min(l-o,Math.floor((e-n)/u))),{from:g,length:v}=r.doc.line(o+p);return new Bi(g,v,n+u*p,u,0)}}lineAt(e,r,n,i,o){if(r==dt.ByHeight)return this.blockAt(e,n,i,o);if(r==dt.ByPosNoHeight){let{from:x,to:T}=n.doc.lineAt(e);return new Bi(x,T-x,0,0,0)}let{firstLine:l,perLine:u,perChar:c}=this.heightMetrics(n,o),p=n.doc.lineAt(e),g=u+p.length*c,v=p.number-l,y=i+u*v+c*(p.from-o-v);return new Bi(p.from,p.length,Math.max(i,Math.min(y,i+this.height-g)),g,0)}forEachLine(e,r,n,i,o,l){e=Math.max(e,o),r=Math.min(r,o+this.length);let{firstLine:u,perLine:c,perChar:p}=this.heightMetrics(n,o);for(let g=e,v=i;g<=r;){let y=n.doc.lineAt(g);if(g==e){let T=y.number-u;v+=c*T+p*(e-o-T)}let x=c+p*y.length;l(new Bi(y.from,y.length,v,x,0)),v+=x,g=y.to+1}}replace(e,r,n){let i=this.length-r;if(i>0){let o=n[n.length-1];o instanceof cr?n[n.length-1]=new cr(o.length+i):n.push(null,new cr(i-1))}if(e>0){let o=n[0];o instanceof cr?n[0]=new cr(e+o.length):n.unshift(new cr(e-1),null)}return Ur.of(n)}decomposeLeft(e,r){r.push(new cr(e-1),null)}decomposeRight(e,r){r.push(null,new cr(this.length-e-1))}updateHeight(e,r=0,n=!1,i){let o=r+this.length;if(i&&i.from<=r+this.length&&i.more){let l=[],u=Math.max(r,i.from),c=-1;for(i.from>r&&l.push(new cr(i.from-r-1).updateHeight(e,r));u<=o&&i.more;){let g=e.doc.lineAt(u).length;l.length&&l.push(null);let v=i.heights[i.index++];c==-1?c=v:Math.abs(v-c)>=Zd&&(c=-2);let y=new vn(g,v);y.outdated=!1,l.push(y),u+=g+1}u<=o&&l.push(null,new cr(o-u).updateHeight(e,u));let p=Ur.of(l);return(c<0||Math.abs(p.height-this.height)>=Zd||Math.abs(c-this.heightMetrics(e,r).perLine)>=Zd)&&(lu=!0),Gp(this,p)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class uK extends Ur{constructor(e,r,n){super(e.length+r+n.length,e.height+n.height,r|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,r,n,i){let o=n+this.left.height;return e<o?this.left.blockAt(e,r,n,i):this.right.blockAt(e,r,o,i+this.left.length+this.break)}lineAt(e,r,n,i,o){let l=i+this.left.height,u=o+this.left.length+this.break,c=r==dt.ByHeight?e<l:e<u,p=c?this.left.lineAt(e,r,n,i,o):this.right.lineAt(e,r,n,l,u);if(this.break||(c?p.to<u:p.from>u))return p;let g=r==dt.ByPosNoHeight?dt.ByPosNoHeight:dt.ByPos;return c?p.join(this.right.lineAt(u,g,n,l,u)):this.left.lineAt(u,g,n,i,o).join(p)}forEachLine(e,r,n,i,o,l){let u=i+this.left.height,c=o+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,r,n,i,o,l),r>=c&&this.right.forEachLine(e,r,n,u,c,l);else{let p=this.lineAt(c,dt.ByPos,n,i,o);e<p.from&&this.left.forEachLine(e,p.from-1,n,i,o,l),p.to>=e&&p.from<=r&&l(p),r>p.to&&this.right.forEachLine(p.to+1,r,n,u,c,l)}}replace(e,r,n){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,n));let o=[];e>0&&this.decomposeLeft(e,o);let l=o.length;for(let u of n)o.push(u);if(e>0&&VT(o,l-1),r<this.length){let u=o.length;this.decomposeRight(r,o),VT(o,u)}return Ur.of(o)}decomposeLeft(e,r){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(n++,e>=n&&r.push(null)),e>n&&this.right.decomposeLeft(e-n,r)}decomposeRight(e,r){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<n&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?Ur.of(this.break?[e,null,r]:[e,r]):(this.left=Gp(this.left,e),this.right=Gp(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,n=!1,i){let{left:o,right:l}=this,u=r+o.length+this.break,c=null;return i&&i.from<=r+o.length&&i.more?c=o=o.updateHeight(e,r,n,i):o.updateHeight(e,r,n),i&&i.from<=u+l.length&&i.more?c=l=l.updateHeight(e,u,n,i):l.updateHeight(e,u,n),c?this.balanced(o,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function VT(t,e){let r,n;t[e]==null&&(r=t[e-1])instanceof cr&&(n=t[e+1])instanceof cr&&t.splice(e-1,3,new cr(r.length+1+n.length))}const cK=5;class Yx{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let n=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof vn?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new vn(n-this.pos,-1)),this.writtenTo=n,r>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,n){if(e<r||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=r-e;n.block?this.addBlock(new IN(l,i,n)):(l||o||i>=cK)&&this.addLineDeco(i,o,l)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new vn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let n=new cr(r-e);return this.oracle.doc.lineAt(e).to==r&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof vn)return e;let r=new vn(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+n}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof vn)&&!this.isCovered?this.nodes.push(new vn(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof vn&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,r,n,i){let o=new Yx(n,e);return Qe.spans(r,n,i,o,0),o.finish(n)}}function fK(t,e,r){let n=new hK;return Qe.compare(t,e,r,n,0),n.changes}class hK{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,n,i){(e<r||n&&n.heightRelevant||i&&i.heightRelevant)&&N1(e,r,this.changes,5)}}function dK(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||window,o=Math.max(0,r.left),l=Math.min(i.innerWidth,r.right),u=Math.max(0,r.top),c=Math.min(i.innerHeight,r.bottom);for(let p=t.parentNode;p&&p!=n.body;)if(p.nodeType==1){let g=p,v=window.getComputedStyle(g);if((g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth)&&v.overflow!="visible"){let y=g.getBoundingClientRect();o=Math.max(o,y.left),l=Math.min(l,y.right),u=Math.max(u,y.top),c=Math.min(p==t.parentNode?i.innerHeight:c,y.bottom)}p=v.position=="absolute"||v.position=="fixed"?g.offsetParent:g.parentNode}else if(p.nodeType==11)p=p.host;else break;return{left:o-r.left,right:Math.max(o,l)-r.left,top:u-(r.top+e),bottom:Math.max(u,c)-(r.top+e)}}function pK(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class E0{constructor(e,r,n,i){this.from=e,this.to=r,this.size=n,this.displaySize=i}static same(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=r[n];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,r){return Pe.replace({widget:new gK(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class gK extends Eo{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class KT{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=qT,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=gt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(Kx).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new lK(r),this.stateDeco=e.facet(wf).filter(n=>typeof n!="function"),this.heightMap=Ur.empty().applyChanges(this.stateDeco,tt.empty,this.heightOracle.setDoc(e.doc),[new Wn(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Pe.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let n=0;n<=1;n++){let i=n?r.head:r.anchor;if(!e.some(({from:o,to:l})=>i>=o&&i<=l)){let{from:o,to:l}=this.lineBlockAt(i);e.push(new fd(o,l))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?qT:new Xx(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ac(e,this.scaler))})}update(e,r=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(wf).filter(g=>typeof g!="function");let i=e.changedRanges,o=Wn.extendWithRanges(i,fK(n,this.stateDeco,e?e.changes:Yt.empty(this.state.doc.length))),l=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);UT(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=l||lu)&&(e.flags|=2),u?(this.scrollAnchorPos=e.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<c.from||r.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,r));let p=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(p||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(mN)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,n=window.getComputedStyle(r),i=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?gt.RTL:gt.LTR;let l=this.heightOracle.mustRefreshForWrapping(o),u=r.getBoundingClientRect(),c=l||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let p=0,g=0;if(u.width&&u.height){let{scaleX:N,scaleY:D}=HP(r,u);(N>.005&&Math.abs(this.scaleX-N)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=N,this.scaleY=D,p|=8,l=c=!0)}let v=(parseInt(n.paddingTop)||0)*this.scaleY,y=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=v||this.paddingBottom!=y)&&(this.paddingTop=v,this.paddingBottom=y,p|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,p|=8);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=KP(e.scrollDOM);let T=(this.printing?pK:dK)(r,this.paddingTop),A=T.top-this.pixelViewport.top,P=T.bottom-this.pixelViewport.bottom;this.pixelViewport=T;let C=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(C!=this.inView&&(this.inView=C,C&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let S=u.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,p|=8),c){let N=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(N)&&(l=!0),l||i.lineWrapping&&Math.abs(S-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:W,textHeight:z}=e.docView.measureTextSize();l=D>0&&i.refresh(o,D,W,z,S/W,N),l&&(e.docView.minWidth=0,p|=8)}A>0&&P>0?g=Math.max(A,P):A<0&&P<0&&(g=Math.min(A,P)),UT();for(let D of this.viewports){let W=D.from==this.viewport.from?N:e.docView.measureVisibleLineHeights(D);this.heightMap=(l?Ur.empty().applyChanges(this.stateDeco,tt.empty,this.heightOracle,[new Wn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new aK(D.from,W))}lu&&(p|=2)}let M=!this.viewportIsAppropriate(this.viewport,g)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return M&&(p&2&&(p|=this.updateScaler()),this.viewport=this.getViewport(g,this.scrollTarget),p|=this.updateForViewport()),(p&2||M)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),p|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),p}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:l,visibleBottom:u}=this,c=new fd(i.lineAt(l-n*1e3,dt.ByHeight,o,0,0).from,i.lineAt(u+(1-n)*1e3,dt.ByHeight,o,0,0).to);if(r){let{head:p}=r.range;if(p<c.from||p>c.to){let g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),v=i.lineAt(p,dt.ByPos,o,0,0),y;r.y=="center"?y=(v.top+v.bottom)/2-g/2:r.y=="start"||r.y=="nearest"&&p<c.from?y=v.top:y=v.bottom-g,c=new fd(i.lineAt(y-1e3/2,dt.ByHeight,o,0,0).from,i.lineAt(y+g+1e3/2,dt.ByHeight,o,0,0).to)}}return c}mapViewport(e,r){let n=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new fd(this.heightMap.lineAt(n,dt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,dt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,dt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(r,dt.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:u}=this;return(e==0||i<=l-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||o>=u+Math.max(10,Math.min(n,250)))&&i>l-2*1e3&&o<u+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let n=[];for(let i of e)r.touchesRange(i.from,i.to)||n.push(new E0(r.mapPos(i.from),r.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,r){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,o=i>>1,l=i<<1;if(this.defaultTextDirection!=gt.LTR&&!n)return[];let u=[],c=(g,v,y,x)=>{if(v-g<o)return;let T=this.state.selection.main,A=[T.from];T.empty||A.push(T.to);for(let C of A)if(C>g&&C<v){c(g,C-10,y,x),c(C+10,v,y,x);return}let P=vK(e,C=>C.from>=y.from&&C.to<=y.to&&Math.abs(C.from-g)<o&&Math.abs(C.to-v)<o&&!A.some(S=>C.from<S&&C.to>S));if(!P){if(v<y.to&&r&&n&&r.visibleRanges.some(M=>M.from<=v&&M.to>=v)){let M=r.moveToLineBoundary(ne.cursor(v),!1,!0).head;M>g&&(v=M)}let C=this.gapSize(y,g,v,x),S=n||C<2e6?C:2e6;P=new E0(g,v,C,S)}u.push(P)},p=g=>{if(g.length<l||g.type!=Hr.Text)return;let v=mK(g.from,g.to,this.stateDeco);if(v.total<l)return;let y=this.scrollTarget?this.scrollTarget.range.head:null,x,T;if(n){let A=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,P,C;if(y!=null){let S=dd(v,y),M=((this.visibleBottom-this.visibleTop)/2+A)/g.height;P=S-M,C=S+M}else P=(this.visibleTop-g.top-A)/g.height,C=(this.visibleBottom-g.top+A)/g.height;x=hd(v,P),T=hd(v,C)}else{let A=v.total*this.heightOracle.charWidth,P=i*this.heightOracle.charWidth,C=0;if(A>2e6)for(let W of e)W.from>=g.from&&W.from<g.to&&W.size!=W.displaySize&&W.from*this.heightOracle.charWidth+C<this.pixelViewport.left&&(C=W.size-W.displaySize);let S=this.pixelViewport.left+C,M=this.pixelViewport.right+C,N,D;if(y!=null){let W=dd(v,y),z=((M-S)/2+P)/A;N=W-z,D=W+z}else N=(S-P)/A,D=(M+P)/A;x=hd(v,N),T=hd(v,D)}x>g.from&&c(g.from,x,g,v),T<g.to&&c(T,g.to,g,v)};for(let g of this.viewportLines)Array.isArray(g.type)?g.type.forEach(p):p(g);return u}gapSize(e,r,n,i){let o=dd(i,n)-dd(i,r);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){E0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Pe.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];Qe.spans(e,this.viewport.from,this.viewport.to,{span(i,o){r.push({from:i,to:o})},point(){}},20);let n=r.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=r[o].from||i.to!=r[o].to);return this.visibleRanges=r,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||Ac(this.heightMap.lineAt(e,dt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||Ac(this.heightMap.lineAt(this.scaler.fromDOM(e),dt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return Ac(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class fd{constructor(e,r){this.from=e,this.to=r}}function mK(t,e,r){let n=[],i=t,o=0;return Qe.spans(r,t,e,{span(){},point(l,u){l>i&&(n.push({from:i,to:l}),o+=l-i),i=u}},20),i<e&&(n.push({from:i,to:e}),o+=e-i),{total:o,ranges:n}}function hd({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let i=0;;i++){let{from:o,to:l}=e[i],u=l-o;if(n<=u)return o+n;n-=u}}function dd(t,e){let r=0;for(let{from:n,to:i}of t.ranges){if(e<=i){r+=e-n;break}r+=i-n}return r/t.total}function vK(t,e){for(let r of t)if(e(r))return r}const qT={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class Xx{constructor(e,r,n){let i=0,o=0,l=0;this.viewports=n.map(({from:u,to:c})=>{let p=r.lineAt(u,dt.ByPos,e,0,0).top,g=r.lineAt(c,dt.ByPos,e,0,0).bottom;return i+=g-p,{from:u,to:c,top:p,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let u of this.viewports)u.domTop=l+(u.top-o)*this.scale,l=u.domBottom=u.domTop+(u.bottom-u.top),o=u.bottom}toDOM(e){for(let r=0,n=0,i=0;;r++){let o=r<this.viewports.length?this.viewports[r]:null;if(!o||e<o.top)return i+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,i=o.domBottom}}fromDOM(e){for(let r=0,n=0,i=0;;r++){let o=r<this.viewports.length?this.viewports[r]:null;if(!o||e<o.domTop)return n+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,i=o.domBottom}}eq(e){return e instanceof Xx?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,n)=>r.from==e.viewports[n].from&&r.to==e.viewports[n].to):!1}}function Ac(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new Bi(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(i=>Ac(i,e)):t._content)}const pd=xe.define({combine:t=>t.join(" ")}),W1=xe.define({combine:t=>t.indexOf(!0)>-1}),j1=Ts.newName(),BN=Ts.newName(),_N=Ts.newName(),FN={"&light":"."+BN,"&dark":"."+_N};function H1(t,e,r){return new Ts(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+n}})}const yK=H1("."+j1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},FN),wK={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},A0=be.ie&&be.ie_version<=11;class xK{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new iV,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let n of r)this.queue.push(n);(be.ie&&be.ie_version<=11||be.ios&&e.composing)&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(be.chrome&&be.chrome_version<126)&&(this.editContext=new SK(e),e.state.facet(es)&&(e.contentDOM.editContext=this.editContext.editContext)),A0&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,n)=>r!=e[n]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(es)?n.root.activeElement!=this.dom:!Qd(this.dom,i))return;let o=i.anchorNode&&n.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(be.ie&&be.ie_version<=11||be.android&&be.chrome)&&!n.state.selection.main.empty&&i.focusNode&&Uc(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=yf(e.root);if(!r)return!1;let n=be.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&bK(this.view,r)||r;if(!n||this.selectionRange.eq(n))return!1;let i=Qd(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&sV(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let n=this.dom;n;)if(n.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=r)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,wK),A0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),A0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var n;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&ja(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,n=-1,i=!1;for(let o of e){let l=this.readMutation(o);l&&(l.typeOver&&(i=!0),r==-1?{from:r,to:n}=l:(r=Math.min(l.from,r),n=Math.max(l.to,n)))}return{from:r,to:n,typeOver:i}}readChange(){let{from:e,to:r,typeOver:n}=this.processRecords(),i=this.selectionChanged&&Qd(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new $V(this.view,e,r,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let n=this.view.state,i=ON(this.view,r);return this.view.state==n&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let n=GT(r,e.previousSibling||e.target.previousSibling,-1),i=GT(r,e.nextSibling||e.target.nextSibling,1);return{from:n?r.posAfter(n):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(es)!=e.state.facet(es)&&(e.view.contentDOM.editContext=e.state.facet(es)?this.editContext.editContext:null))}destroy(){var e,r,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function GT(t,e,r){for(;e;){let n=lt.get(e);if(n&&n.parent==t)return n;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function YT(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return Uc(l.node,l.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function bK(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return YT(t,i)}let r=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),r?YT(t,r):null}class SK{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let{anchor:i}=e.state.selection.main,o={from:this.toEditorPos(n.updateRangeStart),to:this.toEditorPos(n.updateRangeEnd),insert:tt.of(n.text.split(`
`))};o.from==this.from&&i<this.from?o.from=i:o.to==this.to&&i>this.to&&(o.to=i),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||Gx(e,o,ne.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=n=>{let i=[],o=null;for(let l=this.toEditorPos(n.rangeStart),u=this.toEditorPos(n.rangeEnd);l<u;l++){let c=e.coordsForChar(l);o=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||o||new DOMRect,i.push(o)}r.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let o of n.getTextFormats()){let l=o.underlineStyle,u=o.underlineThickness;if(l!="None"&&u!="None"){let c=`text-decoration: underline ${l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${u=="Thin"?1:2}px`;i.push(Pe.mark({attributes:{style:c}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:yN.of(Pe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let n in this.handlers)r.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=yf(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,l,u,c,p)=>{if(n)return;let g=p.length-(l-o);if(i&&l>=i.to)if(i.from==o&&i.to==l&&i.insert.eq(p)){i=this.pendingContextChange=null,r+=g,this.to+=g;return}else i=null,this.revertPending(e.state);if(o+=r,l+=r,l<=this.from)this.from+=g,this.to+=g;else if(o<this.to){if(o<this.from||l>this.to||this.to-this.from+p.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(l),p.toString()),this.to+=g}r+=g}),i&&!n&&this.revertPending(e.state),!n}update(e){let r=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),i=this.toContextPos(r.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ye{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(o=>n(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||oV(e.parent)||document,this.viewState=new KT(e.state||Ge.create(e)),e.scrollTo&&e.scrollTo.is(ad)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Tc).map(i=>new C0(i));for(let i of this.plugins)i.update(this);this.observer=new xK(this),this.inputState=new UV(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ET(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Qt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,n=!1,i,o=this.state;for(let y of e){if(y.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=y.state}if(this.destroyed){this.viewState.state=o;return}let l=this.hasFocus,u=0,c=null;e.some(y=>y.annotation(NN))?(this.inputState.notifiedFocused=l,u=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,c=DN(o,l),c||(u=1));let p=this.observer.delayedAndroidKey,g=null;if(p?(this.observer.clearDelayedAndroidKey(),g=this.observer.readChange(),(g&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(g=null)):this.observer.clear(),o.facet(Ge.phrases)!=this.state.facet(Ge.phrases))return this.setState(o);i=qp.create(this,o,e),i.flags|=u;let v=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(v&&(v=v.map(y.changes)),y.scrollIntoView){let{main:x}=y.state.selection;v=new Ha(x.empty?x:ne.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of y.effects)x.is(ad)&&(v=x.value.clip(this.state))}this.viewState.update(i,v),this.bidiCache=Yp.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(Oc)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(pd)!=i.state.facet(pd)&&(this.viewState.mustMeasureContent=!0),(r||n||v||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!i.empty)for(let y of this.state.facet(_1))try{y(i)}catch(x){on(this.state,x,"update listener")}(c||g)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),g&&!ON(this,g)&&p.force&&ja(this.contentDOM,p.key,p.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new KT(e),this.plugins=e.facet(Tc).map(n=>new C0(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new ET(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(Tc),n=e.state.facet(Tc);if(r!=n){let i=[];for(let o of n){let l=r.indexOf(o);if(l<0)i.push(new C0(o));else{let u=this.plugins[l];u.mustUpdate=e,i.push(u)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);r!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(n){on(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(l<0)if(KP(n))o=-1,l=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);o=x.from,l=x.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let p=[];c&4||([this.measureRequests,p]=[p,this.measureRequests]);let g=p.map(x=>{try{return x.read(this)}catch(T){return on(this.state,T),XT}}),v=qp.create(this,this.state,[]),y=!1;v.flags|=c,r?r.flags|=c:r=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),y=this.docView.update(v),y&&this.docViewUpdate());for(let x=0;x<p.length;x++)if(g[x]!=XT)try{let T=p[x];T.write&&T.write(g[x],this)}catch(T){on(this.state,T)}if(y&&this.docView.updateSelection(!0),!v.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let T=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-l;if(T>1||T<-1){i=i+T,n.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let u of this.state.facet(_1))u(r)}get themeClasses(){return j1+" "+(this.state.facet(W1)?_N:BN)+" "+this.state.facet(pd)}updateAttrs(){let e=QT(this,wN,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(es)?"true":"false",class:"cm-content",style:`${be.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),QT(this,Kx,r);let n=this.observer.ignore(()=>{let i=P1(this.contentDOM,this.contentAttrs,r),o=P1(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=r,n}showAnnouncements(e){let r=!0;for(let n of e)for(let i of n.effects)if(i.is(ye.announce)){r&&(this.announceDOM.textContent=""),r=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Oc);let e=this.state.facet(ye.cspNonce);Ts.mount(this.root,this.styleModules.concat(yK).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(n=>n.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,n){return O0(this,e,NT(this,e,r,n))}moveByGroup(e,r){return O0(this,e,NT(this,e,r,n=>IV(this,e.head,n)))}visualLineSide(e,r){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=n[r?n.length-1:0];return ne.cursor(o.side(r,i)+e.from,o.forward(!r,i)?1:-1)}moveToLineBoundary(e,r,n=!0){return RV(this,e,r,n)}moveVertically(e,r,n){return O0(this,e,BV(this,e,r,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),TN(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let n=this.docView.coordsAt(e,r);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),l=o[ls.find(o,e-i.from,-1,r)];return Yf(n,l.dir==gt.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(gN)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>kK)return lN(e.length);let r=this.textDirectionAt(e.from),n;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==r&&(o.fresh||sN(o.isolates,n=OT(this,e))))return o.order;n||(n=OT(this,e));let i=yV(e.text,r,n);return this.bidiCache.push(new Yp(e.from,e.to,r,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||be.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{UP(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return ad.of(new Ha(typeof e=="number"?ne.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return ad.of(new Ha(ne.cursor(n.from),"start","start",n.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Dt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Dt.define(()=>({}),{eventObservers:e})}static theme(e,r){let n=Ts.newName(),i=[pd.of(n),Oc.of(H1(`.${n}`,e))];return r&&r.dark&&i.push(W1.of(!0)),i}static baseTheme(e){return Dl.lowest(Oc.of(H1("."+j1,e,FN)))}static findFromDOM(e){var r;let n=e.querySelector(".cm-content"),i=n&&lt.get(n)||lt.get(e);return((r=i==null?void 0:i.rootView)===null||r===void 0?void 0:r.view)||null}}ye.styleModule=Oc;ye.inputHandler=dN;ye.clipboardInputFilter=Ux;ye.clipboardOutputFilter=Vx;ye.scrollHandler=vN;ye.focusChangeEffect=pN;ye.perLineTextDirection=gN;ye.exceptionSink=hN;ye.updateListener=_1;ye.editable=es;ye.mouseSelectionStyle=fN;ye.dragMovesSelection=cN;ye.clickAddsSelectionRange=uN;ye.decorations=wf;ye.outerDecorations=xN;ye.atomicRanges=qx;ye.bidiIsolatedRanges=bN;ye.scrollMargins=SN;ye.darkTheme=W1;ye.cspNonce=xe.define({combine:t=>t.length?t[0]:""});ye.contentAttributes=Kx;ye.editorAttributes=wN;ye.lineWrapping=ye.contentAttributes.of({class:"cm-lineWrapping"});ye.announce=We.define();const kK=4096,XT={};class Yp{constructor(e,r,n,i,o,l){this.from=e,this.to=r,this.dir=n,this.isolates=i,this.fresh=o,this.order=l}static update(e,r){if(r.empty&&!e.some(o=>o.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:gt.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let l=e[o];l.dir==i&&!r.touchesRange(l.from,l.to)&&n.push(new Yp(r.mapPos(l.from,1),r.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return n}}function QT(t,e,r){for(let n=t.state.facet(e),i=n.length-1;i>=0;i--){let o=n[i],l=typeof o=="function"?o(t):o;l&&L1(l,r)}return r}const CK=be.mac?"mac":be.windows?"win":be.linux?"linux":"key";function TK(t,e){const r=t.split(/-(?!$)/);let n=r[r.length-1];n=="Space"&&(n=" ");let i,o,l,u;for(let c=0;c<r.length-1;++c){const p=r[c];if(/^(cmd|meta|m)$/i.test(p))u=!0;else if(/^a(lt)?$/i.test(p))i=!0;else if(/^(c|ctrl|control)$/i.test(p))o=!0;else if(/^s(hift)?$/i.test(p))l=!0;else if(/^mod$/i.test(p))e=="mac"?u=!0:o=!0;else throw new Error("Unrecognized modifier name: "+p)}return i&&(n="Alt-"+n),o&&(n="Ctrl-"+n),u&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function gd(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const OK=Dl.default(ye.domEventHandlers({keydown(t,e){return zN($N(e.state),t,e,"editor")}})),lm=xe.define({enables:OK}),JT=new WeakMap;function $N(t){let e=t.facet(lm),r=JT.get(e);return r||JT.set(e,r=MK(e.reduce((n,i)=>n.concat(i),[]))),r}function EK(t,e,r){return zN($N(t.state),e,t,r)}let ts=null;const AK=4e3;function MK(t,e=CK){let r=Object.create(null),n=Object.create(null),i=(l,u)=>{let c=n[l];if(c==null)n[l]=u;else if(c!=u)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},o=(l,u,c,p,g)=>{var v,y;let x=r[l]||(r[l]=Object.create(null)),T=u.split(/ (?!$)/).map(C=>TK(C,e));for(let C=1;C<T.length;C++){let S=T.slice(0,C).join(" ");i(S,!0),x[S]||(x[S]={preventDefault:!0,stopPropagation:!1,run:[M=>{let N=ts={view:M,prefix:S,scope:l};return setTimeout(()=>{ts==N&&(ts=null)},AK),!0}]})}let A=T.join(" ");i(A,!1);let P=x[A]||(x[A]={preventDefault:!1,stopPropagation:!1,run:((y=(v=x._any)===null||v===void 0?void 0:v.run)===null||y===void 0?void 0:y.slice())||[]});c&&P.run.push(c),p&&(P.preventDefault=!0),g&&(P.stopPropagation=!0)};for(let l of t){let u=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let p of u){let g=r[p]||(r[p]=Object.create(null));g._any||(g._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:v}=l;for(let y in g)g[y].run.push(x=>v(x,U1))}let c=l[e]||l.key;if(c)for(let p of u)o(p,c,l.run,l.preventDefault,l.stopPropagation),l.shift&&o(p,"Shift-"+c,l.shift,l.preventDefault,l.stopPropagation)}return r}let U1=null;function zN(t,e,r,n){U1=e;let i=eV(e),o=fr(i,0),l=_n(o)==i.length&&i!=" ",u="",c=!1,p=!1,g=!1;ts&&ts.view==r&&ts.scope==n&&(u=ts.prefix+" ",AN.indexOf(e.keyCode)<0&&(p=!0,ts=null));let v=new Set,y=P=>{if(P){for(let C of P.run)if(!v.has(C)&&(v.add(C),C(r)))return P.stopPropagation&&(g=!0),!0;P.preventDefault&&(P.stopPropagation&&(g=!0),p=!0)}return!1},x=t[n],T,A;return x&&(y(x[u+gd(i,e,!l)])?c=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(be.windows&&e.ctrlKey&&e.altKey)&&(T=Os[e.keyCode])&&T!=i?(y(x[u+gd(T,e,!0)])||e.shiftKey&&(A=vf[e.keyCode])!=i&&A!=T&&y(x[u+gd(A,e,!1)]))&&(c=!0):l&&e.shiftKey&&y(x[u+gd(i,e,!0)])&&(c=!0),!c&&y(x._any)&&(c=!0)),p&&(c=!0),c&&g&&e.stopPropagation(),U1=null,c}class Jf{constructor(e,r,n,i,o){this.className=e,this.left=r,this.top=n,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let o=WN(e);return[new Jf(r,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return LK(e,r,n)}}function WN(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==gt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function ZT(t,e,r,n){let i=t.coordsAtPos(e,r*2);if(!i)return n;let o=t.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,u=t.posAtCoords({x:o.left+1,y:l}),c=t.posAtCoords({x:o.right-1,y:l});return u==null||c==null?n:{from:Math.max(n.from,Math.min(u,c)),to:Math.min(n.to,Math.max(u,c))}}function LK(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),o=t.textDirection==gt.LTR,l=t.contentDOM,u=l.getBoundingClientRect(),c=WN(t),p=l.querySelector(".cm-line"),g=p&&window.getComputedStyle(p),v=u.left+(g?parseInt(g.paddingLeft)+Math.min(0,parseInt(g.textIndent)):0),y=u.right-(g?parseInt(g.paddingRight):0),x=$1(t,n),T=$1(t,i),A=x.type==Hr.Text?x:null,P=T.type==Hr.Text?T:null;if(A&&(t.lineWrapping||x.widgetLineBreaks)&&(A=ZT(t,n,1,A)),P&&(t.lineWrapping||T.widgetLineBreaks)&&(P=ZT(t,i,-1,P)),A&&P&&A.from==P.from&&A.to==P.to)return S(M(r.from,r.to,A));{let D=A?M(r.from,null,A):N(x,!1),W=P?M(null,r.to,P):N(T,!0),z=[];return(A||x).to<(P||T).from-(A&&P?1:0)||x.widgetLineBreaks>1&&D.bottom+t.defaultLineHeight/2<W.top?z.push(C(v,D.bottom,y,W.top)):D.bottom<W.top&&t.elementAtHeight((D.bottom+W.top)/2).type==Hr.Text&&(D.bottom=W.top=(D.bottom+W.top)/2),S(D).concat(z).concat(S(W))}function C(D,W,z,H){return new Jf(e,D-c.left,W-c.top-.01,z-D,H-W+.01)}function S({top:D,bottom:W,horizontal:z}){let H=[];for(let J=0;J<z.length;J+=2)H.push(C(z[J],D,z[J+1],W));return H}function M(D,W,z){let H=1e9,J=-1e9,ie=[];function de(Z,_,Q,ee,R){let B=t.coordsAtPos(Z,Z==z.to?-2:2),V=t.coordsAtPos(Q,Q==z.from?2:-2);!B||!V||(H=Math.min(B.top,V.top,H),J=Math.max(B.bottom,V.bottom,J),R==gt.LTR?ie.push(o&&_?v:B.left,o&&ee?y:V.right):ie.push(!o&&ee?v:V.left,!o&&_?y:B.right))}let ue=D??z.from,K=W??z.to;for(let Z of t.visibleRanges)if(Z.to>ue&&Z.from<K)for(let _=Math.max(Z.from,ue),Q=Math.min(Z.to,K);;){let ee=t.state.doc.lineAt(_);for(let R of t.bidiSpans(ee)){let B=R.from+ee.from,V=R.to+ee.from;if(B>=Q)break;V>_&&de(Math.max(B,_),D==null&&B<=ue,Math.min(V,Q),W==null&&V>=K,R.dir)}if(_=ee.to+1,_>=Q)break}return ie.length==0&&de(ue,D==null,K,W==null,t.textDirection),{top:H,bottom:J,horizontal:ie}}function N(D,W){let z=u.top+(W?D.top:D.bottom);return{top:z,bottom:z,horizontal:[]}}}function PK(t,e){return t.constructor==e.constructor&&t.eq(e)}class NK{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(ep)!=e.state.facet(ep)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,n=e.facet(ep);for(;r<n.length&&n[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,n)=>!PK(r,this.drawn[n]))){let r=this.dom.firstChild,n=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[n].constructor&&i.update(r,this.drawn[n])?(r=r.nextSibling,n++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const ep=xe.define();function jN(t){return[Dt.define(e=>new NK(e,t)),ep.of(t)]}const HN=!be.ios,xf=xe.define({combine(t){return Gi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function DK(t={}){return[xf.of(t),RK,IK,BK,mN.of(!0)]}function UN(t){return t.startState.facet(xf)!=t.state.facet(xf)}const RK=jN({above:!0,markers(t){let{state:e}=t,r=e.facet(xf),n=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||HN:r.drawRangeCursor){let l=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=i.empty?i:ne.cursor(i.head,i.head>i.anchor?-1:1);for(let c of Jf.forRange(t,l,u))n.push(c)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=UN(t);return r&&eO(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){eO(e.state,t)},class:"cm-cursorLayer"});function eO(t,e){e.style.animationDuration=t.facet(xf).cursorBlinkRate+"ms"}const IK=jN({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Jf.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||UN(t)},class:"cm-selectionLayer"}),V1={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};HN&&(V1[".cm-line"].caretColor=V1[".cm-content"].caretColor="transparent !important");const BK=Dl.highest(ye.theme(V1)),VN=We.define({map(t,e){return t==null?null:e.mapPos(t)}}),Mc=wr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,n)=>n.is(VN)?n.value:r,t)}}),_K=Dt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(Mc);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Mc)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Mc),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:r.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Mc)!=t&&this.view.dispatch({effects:VN.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function FK(){return[Mc,_K]}function tO(t,e,r,n,i){e.lastIndex=0;for(let o=t.iterRange(r,n),l=r,u;!o.next().done;l+=o.value.length)if(!o.lineBreak)for(;u=e.exec(o.value);)i(l+u.index,u)}function $K(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:i,to:o}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=o:n.push({from:i,to:o});return n}class zK{constructor(e){const{regexp:r,decoration:n,decorate:i,boundary:o,maxLength:l=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(u,c,p,g)=>i(g,p,p+u[0].length,u,c);else if(typeof n=="function")this.addMatch=(u,c,p,g)=>{let v=n(u,c,p);v&&g(p,p+u[0].length,v)};else if(n)this.addMatch=(u,c,p,g)=>g(p,p+u[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=l}createDeco(e){let r=new Cs,n=r.add.bind(r);for(let{from:i,to:o}of $K(e,this.maxLength))tO(e.state.doc,this.regexp,i,o,(l,u)=>this.addMatch(u,e,l,n));return r.finish()}updateDeco(e,r){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,l,u,c)=>{c>e.view.viewport.from&&u<e.view.viewport.to&&(n=Math.min(u,n),i=Math.max(c,i))}),e.viewportChanged||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),n,i):r}updateRange(e,r,n,i){for(let o of e.visibleRanges){let l=Math.max(o.from,n),u=Math.min(o.to,i);if(u>l){let c=e.state.doc.lineAt(l),p=c.to<u?e.state.doc.lineAt(u):c,g=Math.max(o.from,c.from),v=Math.min(o.to,p.to);if(this.boundary){for(;l>c.from;l--)if(this.boundary.test(c.text[l-1-c.from])){g=l;break}for(;u<p.to;u++)if(this.boundary.test(p.text[u-p.from])){v=u;break}}let y=[],x,T=(A,P,C)=>y.push(C.range(A,P));if(c==p)for(this.regexp.lastIndex=g-c.from;(x=this.regexp.exec(c.text))&&x.index<v-c.from;)this.addMatch(x,e,x.index+c.from,T);else tO(e.state.doc,this.regexp,g,v,(A,P)=>this.addMatch(P,e,A,T));r=r.update({filterFrom:g,filterTo:v,filter:(A,P)=>A<g||P>v,add:y})}}return r}}const K1=/x/.unicode!=null?"gu":"g",WK=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,K1),jK={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let M0=null;function HK(){var t;if(M0==null&&typeof document<"u"&&document.body){let e=document.body.style;M0=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return M0||!1}const tp=xe.define({combine(t){let e=Gi(t,{render:null,specialChars:WK,addSpecialChars:null});return(e.replaceTabs=!HK())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,K1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,K1)),e}});function UK(t={}){return[tp.of(t),VK()]}let rO=null;function VK(){return rO||(rO=Dt.fromClass(class{constructor(t){this.view=t,this.decorations=Pe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(tp)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new zK({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:i}=r.state,o=fr(e[0],0);if(o==9){let l=i.lineAt(n),u=r.state.tabSize,c=wu(l.text,u,n-l.from);return Pe.replace({widget:new YK((u-c%u)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Pe.replace({widget:new GK(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(tp);t.startState.facet(tp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const KK="•";function qK(t){return t>=32?KK:t==10?"␤":String.fromCharCode(9216+t)}class GK extends Eo{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=qK(this.code),n=e.state.phrase("Control character")+" "+(jK[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,r);if(i)return i;let o=document.createElement("span");return o.textContent=r,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class YK extends Eo{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function XK(){return JK}const QK=Pe.line({class:"cm-activeLine"}),JK=Dt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let i=t.lineBlockAt(n.head);i.from>e&&(r.push(QK.range(i.from)),e=i.from)}return Pe.set(r)}},{decorations:t=>t.decorations});class ZK extends Eo{constructor(e){super(),this.content=e}toDOM(e){let r=document.createElement("span");return r.className="cm-placeholder",r.style.pointerEvents="none",r.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?r.setAttribute("aria-label","placeholder "+this.content):r.setAttribute("aria-hidden","true"),r}coordsAt(e){let r=e.firstChild?iu(e.firstChild):[];if(!r.length)return null;let n=window.getComputedStyle(e.parentNode),i=Yf(r[0],n.direction!="rtl"),o=parseInt(n.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function eq(t){return Dt.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Pe.set([Pe.widget({widget:new ZK(t),side:1}).range(0)]):Pe.none}get decorations(){return this.view.state.doc.length?Pe.none:this.placeholder}},{decorations:e=>e.decorations})}const q1=2e3;function tq(t,e,r){let n=Math.min(e.line,r.line),i=Math.max(e.line,r.line),o=[];if(e.off>q1||r.off>q1||e.col<0||r.col<0){let l=Math.min(e.off,r.off),u=Math.max(e.off,r.off);for(let c=n;c<=i;c++){let p=t.doc.line(c);p.length<=u&&o.push(ne.range(p.from+l,p.to+u))}}else{let l=Math.min(e.col,r.col),u=Math.max(e.col,r.col);for(let c=n;c<=i;c++){let p=t.doc.line(c),g=k1(p.text,l,t.tabSize,!0);if(g<0)o.push(ne.cursor(p.to));else{let v=k1(p.text,u,t.tabSize);o.push(ne.range(p.from+g,p.from+v))}}}return o}function rq(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function nO(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(r),i=r-n.from,o=i>q1?-1:i==n.length?rq(t,e.clientX):wu(n.text,t.state.tabSize,r-n.from);return{line:n.number,col:o,off:i}}function nq(t,e){let r=nO(t,e),n=t.state.selection;return r?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(r.line).from),l=i.state.doc.lineAt(o);r={line:l.number,col:r.col,off:Math.min(r.off,l.length)},n=n.map(i.changes)}},get(i,o,l){let u=nO(t,i);if(!u)return n;let c=tq(t.state,r,u);return c.length?l?ne.create(c.concat(n.ranges)):ne.create(c):n}}:null}function iq(t){let e=r=>r.altKey&&r.button==0;return ye.mouseSelectionStyle.of((r,n)=>e(n)?nq(r,n):null)}const oq={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},sq={style:"cursor: crosshair"};function lq(t={}){let[e,r]=oq[t.key||"Alt"],n=Dt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[n,ye.contentAttributes.of(i=>{var o;return!((o=i.plugin(n))===null||o===void 0)&&o.isDown?sq:null})]}const pc="-10000px";class KN{constructor(e,r,n,i){this.facet=r,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(r),this.tooltips=this.input.filter(l=>l);let o=null;this.tooltipViews=this.tooltips.map(l=>o=n(l,o))}update(e,r){var n;let i=e.state.facet(this.facet),o=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let l=[],u=r?[]:null;for(let c=0;c<o.length;c++){let p=o[c],g=-1;if(p){for(let v=0;v<this.tooltips.length;v++){let y=this.tooltips[v];y&&y.create==p.create&&(g=v)}if(g<0)l[c]=this.createTooltipView(p,c?l[c-1]:null),u&&(u[c]=!!p.above);else{let v=l[c]=this.tooltipViews[g];u&&(u[c]=r[g]),v.update&&v.update(e)}}}for(let c of this.tooltipViews)l.indexOf(c)<0&&(this.removeTooltipView(c),(n=c.destroy)===null||n===void 0||n.call(c));return r&&(u.forEach((c,p)=>r[p]=c),r.length=u.length),this.input=i,this.tooltips=o,this.tooltipViews=l,!0}}function aq(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const L0=xe.define({combine:t=>{var e,r,n;return{position:be.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((n=t.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||aq}}}),iO=new WeakMap,Qx=Dt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(L0);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new KN(t,Jx,(r,n)=>this.createTooltip(r,n),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(L0);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t,e){let r=t.create(this.view),n=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),t.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",r.dom.appendChild(i)}return r.dom.style.position=this.position,r.dom.style.top=pc,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var t,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,r=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(be.gecko)n=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==pc&&i.style.left=="0px"){let o=i.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,r=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:r}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(L0).tooltipSpace(this.view),scaleX:e,scaleY:r,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{editor:r,space:n,scaleX:i,scaleY:o}=t,l=[];for(let u=0;u<this.manager.tooltips.length;u++){let c=this.manager.tooltips[u],p=this.manager.tooltipViews[u],{dom:g}=p,v=t.pos[u],y=t.size[u];if(!v||v.bottom<=Math.max(r.top,n.top)||v.top>=Math.min(r.bottom,n.bottom)||v.right<Math.max(r.left,n.left)-.1||v.left>Math.min(r.right,n.right)+.1){g.style.top=pc;continue}let x=c.arrow?p.dom.querySelector(".cm-tooltip-arrow"):null,T=x?7:0,A=y.right-y.left,P=(e=iO.get(p))!==null&&e!==void 0?e:y.bottom-y.top,C=p.offset||cq,S=this.view.textDirection==gt.LTR,M=y.width>n.right-n.left?S?n.left:n.right-y.width:S?Math.max(n.left,Math.min(v.left-(x?14:0)+C.x,n.right-A)):Math.min(Math.max(n.left,v.left-A+(x?14:0)-C.x),n.right-A),N=this.above[u];!c.strictSide&&(N?v.top-(y.bottom-y.top)-C.y<n.top:v.bottom+(y.bottom-y.top)+C.y>n.bottom)&&N==n.bottom-v.bottom>v.top-n.top&&(N=this.above[u]=!N);let D=(N?v.top-n.top:n.bottom-v.bottom)-T;if(D<P&&p.resize!==!1){if(D<this.view.defaultLineHeight){g.style.top=pc;continue}iO.set(p,P),g.style.height=(P=D)/o+"px"}else g.style.height&&(g.style.height="");let W=N?v.top-P-T-C.y:v.bottom+T+C.y,z=M+A;if(p.overlap!==!0)for(let H of l)H.left<z&&H.right>M&&H.top<W+P&&H.bottom>W&&(W=N?H.top-P-2-T:H.bottom+T+2);if(this.position=="absolute"?(g.style.top=(W-t.parent.top)/o+"px",g.style.left=(M-t.parent.left)/i+"px"):(g.style.top=W/o+"px",g.style.left=M/i+"px"),x){let H=v.left+(S?C.x:-C.x)-(M+14-7);x.style.left=H/i+"px"}p.overlap!==!0&&l.push({left:M,top:W,right:z,bottom:W+P}),g.classList.toggle("cm-tooltip-above",N),g.classList.toggle("cm-tooltip-below",!N),p.positioned&&p.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=pc}},{eventObservers:{scroll(){this.maybeMeasure()}}}),uq=ye.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),cq={x:0,y:0},Jx=xe.define({enables:[Qx,uq]}),Xp=xe.define({combine:t=>t.reduce((e,r)=>e.concat(r),[])});class am{static create(e){return new am(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new KN(e,Xp,(r,n)=>this.createHostedView(r,n),r=>r.dom.remove())}createHostedView(e,r){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const fq=Jx.compute([Xp],t=>{let e=t.facet(Xp);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var n;return(n=r.end)!==null&&n!==void 0?n:r.pos})),create:am.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class hq{constructor(e,r,n,i,o){this.view=e,this.source=r,this.field=n,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,n=e.docView.nearest(r.target);if(!n)return;let i,o=1;if(n instanceof ss)i=n.posAtStart;else{if(i=e.posAtCoords(r),i==null)return;let u=e.coordsAtPos(i);if(!u||r.y<u.top||r.y>u.bottom||r.x<u.left-e.defaultCharacterWidth||r.x>u.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(g=>g.from<=i&&g.to>=i),p=c&&c.dir==gt.RTL?-1:1;o=r.x<u.left?-p:p}let l=this.source(e,i,o);if(l!=null&&l.then){let u=this.pending={pos:i};l.then(c=>{this.pending==u&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>on(e.state,c,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(Qx),r=e?e.manager.tooltips.findIndex(n=>n.create==am.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!dq(o.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,u=(n=(r=i[0])===null||r===void 0?void 0:r.end)!==null&&n!==void 0?n:l;(l==u?this.view.posAtCoords(this.lastMove)!=l:!pq(this.view,l,u,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=n=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const md=4;function dq(t,e){let{left:r,right:n,top:i,bottom:o}=t.getBoundingClientRect(),l;if(l=t.querySelector(".cm-tooltip-arrow")){let u=l.getBoundingClientRect();i=Math.min(u.top,i),o=Math.max(u.bottom,o)}return e.clientX>=r-md&&e.clientX<=n+md&&e.clientY>=i-md&&e.clientY<=o+md}function pq(t,e,r,n,i,o){let l=t.scrollDOM.getBoundingClientRect(),u=t.documentTop+t.documentPadding.top+t.contentHeight;if(l.left>n||l.right<n||l.top>i||Math.min(l.bottom,u)<i)return!1;let c=t.posAtCoords({x:n,y:i},!1);return c>=e&&c<=r}function gq(t,e={}){let r=We.define(),n=wr.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(o,l))),o.docChanged)){let l=[];for(let u of i){let c=o.changes.mapPos(u.pos,-1,Wr.TrackDel);if(c!=null){let p=Object.assign(Object.create(null),u);p.pos=c,p.end!=null&&(p.end=o.changes.mapPos(p.end)),l.push(p)}}i=l}for(let l of o.effects)l.is(r)&&(i=l.value),l.is(mq)&&(i=[]);return i},provide:i=>Xp.from(i)});return{active:n,extension:[n,Dt.define(i=>new hq(i,t,n,r,e.hoverTime||300)),fq]}}function qN(t,e){let r=t.plugin(Qx);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}const mq=We.define(),oO=xe.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function bf(t,e){let r=t.plugin(GN),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}const GN=Dt.fromClass(class{constructor(t){this.input=t.state.facet(Sf),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(oO);this.top=new vd(t,!0,e.topContainer),this.bottom=new vd(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(oO);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new vd(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new vd(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(Sf);if(r!=this.input){let n=r.filter(c=>c),i=[],o=[],l=[],u=[];for(let c of n){let p=this.specs.indexOf(c),g;p<0?(g=c(t.view),u.push(g)):(g=this.panels[p],g.update&&g.update(t)),i.push(g),(g.top?o:l).push(g)}this.specs=n,this.panels=i,this.top.sync(o),this.bottom.sync(l);for(let c of u)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ye.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class vd{constructor(e,r,n){this.view=e,this.top=r,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=sO(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=sO(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function sO(t){let e=t.nextSibling;return t.remove(),e}const Sf=xe.define({enables:GN});class bo extends kl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}bo.prototype.elementClass="";bo.prototype.toDOM=void 0;bo.prototype.mapMode=Wr.TrackBefore;bo.prototype.startSide=bo.prototype.endSide=-1;bo.prototype.point=!0;const rp=xe.define(),vq=xe.define(),yq={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Qe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Kc=xe.define();function wq(t){return[YN(),Kc.of(Object.assign(Object.assign({},yq),t))]}const lO=xe.define({combine:t=>t.some(e=>e)});function YN(t){return[xq]}const xq=Dt.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Kc).map(e=>new uO(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(lO),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(lO)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=Qe.iter(this.view.state.facet(rp),this.view.viewport.from),n=[],i=this.gutters.map(o=>new bq(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(o.type)){let l=!0;for(let u of o.type)if(u.type==Hr.Text&&l){G1(r,n,u.from);for(let c of i)c.line(this.view,u,n);l=!1}else if(u.widget)for(let c of i)c.widget(this.view,u)}else if(o.type==Hr.Text){G1(r,n,o.from);for(let l of i)l.line(this.view,o,n)}else if(o.widget)for(let l of i)l.widget(this.view,o);for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Kc),r=t.state.facet(Kc),n=t.docChanged||t.heightChanged||t.viewportChanged||!Qe.eq(t.startState.facet(rp),t.state.facet(rp),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(n=!0);else{n=!0;let i=[];for(let o of r){let l=e.indexOf(o);l<0?i.push(new uO(this.view,o)):(this.gutters[l].update(t),i.push(this.gutters[l]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ye.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==gt.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function aO(t){return Array.isArray(t)?t:[t]}function G1(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class bq{constructor(e,r,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Qe.iter(e.markers,r.from)}addElement(e,r,n){let{gutter:i}=this,o=(r.top-this.height)/e.scaleY,l=r.height/e.scaleY;if(this.i==i.elements.length){let u=new XN(e,l,o,n);i.elements.push(u),i.dom.appendChild(u.dom)}else i.elements[this.i].update(e,l,o,n);this.height=r.bottom,this.i++}line(e,r,n){let i=[];G1(this.cursor,i,r.from),n.length&&(i=i.concat(n));let o=this.gutter.config.lineMarker(e,r,i);o&&i.unshift(o);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let n=this.gutter.config.widgetMarker(e,r.widget,r),i=n?[n]:null;for(let o of e.state.facet(vq)){let l=o(e,r.widget,r);l&&(i||(i=[])).push(l)}i&&this.addElement(e,r,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class uO{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in r.domEventHandlers)this.dom.addEventListener(n,i=>{let o=i.target,l;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let c=o.getBoundingClientRect();l=(c.top+c.bottom)/2}else l=i.clientY;let u=e.lineBlockAtHeight(l-e.documentTop);r.domEventHandlers[n](e,u,i)&&i.preventDefault()});this.markers=aO(r.markers(e)),r.initialSpacer&&(this.spacer=new XN(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=aO(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!Qe.eq(this.markers,r,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class XN{constructor(e,r,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,n,i)}update(e,r,n,i){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),Sq(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let n="cm-gutterElement",i=this.dom.firstChild;for(let o=0,l=0;;){let u=l,c=o<r.length?r[o++]:null,p=!1;if(c){let g=c.elementClass;g&&(n+=" "+g);for(let v=l;v<this.markers.length;v++)if(this.markers[v].compare(c)){u=v,p=!0;break}}else u=this.markers.length;for(;l<u;){let g=this.markers[l++];if(g.toDOM){g.destroy(i);let v=i.nextSibling;i.remove(),i=v}}if(!c)break;c.toDOM&&(p?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),p&&l++}this.dom.className=n,this.markers=r}destroy(){this.setMarkers(null,[])}}function Sq(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const kq=xe.define(),Cq=xe.define(),Na=xe.define({combine(t){return Gi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let n=Object.assign({},e);for(let i in r){let o=n[i],l=r[i];n[i]=o?(u,c,p)=>o(u,c,p)||l(u,c,p):l}return n}})}});class P0 extends bo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function N0(t,e){return t.state.facet(Na).formatNumber(e,t.state)}const Tq=Kc.compute([Na],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(kq)},lineMarker(e,r,n){return n.some(i=>i.toDOM)?null:new P0(N0(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,n)=>{for(let i of e.state.facet(Cq)){let o=i(e,r,n);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Na)!=e.state.facet(Na),initialSpacer(e){return new P0(N0(e,cO(e.state.doc.lines)))},updateSpacer(e,r){let n=N0(r.view,cO(r.view.state.doc.lines));return n==e.number?e:new P0(n)},domEventHandlers:t.facet(Na).domEventHandlers}));function Oq(t={}){return[Na.of(t),YN(),Tq]}function cO(t){let e=9;for(;e<t;)e=e*10+9;return e}const Eq=new class extends bo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Aq=rp.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.head).from;i>r&&(r=i,e.push(Eq.range(i)))}return Qe.of(e)});function Mq(){return Aq}const Lq=1024;let Pq=0;class D0{constructor(e,r){this.from=e,this.to=r}}class Ye{constructor(e={}){this.id=Pq++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=qn.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}}Ye.closedBy=new Ye({deserialize:t=>t.split(" ")});Ye.openedBy=new Ye({deserialize:t=>t.split(" ")});Ye.group=new Ye({deserialize:t=>t.split(" ")});Ye.isolate=new Ye({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Ye.contextHash=new Ye({perNode:!0});Ye.lookAhead=new Ye({perNode:!0});Ye.mounted=new Ye({perNode:!0});class Qp{constructor(e,r,n){this.tree=e,this.overlay=r,this.parser=n}static get(e){return e&&e.props&&e.props[Ye.mounted.id]}}const Nq=Object.create(null);class qn{constructor(e,r,n,i=0){this.name=e,this.props=r,this.id=n,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):Nq,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new qn(e.name||"",r,e.id,n);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(Ye.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let i of n.split(" "))r[i]=e[n];return n=>{for(let i=n.prop(Ye.group),o=-1;o<(i?i.length:0);o++){let l=r[o<0?n.name:i[o]];if(l)return l}}}}qn.none=new qn("",Object.create(null),0,8);const yd=new WeakMap,fO=new WeakMap;var dr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(dr||(dr={}));class Er{constructor(e,r,n,i,o){if(this.type=e,this.children=r,this.positions=n,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[l,u]of o)this.props[typeof l=="number"?l:l.id]=u}}toString(){let e=Qp.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new X1(this.topNode,e)}cursorAt(e,r=0,n=0){let i=yd.get(this)||this.topNode,o=new X1(i);return o.moveTo(e,r),yd.set(this,o._tree),o}get topNode(){return new jn(this,0,0,null)}resolve(e,r=0){let n=kf(yd.get(this)||this.topNode,e,r,!1);return yd.set(this,n),n}resolveInner(e,r=0){let n=kf(fO.get(this)||this.topNode,e,r,!0);return fO.set(this,n),n}resolveStack(e,r=0){return Iq(this,e,r)}iterate(e){let{enter:r,leave:n,from:i=0,to:o=this.length}=e,l=e.mode||0,u=(l&dr.IncludeAnonymous)>0;for(let c=this.cursor(l|dr.IncludeAnonymous);;){let p=!1;if(c.from<=o&&c.to>=i&&(!u&&c.type.isAnonymous||r(c)!==!1)){if(c.firstChild())continue;p=!0}for(;p&&n&&(u||!c.type.isAnonymous)&&n(c),!c.nextSibling();){if(!c.parent())return;p=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:tb(qn.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new Er(this.type,r,n,i,this.propValues),e.makeTree||((r,n,i)=>new Er(qn.none,r,n,i)))}static build(e){return Bq(e)}}Er.empty=new Er(qn.none,[],[],0);class Zx{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Zx(this.buffer,this.index)}}class As{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return qn.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],i=this.set.types[r],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,n==e)return o;let l=[];for(;e<n;)l.push(this.childString(e)),e=this.buffer[e+3];return o+"("+l.join(",")+")"}findChild(e,r,n,i,o){let{buffer:l}=this,u=-1;for(let c=e;c!=r&&!(QN(o,i,l[c+1],l[c+2])&&(u=c,n>0));c=l[c+3]);return u}slice(e,r,n){let i=this.buffer,o=new Uint16Array(r-e),l=0;for(let u=e,c=0;u<r;){o[c++]=i[u++],o[c++]=i[u++]-n;let p=o[c++]=i[u++]-n;o[c++]=i[u++]-e,l=Math.max(l,p)}return new As(o,l,this.set)}}function QN(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function kf(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let l=!n&&t instanceof jn&&t.index<0?null:t.parent;if(!l)return t;t=l}let o=n?0:dr.IgnoreOverlays;if(n)for(let l=t,u=l.parent;u;l=u,u=l.parent)l instanceof jn&&l.index<0&&((i=u.enter(e,r,o))===null||i===void 0?void 0:i.from)!=l.from&&(t=u);for(;;){let l=t.enter(e,r,o);if(!l)return t;t=l}}class JN{cursor(e=0){return new X1(this,e)}getChild(e,r=null,n=null){let i=hO(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return hO(this,e,r,n)}resolve(e,r=0){return kf(this,e,r,!1)}resolveInner(e,r=0){return kf(this,e,r,!0)}matchContext(e){return Y1(this,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),n=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(n=r,r=i.prevSibling):r=i}return n}get node(){return this}get next(){return this.parent}}class jn extends JN{constructor(e,r,n,i){super(),this._tree=e,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,i,o=0){for(let l=this;;){for(let{children:u,positions:c}=l._tree,p=r>0?u.length:-1;e!=p;e+=r){let g=u[e],v=c[e]+l.from;if(QN(i,n,v,v+g.length)){if(g instanceof As){if(o&dr.ExcludeBuffers)continue;let y=g.findChild(0,g.buffer.length,r,n-v,i);if(y>-1)return new as(new Dq(l,g,e,v),null,y)}else if(o&dr.IncludeAnonymous||!g.type.isAnonymous||eb(g)){let y;if(!(o&dr.IgnoreMounts)&&(y=Qp.get(g))&&!y.overlay)return new jn(y.tree,v,e,l);let x=new jn(g,v,e,l);return o&dr.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(r<0?g.children.length-1:0,r,n,i)}}}if(o&dr.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+r:e=r<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,n=0){let i;if(!(n&dr.IgnoreOverlays)&&(i=Qp.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:l,to:u}of i.overlay)if((r>0?l<=o:l<o)&&(r<0?u>=o:u>o))return new jn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function hO(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(r!=null){for(let l=!1;!l;)if(l=i.type.is(r),!i.nextSibling())return o}for(;;){if(n!=null&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return n==null?o:[]}}function Y1(t,e,r=e.length-1){for(let n=t.parent;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Dq{constructor(e,r,n,i){this.parent=e,this.buffer=r,this.index=n,this.start=i}}class as extends JN{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){super(),this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,n);return o<0?null:new as(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,n=0){if(n&dr.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return o<0?null:new as(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new as(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new as(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,i=this.index+4,o=n.buffer[this.index+3];if(o>i){let l=n.buffer[this.index+1];e.push(n.slice(i,o,l)),r.push(0)}return new Er(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function ZN(t){if(!t.length)return null;let e=0,r=t[0];for(let o=1;o<t.length;o++){let l=t[o];(l.from>r.from||l.to<r.to)&&(r=l,e=o)}let n=r instanceof jn&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new Rq(i,r)}class Rq{constructor(e,r){this.heads=e,this.node=r}get next(){return ZN(this.heads)}}function Iq(t,e,r){let n=t.resolveInner(e,r),i=null;for(let o=n instanceof jn?n:n.context.parent;o;o=o.parent)if(o.index<0){let l=o.parent;(i||(i=[n])).push(l.resolve(e,r)),o=l}else{let l=Qp.get(o.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let u=new jn(l.tree,l.overlay[0].from+o.from,-1,o);(i||(i=[n])).push(kf(u,e,r,!1))}}return i?ZN(i):n}class X1{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof jn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof jn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&dr.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&dr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&dr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let o=r+e,l=e<0?-1:n._tree.children.length;o!=l;o+=e){let u=n._tree.children[o];if(this.mode&dr.IncludeAnonymous||u instanceof As||!u.type.isAnonymous||eb(u))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;r=l,n=o+1;break e}i=this.stack[--o]}for(let i=n;i<this.stack.length;i++)r=new as(this.buffer,r,this.stack[i]);return this.bufferNode=new as(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&r&&r(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return Y1(this.node,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Y1(this.node,e,i);let l=n[r.buffer[this.stack[o]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function eb(t){return t.children.some(e=>e instanceof As||!e.type.isAnonymous||eb(e))}function Bq(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=Lq,reused:o=[],minRepeatType:l=n.types.length}=t,u=Array.isArray(r)?new Zx(r,r.length):r,c=n.types,p=0,g=0;function v(D,W,z,H,J,ie){let{id:de,start:ue,end:K,size:Z}=u,_=g;for(;Z<0;)if(u.next(),Z==-1){let V=o[de];z.push(V),H.push(ue-D);return}else if(Z==-3){p=de;return}else if(Z==-4){g=de;return}else throw new RangeError(`Unrecognized record size: ${Z}`);let Q=c[de],ee,R,B=ue-D;if(K-ue<=i&&(R=P(u.pos-W,J))){let V=new Uint16Array(R.size-R.skip),oe=u.pos-R.size,he=V.length;for(;u.pos>oe;)he=C(R.start,V,he);ee=new As(V,K-R.start,n),B=R.start-D}else{let V=u.pos-Z;u.next();let oe=[],he=[],De=de>=l?de:-1,Ke=0,Xe=K;for(;u.pos>V;)De>=0&&u.id==De&&u.size>=0?(u.end<=Xe-i&&(T(oe,he,ue,Ke,u.end,Xe,De,_),Ke=oe.length,Xe=u.end),u.next()):ie>2500?y(ue,V,oe,he):v(ue,V,oe,he,De,ie+1);if(De>=0&&Ke>0&&Ke<oe.length&&T(oe,he,ue,Ke,ue,Xe,De,_),oe.reverse(),he.reverse(),De>-1&&Ke>0){let Ce=x(Q);ee=tb(Q,oe,he,0,oe.length,0,K-ue,Ce,Ce)}else ee=A(Q,oe,he,K-ue,_-K)}z.push(ee),H.push(B)}function y(D,W,z,H){let J=[],ie=0,de=-1;for(;u.pos>W;){let{id:ue,start:K,end:Z,size:_}=u;if(_>4)u.next();else{if(de>-1&&K<de)break;de<0&&(de=Z-i),J.push(ue,K,Z),ie++,u.next()}}if(ie){let ue=new Uint16Array(ie*4),K=J[J.length-2];for(let Z=J.length-3,_=0;Z>=0;Z-=3)ue[_++]=J[Z],ue[_++]=J[Z+1]-K,ue[_++]=J[Z+2]-K,ue[_++]=_;z.push(new As(ue,J[2]-K,n)),H.push(K-D)}}function x(D){return(W,z,H)=>{let J=0,ie=W.length-1,de,ue;if(ie>=0&&(de=W[ie])instanceof Er){if(!ie&&de.type==D&&de.length==H)return de;(ue=de.prop(Ye.lookAhead))&&(J=z[ie]+de.length+ue)}return A(D,W,z,H,J)}}function T(D,W,z,H,J,ie,de,ue){let K=[],Z=[];for(;D.length>H;)K.push(D.pop()),Z.push(W.pop()+z-J);D.push(A(n.types[de],K,Z,ie-J,ue-ie)),W.push(J-z)}function A(D,W,z,H,J=0,ie){if(p){let de=[Ye.contextHash,p];ie=ie?[de].concat(ie):[de]}if(J>25){let de=[Ye.lookAhead,J];ie=ie?[de].concat(ie):[de]}return new Er(D,W,z,H,ie)}function P(D,W){let z=u.fork(),H=0,J=0,ie=0,de=z.end-i,ue={size:0,start:0,skip:0};e:for(let K=z.pos-D;z.pos>K;){let Z=z.size;if(z.id==W&&Z>=0){ue.size=H,ue.start=J,ue.skip=ie,ie+=4,H+=4,z.next();continue}let _=z.pos-Z;if(Z<0||_<K||z.start<de)break;let Q=z.id>=l?4:0,ee=z.start;for(z.next();z.pos>_;){if(z.size<0)if(z.size==-3)Q+=4;else break e;else z.id>=l&&(Q+=4);z.next()}J=ee,H+=Z,ie+=Q}return(W<0||H==D)&&(ue.size=H,ue.start=J,ue.skip=ie),ue.size>4?ue:void 0}function C(D,W,z){let{id:H,start:J,end:ie,size:de}=u;if(u.next(),de>=0&&H<l){let ue=z;if(de>4){let K=u.pos-(de-4);for(;u.pos>K;)z=C(D,W,z)}W[--z]=ue,W[--z]=ie-D,W[--z]=J-D,W[--z]=H}else de==-3?p=H:de==-4&&(g=H);return z}let S=[],M=[];for(;u.pos>0;)v(t.start||0,t.bufferStart||0,S,M,-1,0);let N=(e=t.length)!==null&&e!==void 0?e:S.length?M[0]+S[0].length:0;return new Er(c[t.topID],S.reverse(),M.reverse(),N)}const dO=new WeakMap;function np(t,e){if(!t.isAnonymous||e instanceof As||e.type!=t)return 1;let r=dO.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof Er)){r=1;break}r+=np(t,n)}dO.set(e,r)}return r}function tb(t,e,r,n,i,o,l,u,c){let p=0;for(let T=n;T<i;T++)p+=np(t,e[T]);let g=Math.ceil(p*1.5/8),v=[],y=[];function x(T,A,P,C,S){for(let M=P;M<C;){let N=M,D=A[M],W=np(t,T[M]);for(M++;M<C;M++){let z=np(t,T[M]);if(W+z>=g)break;W+=z}if(M==N+1){if(W>g){let z=T[N];x(z.children,z.positions,0,z.children.length,A[N]+S);continue}v.push(T[N])}else{let z=A[M-1]+T[M-1].length-D;v.push(tb(t,T,A,N,M,D,z,null,c))}y.push(D+S-o)}}return x(e,r,n,i,0),(u||c)(v,y,l)}class vl{constructor(e,r,n,i,o=!1,l=!1){this.from=e,this.to=r,this.tree=n,this.offset=i,this.open=(o?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],n=!1){let i=[new vl(0,e.length,e,0,!1,n)];for(let o of r)o.to>e.length&&i.push(o);return i}static applyChanges(e,r,n=128){if(!r.length)return e;let i=[],o=1,l=e.length?e[0]:null;for(let u=0,c=0,p=0;;u++){let g=u<r.length?r[u]:null,v=g?g.fromA:1e9;if(v-c>=n)for(;l&&l.from<v;){let y=l;if(c>=y.from||v<=y.to||p){let x=Math.max(y.from,c)-p,T=Math.min(y.to,v)-p;y=x>=T?null:new vl(x,T,y.tree,y.offset+p,u>0,!!g)}if(y&&i.push(y),l.to>v)break;l=o<e.length?e[o++]:null}if(!g)break;c=g.toA,p=g.toA-g.toB}return i}}class _q{startParse(e,r,n){return typeof e=="string"&&(e=new Fq(e)),n=n?n.length?n.map(i=>new D0(i.from,i.to)):[new D0(0,0)]:[new D0(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let i=this.startParse(e,r,n);for(;;){let o=i.advance();if(o)return o}}}class Fq{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new Ye({perNode:!0});let $q=0;class Di{constructor(e,r,n){this.set=e,this.base=r,this.modified=n,this.id=$q++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let r=new Di([],null,[]);if(r.set.push(r),e)for(let n of e.set)r.set.push(n);return r}static defineModifier(){let e=new Jp;return r=>r.modified.indexOf(e)>-1?r:Jp.get(r.base||r,r.modified.concat(e).sort((n,i)=>n.id-i.id))}}let zq=0;class Jp{constructor(){this.instances=[],this.id=zq++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(u=>u.base==e&&Wq(r,u.modified));if(n)return n;let i=[],o=new Di(i,e,r);for(let u of r)u.instances.push(o);let l=jq(r);for(let u of e.set)if(!u.modified.length)for(let c of l)i.push(Jp.get(u,c));return o}}function Wq(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function jq(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function Hq(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let o=[],l=2,u=i;for(let v=0;;){if(u=="..."&&v>0&&v+3==i.length){l=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!y)throw new RangeError("Invalid path: "+i);if(o.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),v+=y[0].length,v==i.length)break;let x=i[v++];if(v==i.length&&x=="!"){l=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);u=i.slice(v)}let c=o.length-1,p=o[c];if(!p)throw new RangeError("Invalid path: "+i);let g=new Zp(n,l,c>0?o.slice(0,c):null);e[p]=g.sort(e[p])}}return eD.add(e)}const eD=new Ye;class Zp{constructor(e,r,n,i){this.tags=e,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Zp.empty=new Zp([],2,null);function tD(t,e){let r=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))r[o.tag.id]=o.class;else for(let l of o.tag)r[l.id]=o.class;let{scope:n,all:i=null}=e||{};return{style:o=>{let l=i;for(let u of o)for(let c of u.set){let p=r[c.id];if(p){l=l?l+" "+p:p;break}}return l},scope:n}}function Uq(t,e){let r=null;for(let n of t){let i=n.style(e);i&&(r=r?r+" "+i:i)}return r}function Vq(t,e,r,n=0,i=t.length){let o=new Kq(n,Array.isArray(e)?e:[e],r);o.highlightRange(t.cursor(),n,i,"",o.highlighters),o.flush(i)}class Kq{constructor(e,r,n){this.at=e,this.highlighters=r,this.span=n,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,n,i,o){let{type:l,from:u,to:c}=e;if(u>=n||c<=r)return;l.isTop&&(o=this.highlighters.filter(x=>!x.scope||x.scope(l)));let p=i,g=qq(e)||Zp.empty,v=Uq(o,g.tags);if(v&&(p&&(p+=" "),p+=v,g.mode==1&&(i+=(i?" ":"")+v)),this.startSpan(Math.max(r,u),p),g.opaque)return;let y=e.tree&&e.tree.prop(Ye.mounted);if(y&&y.overlay){let x=e.node.enter(y.overlay[0].from+u,1),T=this.highlighters.filter(P=>!P.scope||P.scope(y.tree.type)),A=e.firstChild();for(let P=0,C=u;;P++){let S=P<y.overlay.length?y.overlay[P]:null,M=S?S.from+u:c,N=Math.max(r,C),D=Math.min(n,M);if(N<D&&A)for(;e.from<D&&(this.highlightRange(e,N,D,i,o),this.startSpan(Math.min(D,e.to),p),!(e.to>=M||!e.nextSibling())););if(!S||M>n)break;C=S.to+u,C>r&&(this.highlightRange(x.cursor(),Math.max(r,S.from+u),Math.min(n,C),"",T),this.startSpan(Math.min(n,C),p))}A&&e.parent()}else if(e.firstChild()){y&&(i="");do if(!(e.to<=r)){if(e.from>=n)break;this.highlightRange(e,r,n,i,o),this.startSpan(Math.min(n,e.to),p)}while(e.nextSibling());e.parent()}}}function qq(t){let e=t.type.prop(eD);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const me=Di.define,wd=me(),Yo=me(),pO=me(Yo),gO=me(Yo),Xo=me(),xd=me(Xo),R0=me(Xo),Pi=me(),tl=me(Pi),Mi=me(),Li=me(),Q1=me(),gc=me(Q1),bd=me(),O={comment:wd,lineComment:me(wd),blockComment:me(wd),docComment:me(wd),name:Yo,variableName:me(Yo),typeName:pO,tagName:me(pO),propertyName:gO,attributeName:me(gO),className:me(Yo),labelName:me(Yo),namespace:me(Yo),macroName:me(Yo),literal:Xo,string:xd,docString:me(xd),character:me(xd),attributeValue:me(xd),number:R0,integer:me(R0),float:me(R0),bool:me(Xo),regexp:me(Xo),escape:me(Xo),color:me(Xo),url:me(Xo),keyword:Mi,self:me(Mi),null:me(Mi),atom:me(Mi),unit:me(Mi),modifier:me(Mi),operatorKeyword:me(Mi),controlKeyword:me(Mi),definitionKeyword:me(Mi),moduleKeyword:me(Mi),operator:Li,derefOperator:me(Li),arithmeticOperator:me(Li),logicOperator:me(Li),bitwiseOperator:me(Li),compareOperator:me(Li),updateOperator:me(Li),definitionOperator:me(Li),typeOperator:me(Li),controlOperator:me(Li),punctuation:Q1,separator:me(Q1),bracket:gc,angleBracket:me(gc),squareBracket:me(gc),paren:me(gc),brace:me(gc),content:Pi,heading:tl,heading1:me(tl),heading2:me(tl),heading3:me(tl),heading4:me(tl),heading5:me(tl),heading6:me(tl),contentSeparator:me(Pi),list:me(Pi),quote:me(Pi),emphasis:me(Pi),strong:me(Pi),link:me(Pi),monospace:me(Pi),strikethrough:me(Pi),inserted:me(),deleted:me(),changed:me(),invalid:me(),meta:bd,documentMeta:me(bd),annotation:me(bd),processingInstruction:me(bd),definition:Di.defineModifier(),constant:Di.defineModifier(),function:Di.defineModifier(),standard:Di.defineModifier(),local:Di.defineModifier(),special:Di.defineModifier()};tD([{tag:O.link,class:"tok-link"},{tag:O.heading,class:"tok-heading"},{tag:O.emphasis,class:"tok-emphasis"},{tag:O.strong,class:"tok-strong"},{tag:O.keyword,class:"tok-keyword"},{tag:O.atom,class:"tok-atom"},{tag:O.bool,class:"tok-bool"},{tag:O.url,class:"tok-url"},{tag:O.labelName,class:"tok-labelName"},{tag:O.inserted,class:"tok-inserted"},{tag:O.deleted,class:"tok-deleted"},{tag:O.literal,class:"tok-literal"},{tag:O.string,class:"tok-string"},{tag:O.number,class:"tok-number"},{tag:[O.regexp,O.escape,O.special(O.string)],class:"tok-string2"},{tag:O.variableName,class:"tok-variableName"},{tag:O.local(O.variableName),class:"tok-variableName tok-local"},{tag:O.definition(O.variableName),class:"tok-variableName tok-definition"},{tag:O.special(O.variableName),class:"tok-variableName2"},{tag:O.definition(O.propertyName),class:"tok-propertyName tok-definition"},{tag:O.typeName,class:"tok-typeName"},{tag:O.namespace,class:"tok-namespace"},{tag:O.className,class:"tok-className"},{tag:O.macroName,class:"tok-macroName"},{tag:O.propertyName,class:"tok-propertyName"},{tag:O.operator,class:"tok-operator"},{tag:O.comment,class:"tok-comment"},{tag:O.meta,class:"tok-meta"},{tag:O.invalid,class:"tok-invalid"},{tag:O.punctuation,class:"tok-punctuation"}]);var I0;const Lc=new Ye,Gq=new Ye;class _i{constructor(e,r,n=[],i=""){this.data=e,this.name=i,Ge.prototype.hasOwnProperty("tree")||Object.defineProperty(Ge.prototype,"tree",{get(){return Mr(this)}}),this.parser=r,this.extension=[Ms.of(this),Ge.languageData.of((o,l,u)=>{let c=mO(o,l,u),p=c.type.prop(Lc);if(!p)return[];let g=o.facet(p),v=c.type.prop(Gq);if(v){let y=c.resolve(l-c.from,u);for(let x of v)if(x.test(y,o)){let T=o.facet(x.facet);return x.type=="replace"?T:T.concat(g)}}return g})].concat(n)}isActiveAt(e,r,n=-1){return mO(e,r,n).type.prop(Lc)==this.data}findRegions(e){let r=e.facet(Ms);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let n=[],i=(o,l)=>{if(o.prop(Lc)==this.data){n.push({from:l,to:l+o.length});return}let u=o.prop(Ye.mounted);if(u){if(u.tree.prop(Lc)==this.data){if(u.overlay)for(let c of u.overlay)n.push({from:c.from+l,to:c.to+l});else n.push({from:l,to:l+o.length});return}else if(u.overlay){let c=n.length;if(i(u.tree,u.overlay[0].from+l),n.length>c)return}}for(let c=0;c<o.children.length;c++){let p=o.children[c];p instanceof Er&&i(p,o.positions[c]+l)}};return i(Mr(e),0),n}get allowsNesting(){return!0}}_i.setState=We.define();function mO(t,e,r){let n=t.facet(Ms),i=Mr(t).topNode;if(!n||n.allowsNesting)for(let o=i;o;o=o.enter(e,r,dr.ExcludeBuffers))o.type.isTop&&(i=o);return i}function Mr(t){let e=t.field(_i.state,!1);return e?e.tree:Er.empty}class Yq{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let n=this.cursorPos-this.string.length;return e<n||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-n,r-n)}}let mc=null;class eg{constructor(e,r,n=[],i,o,l,u,c){this.parser=e,this.state=r,this.fragments=n,this.tree=i,this.treeLen=o,this.viewport=l,this.skipped=u,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,r,n){return new eg(e,r,[],Er.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Yq(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Er.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(vl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(vl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=mc;mc=this;try{return e()}finally{mc=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=vO(e,r.from,r.to);return e}changes(e,r){let{fragments:n,tree:i,treeLen:o,viewport:l,skipped:u}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((p,g,v,y)=>c.push({fromA:p,toA:g,fromB:v,toB:y})),n=vl.applyChanges(n,c),i=Er.empty,o=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){u=[];for(let p of this.skipped){let g=e.mapPos(p.from,1),v=e.mapPos(p.to,-1);g<v&&u.push({from:g,to:v})}}}return new eg(this.parser,r,n,i,o,l,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:o}=this.skipped[n];i<e.to&&o>e.from&&(this.fragments=vO(this.fragments,i,o),this.skipped.splice(n--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends _q{createParse(r,n,i){let o=i[0].from,l=i[i.length-1].to;return{parsedPos:o,advance(){let c=mc;if(c){for(let p of i)c.tempSkipped.push(p);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=l,new Er(qn.none,[],[],l-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return mc}}function vO(t,e,r){return vl.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class au{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,n)||r.takeTree(),new au(r)}static init(e){let r=Math.min(3e3,e.doc.length),n=eg.create(e.facet(Ms).parser,e,{from:0,to:r});return n.work(20,r)||n.takeTree(),new au(n)}}_i.state=wr.define({create:au.init,update(t,e){for(let r of e.effects)if(r.is(_i.setState))return r.value;return e.startState.facet(Ms)!=e.state.facet(Ms)?au.init(e.state):t.apply(e)}});let rD=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(rD=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const B0=typeof navigator<"u"&&(!((I0=navigator.scheduling)===null||I0===void 0)&&I0.isInputPending)?()=>navigator.scheduling.isInputPending():null,Xq=Dt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(_i.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(_i.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=rD(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,o=n.field(_i.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!B0?Math.max(25,e.timeRemaining()-5):1e9),u=o.context.treeLen<i&&n.doc.length>i+1e3,c=o.context.work(()=>B0&&B0()||Date.now()>l,i+(u?0:1e5));this.chunkBudget-=Date.now()-r,(c||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:_i.setState.of(new au(o.context))})),this.chunkBudget>0&&!(c&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>on(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ms=xe.define({combine(t){return t.length?t[0]:null},enables:t=>[_i.state,Xq,ye.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]}),Qq=xe.define(),um=xe.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function tg(t){let e=t.facet(um);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Cf(t,e){let r="",n=t.tabSize,i=t.facet(um)[0];if(i=="	"){for(;e>=n;)r+="	",e-=n;i=" "}for(let o=0;o<e;o++)r+=i;return r}function rb(t,e){t instanceof Ge&&(t=new cm(t));for(let n of t.state.facet(Qq)){let i=n(t,e);if(i!==void 0)return i}let r=Mr(t.state);return r.length>=e?Zq(t,r,e):null}class cm{constructor(e,r={}){this.state=e,this.options=r,this.unit=tg(e)}lineAt(e,r=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=n.from&&i<=n.to?o&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,r);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,r=1){let{text:n,from:i}=this.lineAt(e,r),o=this.countColumn(n,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(o+=l-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,r=e.length){return wu(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:n,from:i}=this.lineAt(e,r),o=this.options.overrideIndentation;if(o){let l=o(i);if(l>-1)return l}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Jq=new Ye;function Zq(t,e,r){let n=e.resolveStack(r),i=n.node.enterUnfinishedNodesBefore(r);if(i!=n.node){let o=[];for(let l=i;l!=n.node;l=l.parent)o.push(l);for(let l=o.length-1;l>=0;l--)n={node:o[l],next:n}}return nD(n,t,r)}function nD(t,e,r){for(let n=t;n;n=n.next){let i=tG(n.node);if(i)return i(nb.create(e,r,n))}return 0}function eG(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function tG(t){let e=t.type.prop(Jq);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(Ye.closedBy))){let i=t.lastChild,o=i&&n.indexOf(i.name)>-1;return l=>oG(l,!0,1,void 0,o&&!eG(l)?i.from:void 0)}return t.parent==null?rG:null}function rG(){return 0}class nb extends cm{constructor(e,r,n){super(e.state,e.options),this.base=e,this.pos=r,this.context=n}get node(){return this.context.node}static create(e,r,n){return new nb(e,r,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(r.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(nG(n,e))break;r=this.state.doc.lineAt(n.from)}return this.lineIndent(r.from)}continue(){return nD(this.context.next,this.base,this.pos)}}function nG(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function iG(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(r.from),l=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let u=r.to;;){let c=e.childAfter(u);if(!c||c==n)return null;if(!c.type.isSkipped){if(c.from>=l)return null;let p=/^ */.exec(o.text.slice(r.to-o.from))[0].length;return{from:r.from,to:r.to+p}}u=c.to}}function oG(t,e,r,n,i){let o=t.textAfter,l=o.match(/^\s*/)[0].length,u=i==t.pos+l,c=iG(t);return c?u?t.column(c.from):t.column(c.to):t.baseIndent+(u?0:t.unit*r)}const sG=200;function lG(){return Ge.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:n}=t.newSelection.main,i=r.lineAt(n);if(n>i.from+sG)return t;let o=r.sliceString(i.from,n);if(!e.some(p=>p.test(o)))return t;let{state:l}=t,u=-1,c=[];for(let{head:p}of l.selection.ranges){let g=l.doc.lineAt(p);if(g.from==u)continue;u=g.from;let v=rb(l,g.from);if(v==null)continue;let y=/^\s*/.exec(g.text)[0],x=Cf(l,v);y!=x&&c.push({from:g.from,to:g.from+y.length,insert:x})}return c.length?[t,{changes:c,sequential:!0}]:t})}const aG=xe.define(),uG=new Ye;function cG(t,e,r){let n=Mr(t);if(n.length<r)return null;let i=n.resolveStack(r,1),o=null;for(let l=i;l;l=l.next){let u=l.node;if(u.to<=r||u.from>r)continue;if(o&&u.from<e)break;let c=u.type.prop(uG);if(c&&(u.to<n.length-50||n.length==t.doc.length||!fG(u))){let p=c(u,t);p&&p.from<=r&&p.from>=e&&p.to>r&&(o=p)}}return o}function fG(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function rg(t,e,r){for(let n of t.facet(aG)){let i=n(t,e,r);if(i)return i}return cG(t,e,r)}function iD(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}const fm=We.define({map:iD}),Zf=We.define({map:iD});function oD(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(n=>n.from<=r&&n.to>=r)||e.push(t.lineBlockAt(r));return e}const El=wr.define({create(){return Pe.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(fm)&&!hG(t,r.value.from,r.value.to)){let{preparePlaceholder:n}=e.state.facet(aD),i=n?Pe.replace({widget:new wG(n(e.state,r.value))}):yO;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(Zf)&&(t=t.update({filter:(n,i)=>r.value.from!=n||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:n}=e.selection.main;t.between(n,n,(i,o)=>{i<n&&o>n&&(r=!0)}),r&&(t=t.update({filterFrom:n,filterTo:n,filter:(i,o)=>o<=n||i>=n}))}return t},provide:t=>ye.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(n,i)=>{r.push(n,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],i=t[r++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(yO.range(n,i))}return Pe.set(e,!0)}});function ng(t,e,r){var n;let i=null;return(n=t.field(El,!1))===null||n===void 0||n.between(e,r,(o,l)=>{(!i||i.from>o)&&(i={from:o,to:l})}),i}function hG(t,e,r){let n=!1;return t.between(e,e,(i,o)=>{i==e&&o==r&&(n=!0)}),n}function sD(t,e){return t.field(El,!1)?e:e.concat(We.appendConfig.of(uD()))}const dG=t=>{for(let e of oD(t)){let r=rg(t.state,e.from,e.to);if(r)return t.dispatch({effects:sD(t.state,[fm.of(r),lD(t,r)])}),!0}return!1},pG=t=>{if(!t.state.field(El,!1))return!1;let e=[];for(let r of oD(t)){let n=ng(t.state,r.from,r.to);n&&e.push(Zf.of(n),lD(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function lD(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return ye.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${i}.`)}const gG=t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let i=t.lineBlockAt(n),o=rg(e,i.from,i.to);o&&r.push(fm.of(o)),n=(o?t.lineBlockAt(o.to):i).to+1}return r.length&&t.dispatch({effects:sD(t.state,r)}),!!r.length},mG=t=>{let e=t.state.field(El,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(n,i)=>{r.push(Zf.of({from:n,to:i}))}),t.dispatch({effects:r}),!0},vG=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:dG},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:pG},{key:"Ctrl-Alt-[",run:gG},{key:"Ctrl-Alt-]",run:mG}],yG={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},aD=xe.define({combine(t){return Gi(t,yG)}});function uD(t){return[El,SG]}function cD(t,e){let{state:r}=t,n=r.facet(aD),i=l=>{let u=t.lineBlockAt(t.posAtDOM(l.target)),c=ng(t.state,u.from,u.to);c&&t.dispatch({effects:Zf.of(c)}),l.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",r.phrase("folded code")),o.title=r.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const yO=Pe.replace({widget:new class extends Eo{toDOM(t){return cD(t,null)}}});class wG extends Eo{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return cD(e,this.value)}}const xG={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class _0 extends bo{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function bG(t={}){let e=Object.assign(Object.assign({},xG),t),r=new _0(e,!0),n=new _0(e,!1),i=Dt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(Ms)!=l.state.facet(Ms)||l.startState.field(El,!1)!=l.state.field(El,!1)||Mr(l.startState)!=Mr(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let u=new Cs;for(let c of l.viewportLineBlocks){let p=ng(l.state,c.from,c.to)?n:rg(l.state,c.from,c.to)?r:null;p&&u.add(c.from,c.from,p)}return u.finish()}}),{domEventHandlers:o}=e;return[i,wq({class:"cm-foldGutter",markers(l){var u;return((u=l.plugin(i))===null||u===void 0?void 0:u.markers)||Qe.empty},initialSpacer(){return new _0(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(l,u,c)=>{if(o.click&&o.click(l,u,c))return!0;let p=ng(l.state,u.from,u.to);if(p)return l.dispatch({effects:Zf.of(p)}),!0;let g=rg(l.state,u.from,u.to);return g?(l.dispatch({effects:fm.of(g)}),!0):!1}})}),uD()]}const SG=ye.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class xu{constructor(e,r){this.specs=e;let n;function i(u){let c=Ts.newName();return(n||(n=Object.create(null)))["."+c]=u,c}const o=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,l=r.scope;this.scope=l instanceof _i?u=>u.prop(Lc)==l.data:l?u=>u==l:void 0,this.style=tD(e.map(u=>({tag:u.tag,class:u.class||i(Object.assign({},u,{tag:null}))})),{all:o}).style,this.module=n?new Ts(n):null,this.themeType=r.themeType}static define(e,r){return new xu(e,r||{})}}const J1=xe.define(),fD=xe.define({combine(t){return t.length?[t[0]]:null}});function F0(t){let e=t.facet(J1);return e.length?e:t.facet(fD)}function ib(t,e){let r=[CG],n;return t instanceof xu&&(t.module&&r.push(ye.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?r.push(fD.of(t)):n?r.push(J1.computeN([ye.darkTheme],i=>i.facet(ye.darkTheme)==(n=="dark")?[t]:[])):r.push(J1.of(t)),r}class kG{constructor(e){this.markCache=Object.create(null),this.tree=Mr(e.state),this.decorations=this.buildDeco(e,F0(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=Mr(e.state),n=F0(e.state),i=n!=F0(e.startState),{viewport:o}=e.view,l=e.changes.mapPos(this.decoratedTo,1);r.length<o.to&&!i&&r.type==this.tree.type&&l>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=o.to)}buildDeco(e,r){if(!r||!this.tree.length)return Pe.none;let n=new Cs;for(let{from:i,to:o}of e.visibleRanges)Vq(this.tree,r,(l,u,c)=>{n.add(l,u,this.markCache[c]||(this.markCache[c]=Pe.mark({class:c})))},i,o);return n.finish()}}const CG=Dl.high(Dt.fromClass(kG,{decorations:t=>t.decorations})),TG=xu.define([{tag:O.meta,color:"#404740"},{tag:O.link,textDecoration:"underline"},{tag:O.heading,textDecoration:"underline",fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.strong,fontWeight:"bold"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:O.keyword,color:"#708"},{tag:[O.atom,O.bool,O.url,O.contentSeparator,O.labelName],color:"#219"},{tag:[O.literal,O.inserted],color:"#164"},{tag:[O.string,O.deleted],color:"#a11"},{tag:[O.regexp,O.escape,O.special(O.string)],color:"#e40"},{tag:O.definition(O.variableName),color:"#00f"},{tag:O.local(O.variableName),color:"#30a"},{tag:[O.typeName,O.namespace],color:"#085"},{tag:O.className,color:"#167"},{tag:[O.special(O.variableName),O.macroName],color:"#256"},{tag:O.definition(O.propertyName),color:"#00c"},{tag:O.comment,color:"#940"},{tag:O.invalid,color:"#f00"}]),OG=ye.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),hD=1e4,dD="()[]{}",pD=xe.define({combine(t){return Gi(t,{afterCursor:!0,brackets:dD,maxScanDistance:hD,renderMatch:MG})}}),EG=Pe.mark({class:"cm-matchingBracket"}),AG=Pe.mark({class:"cm-nonmatchingBracket"});function MG(t){let e=[],r=t.matched?EG:AG;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const LG=wr.define({create(){return Pe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],n=e.state.facet(pD);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=Fi(e.state,i.head,-1,n)||i.head>0&&Fi(e.state,i.head-1,1,n)||n.afterCursor&&(Fi(e.state,i.head,1,n)||i.head<e.state.doc.length&&Fi(e.state,i.head+1,-1,n));o&&(r=r.concat(n.renderMatch(o,e.state)))}return Pe.set(r,!0)},provide:t=>ye.decorations.from(t)}),PG=[LG,OG];function NG(t={}){return[pD.of(t),PG]}const DG=new Ye;function Z1(t,e,r){let n=t.prop(e<0?Ye.openedBy:Ye.closedBy);if(n)return n;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function ew(t){let e=t.type.prop(DG);return e?e(t.node):t}function Fi(t,e,r,n={}){let i=n.maxScanDistance||hD,o=n.brackets||dD,l=Mr(t),u=l.resolveInner(e,r);for(let c=u;c;c=c.parent){let p=Z1(c.type,r,o);if(p&&c.from<c.to){let g=ew(c);if(g&&(r>0?e>=g.from&&e<g.to:e>g.from&&e<=g.to))return RG(t,e,r,c,g,p,o)}}return IG(t,e,r,l,u.type,i,o)}function RG(t,e,r,n,i,o,l){let u=n.parent,c={from:i.from,to:i.to},p=0,g=u==null?void 0:u.cursor();if(g&&(r<0?g.childBefore(n.from):g.childAfter(n.to)))do if(r<0?g.to<=n.from:g.from>=n.to){if(p==0&&o.indexOf(g.type.name)>-1&&g.from<g.to){let v=ew(g);return{start:c,end:v?{from:v.from,to:v.to}:void 0,matched:!0}}else if(Z1(g.type,r,l))p++;else if(Z1(g.type,-r,l)){if(p==0){let v=ew(g);return{start:c,end:v&&v.from<v.to?{from:v.from,to:v.to}:void 0,matched:!1}}p--}}while(r<0?g.prevSibling():g.nextSibling());return{start:c,matched:!1}}function IG(t,e,r,n,i,o,l){let u=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),c=l.indexOf(u);if(c<0||c%2==0!=r>0)return null;let p={from:r<0?e-1:e,to:r>0?e+1:e},g=t.doc.iterRange(e,r>0?t.doc.length:0),v=0;for(let y=0;!g.next().done&&y<=o;){let x=g.value;r<0&&(y+=x.length);let T=e+y*r;for(let A=r>0?0:x.length-1,P=r>0?x.length:-1;A!=P;A+=r){let C=l.indexOf(x[A]);if(!(C<0||n.resolveInner(T+A,1).type!=i))if(C%2==0==r>0)v++;else{if(v==1)return{start:p,end:{from:T+A,to:T+A+1},matched:C>>1==c>>1};v--}}r>0&&(y+=x.length)}return g.done?{start:p,matched:!1}:null}const BG=Object.create(null),wO=[qn.none],xO=[],bO=Object.create(null),_G=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])_G[t]=FG(BG,e);function $0(t,e){xO.indexOf(t)>-1||(xO.push(t),console.warn(e))}function FG(t,e){let r=[];for(let u of e.split(" ")){let c=[];for(let p of u.split(".")){let g=t[p]||O[p];g?typeof g=="function"?c.length?c=c.map(g):$0(p,`Modifier ${p} used at start of tag`):c.length?$0(p,`Tag ${p} used as modifier`):c=Array.isArray(g)?g:[g]:$0(p,`Unknown highlighting tag ${p}`)}for(let p of c)r.push(p)}if(!r.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+r.map(u=>u.id),o=bO[i];if(o)return o.id;let l=bO[i]=qn.define({id:wO.length,name:n,props:[Hq({[n]:r})]});return wO.push(l),l.id}gt.RTL,gt.LTR;const $G=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=sb(t.state,r.from);return n.line?zG(t):n.block?jG(t):!1};function ob(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(n(r.update(i)),!0):!1}}const zG=ob(VG,0),WG=ob(gD,0),jG=ob((t,e)=>gD(t,e,UG(e)),0);function sb(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const vc=50;function HG(t,{open:e,close:r},n,i){let o=t.sliceDoc(n-vc,n),l=t.sliceDoc(i,i+vc),u=/\s*$/.exec(o)[0].length,c=/^\s*/.exec(l)[0].length,p=o.length-u;if(o.slice(p-e.length,p)==e&&l.slice(c,c+r.length)==r)return{open:{pos:n-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};let g,v;i-n<=2*vc?g=v=t.sliceDoc(n,i):(g=t.sliceDoc(n,n+vc),v=t.sliceDoc(i-vc,i));let y=/^\s*/.exec(g)[0].length,x=/\s*$/.exec(v)[0].length,T=v.length-x-r.length;return g.slice(y,y+e.length)==e&&v.slice(T,T+r.length)==r?{open:{pos:n+y+e.length,margin:/\s/.test(g.charAt(y+e.length))?1:0},close:{pos:i-x-r.length,margin:/\s/.test(v.charAt(T-1))?1:0}}:null}function UG(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),i=r.to<=n.to?n:t.doc.lineAt(r.to),o=e.length-1;o>=0&&e[o].to>n.from?e[o].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function gD(t,e,r=e.selection.ranges){let n=r.map(o=>sb(e,o.from).block);if(!n.every(o=>o))return null;let i=r.map((o,l)=>HG(e,n[l],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(r.map((o,l)=>i[l]?[]:[{from:o.from,insert:n[l].open+" "},{from:o.to,insert:" "+n[l].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let l=0,u;l<i.length;l++)if(u=i[l]){let c=n[l],{open:p,close:g}=u;o.push({from:p.pos-c.open.length,to:p.pos+p.margin},{from:g.pos-g.margin,to:g.pos+c.close.length})}return{changes:o}}return null}function VG(t,e,r=e.selection.ranges){let n=[],i=-1;for(let{from:o,to:l}of r){let u=n.length,c=1e9,p=sb(e,o).line;if(p){for(let g=o;g<=l;){let v=e.doc.lineAt(g);if(v.from>i&&(o==l||l>v.from)){i=v.from;let y=/^\s*/.exec(v.text)[0].length,x=y==v.length,T=v.text.slice(y,y+p.length)==p?y:-1;y<v.text.length&&y<c&&(c=y),n.push({line:v,comment:T,token:p,indent:y,empty:x,single:!1})}g=v.to+1}if(c<1e9)for(let g=u;g<n.length;g++)n[g].indent<n[g].line.text.length&&(n[g].indent=c);n.length==u+1&&(n[u].single=!0)}}if(t!=2&&n.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:u,token:c,indent:p,empty:g,single:v}of n)(v||!g)&&o.push({from:u.from+p,insert:c+" "});let l=e.changes(o);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&n.some(o=>o.comment>=0)){let o=[];for(let{line:l,comment:u,token:c}of n)if(u>=0){let p=l.from+u,g=p+c.length;l.text[g-l.from]==" "&&g++,o.push({from:p,to:g})}return{changes:o}}return null}const tw=qi.define(),KG=qi.define(),qG=xe.define(),mD=xe.define({combine(t){return Gi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(n,i)=>e(n,i)||r(n,i)})}}),vD=wr.define({create(){return $i.empty},update(t,e){let r=e.state.facet(mD),n=e.annotation(tw);if(n){let c=sn.fromTransaction(e,n.selection),p=n.side,g=p==0?t.undone:t.done;return c?g=ig(g,g.length,r.minDepth,c):g=xD(g,e.startState.selection),new $i(p==0?n.rest:g,p==0?g:n.rest)}let i=e.annotation(KG);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Qt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=sn.fromTransaction(e),l=e.annotation(Qt.time),u=e.annotation(Qt.userEvent);return o?t=t.addChanges(o,l,u,r,e):e.selection&&(t=t.addSelection(e.startState.selection,l,u,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new $i(t.done.map(sn.fromJSON),t.undone.map(sn.fromJSON))}});function GG(t={}){return[vD,mD.of(t),ye.domEventHandlers({beforeinput(e,r){let n=e.inputType=="historyUndo"?yD:e.inputType=="historyRedo"?rw:null;return n?(e.preventDefault(),n(r)):!1}})]}function hm(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let i=r.field(vD,!1);if(!i)return!1;let o=i.pop(t,r,e);return o?(n(o),!0):!1}}const yD=hm(0,!1),rw=hm(1,!1),YG=hm(0,!0),XG=hm(1,!0);class sn{constructor(e,r,n,i,o){this.changes=e,this.effects=r,this.mapped=n,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new sn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new sn(e.changes&&Yt.fromJSON(e.changes),[],e.mapped&&ji.fromJSON(e.mapped),e.startSelection&&ne.fromJSON(e.startSelection),e.selectionsAfter.map(ne.fromJSON))}static fromTransaction(e,r){let n=$n;for(let i of e.startState.facet(qG)){let o=i(e);o.length&&(n=n.concat(o))}return!n.length&&e.changes.empty?null:new sn(e.changes.invert(e.startState.doc),n,void 0,r||e.startState.selection,$n)}static selection(e){return new sn(void 0,$n,void 0,void 0,e)}}function ig(t,e,r,n){let i=e+1>r+20?e-r-1:0,o=t.slice(i,e);return o.push(n),o}function QG(t,e){let r=[],n=!1;return t.iterChangedRanges((i,o)=>r.push(i,o)),e.iterChangedRanges((i,o,l,u)=>{for(let c=0;c<r.length;){let p=r[c++],g=r[c++];u>=p&&l<=g&&(n=!0)}}),n}function JG(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,n)=>r.empty!=e.ranges[n].empty).length===0}function wD(t,e){return t.length?e.length?t.concat(e):t:e}const $n=[],ZG=200;function xD(t,e){if(t.length){let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-ZG));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),ig(t,t.length-1,1e9,r.setSelAfter(n)))}else return[sn.selection([e])]}function eY(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function z0(t,e){if(!t.length)return t;let r=t.length,n=$n;for(;r;){let i=tY(t[r-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,r);return o[r-1]=i,o}else e=i.mapped,r--,n=i.selectionsAfter}return n.length?[sn.selection(n)]:$n}function tY(t,e,r){let n=wD(t.selectionsAfter.length?t.selectionsAfter.map(u=>u.map(e)):$n,r);if(!t.changes)return sn.selection(n);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(o):o;return new sn(i,We.mapEffects(t.effects,e),l,t.startSelection.map(o),n)}const rY=/^(input\.type|delete)($|\.)/;class $i{constructor(e,r,n=0,i=void 0){this.done=e,this.undone=r,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new $i(this.done,this.undone):this}addChanges(e,r,n,i,o){let l=this.done,u=l[l.length-1];return u&&u.changes&&!u.changes.empty&&e.changes&&(!n||rY.test(n))&&(!u.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,QG(u.changes,e.changes))||n=="input.type.compose")?l=ig(l,l.length-1,i.minDepth,new sn(e.changes.compose(u.changes),wD(e.effects,u.effects),u.mapped,u.startSelection,$n)):l=ig(l,l.length,i.minDepth,e),new $i(l,$n,r,n)}addSelection(e,r,n,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:$n;return o.length>0&&r-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&JG(o[o.length-1],e)?this:new $i(xD(this.done,e),this.undone,r,n)}addMapping(e){return new $i(z0(this.done,e),z0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],l=o.selectionsAfter[0]||r.selection;if(n&&o.selectionsAfter.length)return r.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:tw.of({side:e,rest:eY(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let u=i.length==1?$n:i.slice(0,i.length-1);return o.mapped&&(u=z0(u,o.mapped)),r.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:tw.of({side:e,rest:u,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}$i.empty=new $i($n,$n);const nY=[{key:"Mod-z",run:yD,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:rw,preventDefault:!0},{linux:"Ctrl-Shift-z",run:rw,preventDefault:!0},{key:"Mod-u",run:YG,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:XG,preventDefault:!0}];function bu(t,e){return ne.create(t.ranges.map(e),t.mainIndex)}function Yi(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function xi({state:t,dispatch:e},r){let n=bu(t.selection,r);return n.eq(t.selection,!0)?!1:(e(Yi(t,n)),!0)}function dm(t,e){return ne.cursor(e?t.to:t.from)}function bD(t,e){return xi(t,r=>r.empty?t.moveByChar(r,e):dm(r,e))}function Lr(t){return t.textDirectionAt(t.state.selection.main.head)==gt.LTR}const SD=t=>bD(t,!Lr(t)),kD=t=>bD(t,Lr(t));function CD(t,e){return xi(t,r=>r.empty?t.moveByGroup(r,e):dm(r,e))}const iY=t=>CD(t,!Lr(t)),oY=t=>CD(t,Lr(t));function sY(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function pm(t,e,r){let n=Mr(t).resolveInner(e.head),i=r?Ye.closedBy:Ye.openedBy;for(let c=e.head;;){let p=r?n.childAfter(c):n.childBefore(c);if(!p)break;sY(t,p,i)?n=p:c=r?p.to:p.from}let o=n.type.prop(i),l,u;return o&&(l=r?Fi(t,n.from,1):Fi(t,n.to,-1))&&l.matched?u=r?l.end.to:l.end.from:u=r?n.to:n.from,ne.cursor(u,r?-1:1)}const lY=t=>xi(t,e=>pm(t.state,e,!Lr(t))),aY=t=>xi(t,e=>pm(t.state,e,Lr(t)));function TD(t,e){return xi(t,r=>{if(!r.empty)return dm(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}const OD=t=>TD(t,!1),ED=t=>TD(t,!0);function AD(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,i;if(e){for(let o of t.state.facet(ye.scrollMargins)){let l=o(t);l!=null&&l.top&&(r=Math.max(l==null?void 0:l.top,r)),l!=null&&l.bottom&&(n=Math.max(l==null?void 0:l.bottom,n))}i=t.scrollDOM.clientHeight-r-n}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function MD(t,e){let r=AD(t),{state:n}=t,i=bu(n.selection,l=>l.empty?t.moveVertically(l,e,r.height):dm(l,e));if(i.eq(n.selection))return!1;let o;if(r.selfScroll){let l=t.coordsAtPos(n.selection.main.head),u=t.scrollDOM.getBoundingClientRect(),c=u.top+r.marginTop,p=u.bottom-r.marginBottom;l&&l.top>c&&l.bottom<p&&(o=ye.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-c}))}return t.dispatch(Yi(n,i),{effects:o}),!0}const SO=t=>MD(t,!1),nw=t=>MD(t,!0);function zs(t,e,r){let n=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?n.to:n.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==n.from&&n.length){let o=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;o&&e.head!=n.from+o&&(i=ne.cursor(n.from+o))}return i}const uY=t=>xi(t,e=>zs(t,e,!0)),cY=t=>xi(t,e=>zs(t,e,!1)),fY=t=>xi(t,e=>zs(t,e,!Lr(t))),hY=t=>xi(t,e=>zs(t,e,Lr(t))),dY=t=>xi(t,e=>ne.cursor(t.lineBlockAt(e.head).from,1)),pY=t=>xi(t,e=>ne.cursor(t.lineBlockAt(e.head).to,-1));function gY(t,e,r){let n=!1,i=bu(t.selection,o=>{let l=Fi(t,o.head,-1)||Fi(t,o.head,1)||o.head>0&&Fi(t,o.head-1,1)||o.head<t.doc.length&&Fi(t,o.head+1,-1);if(!l||!l.end)return o;n=!0;let u=l.start.from==o.head?l.end.to:l.end.from;return ne.cursor(u)});return n?(e(Yi(t,i)),!0):!1}const mY=({state:t,dispatch:e})=>gY(t,e);function Gn(t,e){let r=bu(t.state.selection,n=>{let i=e(n);return ne.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(Yi(t.state,r)),!0)}function LD(t,e){return Gn(t,r=>t.moveByChar(r,e))}const PD=t=>LD(t,!Lr(t)),ND=t=>LD(t,Lr(t));function DD(t,e){return Gn(t,r=>t.moveByGroup(r,e))}const vY=t=>DD(t,!Lr(t)),yY=t=>DD(t,Lr(t)),wY=t=>Gn(t,e=>pm(t.state,e,!Lr(t))),xY=t=>Gn(t,e=>pm(t.state,e,Lr(t)));function RD(t,e){return Gn(t,r=>t.moveVertically(r,e))}const ID=t=>RD(t,!1),BD=t=>RD(t,!0);function _D(t,e){return Gn(t,r=>t.moveVertically(r,e,AD(t).height))}const kO=t=>_D(t,!1),CO=t=>_D(t,!0),bY=t=>Gn(t,e=>zs(t,e,!0)),SY=t=>Gn(t,e=>zs(t,e,!1)),kY=t=>Gn(t,e=>zs(t,e,!Lr(t))),CY=t=>Gn(t,e=>zs(t,e,Lr(t))),TY=t=>Gn(t,e=>ne.cursor(t.lineBlockAt(e.head).from)),OY=t=>Gn(t,e=>ne.cursor(t.lineBlockAt(e.head).to)),TO=({state:t,dispatch:e})=>(e(Yi(t,{anchor:0})),!0),OO=({state:t,dispatch:e})=>(e(Yi(t,{anchor:t.doc.length})),!0),EO=({state:t,dispatch:e})=>(e(Yi(t,{anchor:t.selection.main.anchor,head:0})),!0),AO=({state:t,dispatch:e})=>(e(Yi(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),EY=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),AY=({state:t,dispatch:e})=>{let r=gm(t).map(({from:n,to:i})=>ne.range(n,Math.min(i+1,t.doc.length)));return e(t.update({selection:ne.create(r),userEvent:"select"})),!0},MY=({state:t,dispatch:e})=>{let r=bu(t.selection,n=>{var i;let o=Mr(t).resolveStack(n.from,1);for(let l=o;l;l=l.next){let{node:u}=l;if((u.from<n.from&&u.to>=n.to||u.to>n.to&&u.from<=n.from)&&(!((i=u.parent)===null||i===void 0)&&i.parent))return ne.range(u.to,u.from)}return n});return e(Yi(t,r)),!0},LY=({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=ne.create([r.main]):r.main.empty||(n=ne.create([ne.cursor(r.main.head)])),n?(e(Yi(t,n)),!0):!1};function eh(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,i=n.changeByRange(o=>{let{from:l,to:u}=o;if(l==u){let c=e(o);c<l?(r="delete.backward",c=Sd(t,c,!1)):c>l&&(r="delete.forward",c=Sd(t,c,!0)),l=Math.min(l,c),u=Math.max(u,c)}else l=Sd(t,l,!1),u=Sd(t,u,!0);return l==u?{range:o}:{changes:{from:l,to:u},range:ne.cursor(l,l<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(n.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?ye.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Sd(t,e,r){if(t instanceof ye)for(let n of t.state.facet(ye.atomicRanges).map(i=>i(t)))n.between(e,e,(i,o)=>{i<e&&o>e&&(e=r?o:i)});return e}const FD=(t,e,r)=>eh(t,n=>{let i=n.from,{state:o}=t,l=o.doc.lineAt(i),u,c;if(r&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(u=l.text.slice(0,i-l.from))){if(u[u.length-1]=="	")return i-1;let p=wu(u,o.tabSize),g=p%tg(o)||tg(o);for(let v=0;v<g&&u[u.length-1-v]==" ";v++)i--;c=i}else c=gr(l.text,i-l.from,e,e)+l.from,c==i&&l.number!=(e?o.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(c-l.from,i-l.from))&&(c=gr(l.text,c-l.from,!1,!1)+l.from);return c}),iw=t=>FD(t,!1,!0),$D=t=>FD(t,!0,!1),zD=(t,e)=>eh(t,r=>{let n=r.head,{state:i}=t,o=i.doc.lineAt(n),l=i.charCategorizer(n);for(let u=null;;){if(n==(e?o.to:o.from)){n==r.head&&o.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let c=gr(o.text,n-o.from,e)+o.from,p=o.text.slice(Math.min(n,c)-o.from,Math.max(n,c)-o.from),g=l(p);if(u!=null&&g!=u)break;(p!=" "||n!=r.head)&&(u=g),n=c}return n}),WD=t=>zD(t,!1),PY=t=>zD(t,!0),NY=t=>eh(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),DY=t=>eh(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),RY=t=>eh(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),IY=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:tt.of(["",""])},range:ne.cursor(n.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},BY=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let i=n.from,o=t.doc.lineAt(i),l=i==o.from?i-1:gr(o.text,i-o.from,!1)+o.from,u=i==o.to?i+1:gr(o.text,i-o.from,!0)+o.from;return{changes:{from:l,to:u,insert:t.doc.slice(i,u).append(t.doc.slice(l,i))},range:ne.cursor(u)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function gm(t){let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),o=t.doc.lineAt(n.to);if(!n.empty&&n.to==o.from&&(o=t.doc.lineAt(n.to-1)),r>=i.number){let l=e[e.length-1];l.to=o.to,l.ranges.push(n)}else e.push({from:i.from,to:o.to,ranges:[n]});r=o.number+1}return e}function jD(t,e,r){if(t.readOnly)return!1;let n=[],i=[];for(let o of gm(t)){if(r?o.to==t.doc.length:o.from==0)continue;let l=t.doc.lineAt(r?o.to+1:o.from-1),u=l.length+1;if(r){n.push({from:o.to,to:l.to},{from:o.from,insert:l.text+t.lineBreak});for(let c of o.ranges)i.push(ne.range(Math.min(t.doc.length,c.anchor+u),Math.min(t.doc.length,c.head+u)))}else{n.push({from:l.from,to:o.from},{from:o.to,insert:t.lineBreak+l.text});for(let c of o.ranges)i.push(ne.range(c.anchor-u,c.head-u))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:ne.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const _Y=({state:t,dispatch:e})=>jD(t,e,!1),FY=({state:t,dispatch:e})=>jD(t,e,!0);function HD(t,e,r){if(t.readOnly)return!1;let n=[];for(let i of gm(t))r?n.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):n.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const $Y=({state:t,dispatch:e})=>HD(t,e,!1),zY=({state:t,dispatch:e})=>HD(t,e,!0),WY=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(gm(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),n=bu(e.selection,i=>{let o;if(t.lineWrapping){let l=t.lineBlockAt(i.head),u=t.coordsAtPos(i.head,i.assoc||1);u&&(o=l.bottom+t.documentTop-u.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function jY(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=Mr(t).resolveInner(e),n=r.childBefore(e),i=r.childAfter(e),o;return n&&i&&n.to<=e&&i.from>=e&&(o=n.type.prop(Ye.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const HY=UD(!1),UY=UD(!0);function UD(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:o,to:l}=i,u=e.doc.lineAt(o),c=!t&&o==l&&jY(e,o);t&&(o=l=(l<=u.to?u:e.doc.lineAt(l)).to);let p=new cm(e,{simulateBreak:o,simulateDoubleBreak:!!c}),g=rb(p,o);for(g==null&&(g=wu(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));l<u.to&&/\s/.test(u.text[l-u.from]);)l++;c?{from:o,to:l}=c:o>u.from&&o<u.from+100&&!/\S/.test(u.text.slice(0,o))&&(o=u.from);let v=["",Cf(e,g)];return c&&v.push(Cf(e,p.lineIndent(u.from,-1))),{changes:{from:o,to:l,insert:tt.of(v)},range:ne.cursor(o+1+v[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function lb(t,e){let r=-1;return t.changeByRange(n=>{let i=[];for(let l=n.from;l<=n.to;){let u=t.doc.lineAt(l);u.number>r&&(n.empty||n.to>u.from)&&(e(u,i,n),r=u.number),l=u.to+1}let o=t.changes(i);return{changes:i,range:ne.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}const VY=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new cm(t,{overrideIndentation:o=>{let l=r[o];return l??-1}}),i=lb(t,(o,l,u)=>{let c=rb(n,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let p=/^\s*/.exec(o.text)[0],g=Cf(t,c);(p!=g||u.from<o.from+p.length)&&(r[o.from]=c,l.push({from:o.from,to:o.from+p.length,insert:g}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},VD=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(lb(t,(r,n)=>{n.push({from:r.from,insert:t.facet(um)})}),{userEvent:"input.indent"})),!0),KD=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(lb(t,(r,n)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let o=wu(i,t.tabSize),l=0,u=Cf(t,Math.max(0,o-tg(t)));for(;l<i.length&&l<u.length&&i.charCodeAt(l)==u.charCodeAt(l);)l++;n.push({from:r.from+l,to:r.from+i.length,insert:u.slice(l)})}),{userEvent:"delete.dedent"})),!0),KY=t=>(t.setTabFocusMode(),!0),qY=[{key:"Ctrl-b",run:SD,shift:PD,preventDefault:!0},{key:"Ctrl-f",run:kD,shift:ND},{key:"Ctrl-p",run:OD,shift:ID},{key:"Ctrl-n",run:ED,shift:BD},{key:"Ctrl-a",run:dY,shift:TY},{key:"Ctrl-e",run:pY,shift:OY},{key:"Ctrl-d",run:$D},{key:"Ctrl-h",run:iw},{key:"Ctrl-k",run:NY},{key:"Ctrl-Alt-h",run:WD},{key:"Ctrl-o",run:IY},{key:"Ctrl-t",run:BY},{key:"Ctrl-v",run:nw}],GY=[{key:"ArrowLeft",run:SD,shift:PD,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:iY,shift:vY,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:fY,shift:kY,preventDefault:!0},{key:"ArrowRight",run:kD,shift:ND,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:oY,shift:yY,preventDefault:!0},{mac:"Cmd-ArrowRight",run:hY,shift:CY,preventDefault:!0},{key:"ArrowUp",run:OD,shift:ID,preventDefault:!0},{mac:"Cmd-ArrowUp",run:TO,shift:EO},{mac:"Ctrl-ArrowUp",run:SO,shift:kO},{key:"ArrowDown",run:ED,shift:BD,preventDefault:!0},{mac:"Cmd-ArrowDown",run:OO,shift:AO},{mac:"Ctrl-ArrowDown",run:nw,shift:CO},{key:"PageUp",run:SO,shift:kO},{key:"PageDown",run:nw,shift:CO},{key:"Home",run:cY,shift:SY,preventDefault:!0},{key:"Mod-Home",run:TO,shift:EO},{key:"End",run:uY,shift:bY,preventDefault:!0},{key:"Mod-End",run:OO,shift:AO},{key:"Enter",run:HY},{key:"Mod-a",run:EY},{key:"Backspace",run:iw,shift:iw},{key:"Delete",run:$D},{key:"Mod-Backspace",mac:"Alt-Backspace",run:WD},{key:"Mod-Delete",mac:"Alt-Delete",run:PY},{mac:"Mod-Backspace",run:DY},{mac:"Mod-Delete",run:RY}].concat(qY.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),YY=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:lY,shift:wY},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:aY,shift:xY},{key:"Alt-ArrowUp",run:_Y},{key:"Shift-Alt-ArrowUp",run:$Y},{key:"Alt-ArrowDown",run:FY},{key:"Shift-Alt-ArrowDown",run:zY},{key:"Escape",run:LY},{key:"Mod-Enter",run:UY},{key:"Alt-l",mac:"Ctrl-l",run:AY},{key:"Mod-i",run:MY,preventDefault:!0},{key:"Mod-[",run:KD},{key:"Mod-]",run:VD},{key:"Mod-Alt-\\",run:VY},{key:"Shift-Mod-k",run:WY},{key:"Shift-Mod-\\",run:mY},{key:"Mod-/",run:$G},{key:"Alt-A",run:WG},{key:"Ctrl-m",mac:"Shift-Alt-m",run:KY}].concat(GY),XY={key:"Tab",run:VD,shift:KD};function ut(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];typeof i=="string"?t.setAttribute(n,i):i!=null&&(t[n]=i)}e++}for(;e<arguments.length;e++)qD(t,arguments[e]);return t}function qD(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)qD(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}const MO=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class uu{constructor(e,r,n=0,i=e.length,o,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=o?u=>o(MO(u)):MO,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return fr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=Fx(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=_n(e);let i=this.normalize(r);for(let o=0,l=n;;o++){let u=i.charCodeAt(o),c=this.match(u,l,this.bufferPos+this.bufferStart);if(o==i.length-1){if(c)return this.value=c,this;break}l==n&&o<r.length&&r.charCodeAt(o)==u&&l++}}}match(e,r,n){let i=null;for(let o=0;o<this.matches.length;o+=2){let l=this.matches[o],u=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[o+1],to:n}:(this.matches[o]++,u=!0)),u||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:r,to:n}:this.matches.push(1,r)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(uu.prototype[Symbol.iterator]=function(){return this});const GD={from:-1,to:-1,match:/.*/.exec("")},ab="gm"+(/x/.unicode==null?"":"u");class YD{constructor(e,r,n,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=GD,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new XD(e,r,n,i,o);this.re=new RegExp(r,ab+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=og(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let n=this.curLineStart+r.index,i=n+r[0].length;if(this.matchPos=og(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const W0=new WeakMap;class Ua{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let i=W0.get(e);if(!i||i.from>=n||i.to<=r){let u=new Ua(r,e.sliceString(r,n));return W0.set(e,u),u}if(i.from==r&&i.to==n)return i;let{text:o,from:l}=i;return l>r&&(o=e.sliceString(r,l)+o,l=r),i.to<n&&(o+=e.sliceString(i.to,n)),W0.set(e,new Ua(l,o)),new Ua(r,o.slice(r-l,n-l))}}class XD{constructor(e,r,n,i,o){this.text=e,this.to=o,this.done=!1,this.value=GD,this.matchPos=og(e,i),this.re=new RegExp(r,ab+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=Ua.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let n=this.flat.from+r.index,i=n+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this.matchPos=og(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ua.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(YD.prototype[Symbol.iterator]=XD.prototype[Symbol.iterator]=function(){return this});function QY(t){try{return new RegExp(t,ab),!0}catch{return!1}}function og(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function ow(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=ut("input",{class:"cm-textfield",name:"line",value:e}),n=ut("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:sg.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},ut("label",t.state.phrase("Go to line"),": ",r)," ",ut("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!o)return;let{state:l}=t,u=l.doc.lineAt(l.selection.main.head),[,c,p,g,v]=o,y=g?+g.slice(1):0,x=p?+p:u.number;if(p&&v){let P=x/100;c&&(P=P*(c=="-"?-1:1)+u.number/l.doc.lines),x=Math.round(l.doc.lines*P)}else p&&c&&(x=x*(c=="-"?-1:1)+u.number);let T=l.doc.line(Math.max(1,Math.min(l.doc.lines,x))),A=ne.cursor(T.from+Math.max(0,Math.min(y,T.length)));t.dispatch({effects:[sg.of(!1),ye.scrollIntoView(A.from,{y:"center"})],selection:A}),t.focus()}return{dom:n}}const sg=We.define(),LO=wr.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(sg)&&(t=r.value);return t},provide:t=>Sf.from(t,e=>e?ow:null)}),JY=t=>{let e=bf(t,ow);if(!e){let r=[sg.of(!0)];t.state.field(LO,!1)==null&&r.push(We.appendConfig.of([LO,ZY])),t.dispatch({effects:r}),e=bf(t,ow)}return e&&e.dom.querySelector("input").select(),!0},ZY=ye.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),eX={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},tX=xe.define({combine(t){return Gi(t,eX,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function rX(t){return[lX,sX]}const nX=Pe.mark({class:"cm-selectionMatch"}),iX=Pe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function PO(t,e,r,n){return(r==0||t(e.sliceDoc(r-1,r))!=yt.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=yt.Word)}function oX(t,e,r,n){return t(e.sliceDoc(r,r+1))==yt.Word&&t(e.sliceDoc(n-1,n))==yt.Word}const sX=Dt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(tX),{state:r}=t,n=r.selection;if(n.ranges.length>1)return Pe.none;let i=n.main,o,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return Pe.none;let c=r.wordAt(i.head);if(!c)return Pe.none;l=r.charCategorizer(i.head),o=r.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return Pe.none;if(e.wholeWords){if(o=r.sliceDoc(i.from,i.to),l=r.charCategorizer(i.head),!(PO(l,r,i.from,i.to)&&oX(l,r,i.from,i.to)))return Pe.none}else if(o=r.sliceDoc(i.from,i.to),!o)return Pe.none}let u=[];for(let c of t.visibleRanges){let p=new uu(r.doc,o,c.from,c.to);for(;!p.next().done;){let{from:g,to:v}=p.value;if((!l||PO(l,r,g,v))&&(i.empty&&g<=i.from&&v>=i.to?u.push(iX.range(g,v)):(g>=i.to||v<=i.from)&&u.push(nX.range(g,v)),u.length>e.maxMatches))return Pe.none}}return Pe.set(u)}},{decorations:t=>t.decorations}),lX=ye.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),aX=({state:t,dispatch:e})=>{let{selection:r}=t,n=ne.create(r.ranges.map(i=>t.wordAt(i.head)||ne.cursor(i.head)),r.mainIndex);return n.eq(r)?!1:(e(t.update({selection:n})),!0)};function uX(t,e){let{main:r,ranges:n}=t.selection,i=t.wordAt(r.head),o=i&&i.from==r.from&&i.to==r.to;for(let l=!1,u=new uu(t.doc,e,n[n.length-1].to);;)if(u.next(),u.done){if(l)return null;u=new uu(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),l=!0}else{if(l&&n.some(c=>c.from==u.value.from))continue;if(o){let c=t.wordAt(u.value.from);if(!c||c.from!=u.value.from||c.to!=u.value.to)continue}return u.value}}const cX=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(o=>o.from===o.to))return aX({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=n))return!1;let i=uX(t,n);return i?(e(t.update({selection:t.selection.addRange(ne.range(i.from,i.to),!1),effects:ye.scrollIntoView(i.to)})),!0):!1},Su=xe.define({combine(t){return Gi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SX(e),scrollToMatch:e=>ye.scrollIntoView(e)})}});class QD{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||QY(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new pX(this):new hX(this)}getCursor(e,r=0,n){let i=e.doc?e:Ge.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?va(this,i,r,n):ma(this,i,r,n)}}class JD{constructor(e){this.spec=e}}function ma(t,e,r,n){return new uu(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?fX(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function fX(t,e){return(r,n,i,o)=>((o>r||o+i.length<n)&&(o=Math.max(0,r-2),i=t.sliceString(o,Math.min(t.length,n+2))),(e(lg(i,r-o))!=yt.Word||e(ag(i,r-o))!=yt.Word)&&(e(ag(i,n-o))!=yt.Word||e(lg(i,n-o))!=yt.Word))}class hX extends JD{constructor(e){super(e)}nextMatch(e,r,n){let i=ma(this.spec,e,n,e.doc.length).nextOverlapping();return i.done&&(i=ma(this.spec,e,0,r).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,r,n){for(let i=n;;){let o=Math.max(r,i-1e4-this.spec.unquoted.length),l=ma(this.spec,e,o,i),u=null;for(;!l.nextOverlapping().done;)u=l.value;if(u)return u;if(o==r)return null;i-=1e4}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let n=ma(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let o=ma(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function va(t,e,r,n){return new YD(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?dX(e.charCategorizer(e.selection.main.head)):void 0},r,n)}function lg(t,e){return t.slice(gr(t,e,!1),e)}function ag(t,e){return t.slice(e,gr(t,e))}function dX(t){return(e,r,n)=>!n[0].length||(t(lg(n.input,n.index))!=yt.Word||t(ag(n.input,n.index))!=yt.Word)&&(t(ag(n.input,n.index+n[0].length))!=yt.Word||t(lg(n.input,n.index+n[0].length))!=yt.Word)}class pX extends JD{nextMatch(e,r,n){let i=va(this.spec,e,n,e.doc.length).next();return i.done&&(i=va(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,n){for(let i=1;;i++){let o=Math.max(r,n-i*1e4),l=va(this.spec,e,o,n),u=null;for(;!l.next().done;)u=l.value;if(u&&(o==r||u.from>o+10))return u;if(o==r)return null}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:r)}matchAll(e,r){let n=va(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let o=va(this.spec,e,Math.max(0,r-250),Math.min(n+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Tf=We.define(),ub=We.define(),ws=wr.define({create(t){return new j0(sw(t).create(),null)},update(t,e){for(let r of e.effects)r.is(Tf)?t=new j0(r.value.create(),t.panel):r.is(ub)&&(t=new j0(t.query,r.value?cb:null));return t},provide:t=>Sf.from(t,e=>e.panel)});class j0{constructor(e,r){this.query=e,this.panel=r}}const gX=Pe.mark({class:"cm-searchMatch"}),mX=Pe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),vX=Dt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ws))}update(t){let e=t.state.field(ws);(e!=t.startState.field(ws)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Pe.none;let{view:r}=this,n=new Cs;for(let i=0,o=r.visibleRanges,l=o.length;i<l;i++){let{from:u,to:c}=o[i];for(;i<l-1&&c>o[i+1].from-2*250;)c=o[++i].to;t.highlight(r.state,u,c,(p,g)=>{let v=r.state.selection.ranges.some(y=>y.from==p&&y.to==g);n.add(p,g,v?mX:gX)})}return n.finish()}},{decorations:t=>t.decorations});function th(t){return e=>{let r=e.state.field(ws,!1);return r&&r.query.spec.valid?t(e,r):tR(e)}}const ug=th((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let i=ne.single(n.from,n.to),o=t.state.facet(Su);return t.dispatch({selection:i,effects:[fb(t,n),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),eR(t),!0}),cg=th((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,i=e.prevMatch(r,n,n);if(!i)return!1;let o=ne.single(i.from,i.to),l=t.state.facet(Su);return t.dispatch({selection:o,effects:[fb(t,i),l.scrollToMatch(o.main,t)],userEvent:"select.search"}),eR(t),!0}),yX=th((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:ne.create(r.map(n=>ne.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),wX=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:i}=r.main,o=[],l=0;for(let u=new uu(t.doc,t.sliceDoc(n,i));!u.next().done;){if(o.length>1e3)return!1;u.value.from==n&&(l=o.length),o.push(ne.range(u.value.from,u.value.to))}return e(t.update({selection:ne.create(o,l),userEvent:"select.search.matches"})),!0},NO=th((t,{query:e})=>{let{state:r}=t,{from:n,to:i}=r.selection.main;if(r.readOnly)return!1;let o=e.nextMatch(r,n,n);if(!o)return!1;let l=[],u,c,p=[];if(o.from==n&&o.to==i&&(c=r.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(r,o.from,o.to),p.push(ye.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),o){let g=l.length==0||l[0].from>=o.to?0:o.to-o.from-c.length;u=ne.single(o.from-g,o.to-g),p.push(fb(t,o)),p.push(r.facet(Su).scrollToMatch(u.main,t))}return t.dispatch({changes:l,selection:u,effects:p,userEvent:"input.replace"}),!0}),xX=th((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:l}=i;return{from:o,to:l,insert:e.getReplacement(i)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:ye.announce.of(n),userEvent:"input.replace.all"}),!0});function cb(t){return t.state.facet(Su).createPanel(t)}function sw(t,e){var r,n,i,o,l;let u=t.selection.main,c=u.empty||u.to>u.from+100?"":t.sliceDoc(u.from,u.to);if(e&&!c)return e;let p=t.facet(Su);return new QD({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:p.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:p.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:p.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:p.regexp,wholeWord:(l=e==null?void 0:e.wholeWord)!==null&&l!==void 0?l:p.wholeWord})}function ZD(t){let e=bf(t,cb);return e&&e.dom.querySelector("[main-field]")}function eR(t){let e=ZD(t);e&&e==t.root.activeElement&&e.select()}const tR=t=>{let e=t.state.field(ws,!1);if(e&&e.panel){let r=ZD(t);if(r&&r!=t.root.activeElement){let n=sw(t.state,e.query.spec);n.valid&&t.dispatch({effects:Tf.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[ub.of(!0),e?Tf.of(sw(t.state,e.query.spec)):We.appendConfig.of(CX)]});return!0},rR=t=>{let e=t.state.field(ws,!1);if(!e||!e.panel)return!1;let r=bf(t,cb);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:ub.of(!1)}),!0},bX=[{key:"Mod-f",run:tR,scope:"editor search-panel"},{key:"F3",run:ug,shift:cg,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ug,shift:cg,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:rR,scope:"editor search-panel"},{key:"Mod-Shift-l",run:wX},{key:"Mod-Alt-g",run:JY},{key:"Mod-d",run:cX,preventDefault:!0}];class SX{constructor(e){this.view=e;let r=this.query=e.state.field(ws).query.spec;this.commit=this.commit.bind(this),this.searchField=ut("input",{value:r.search,placeholder:gn(e,"Find"),"aria-label":gn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ut("input",{value:r.replace,placeholder:gn(e,"Replace"),"aria-label":gn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ut("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=ut("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=ut("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function n(i,o,l){return ut("button",{class:"cm-button",name:i,onclick:o,type:"button"},l)}this.dom=ut("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>ug(e),[gn(e,"next")]),n("prev",()=>cg(e),[gn(e,"previous")]),n("select",()=>yX(e),[gn(e,"all")]),ut("label",null,[this.caseField,gn(e,"match case")]),ut("label",null,[this.reField,gn(e,"regexp")]),ut("label",null,[this.wordField,gn(e,"by word")]),...e.state.readOnly?[]:[ut("br"),this.replaceField,n("replace",()=>NO(e),[gn(e,"replace")]),n("replaceAll",()=>xX(e),[gn(e,"replace all")])],ut("button",{name:"close",onclick:()=>rR(e),"aria-label":gn(e,"close"),type:"button"},["×"])])}commit(){let e=new QD({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Tf.of(e)}))}keydown(e){EK(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?cg:ug)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),NO(this.view))}update(e){for(let r of e.transactions)for(let n of r.effects)n.is(Tf)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Su).top}}function gn(t,e){return t.state.phrase(e)}const kd=30,Cd=/[\s\.,:;?!]/;function fb(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,o=Math.max(n.from,e-kd),l=Math.min(i,r+kd),u=t.state.sliceDoc(o,l);if(o!=n.from){for(let c=0;c<kd;c++)if(!Cd.test(u[c+1])&&Cd.test(u[c])){u=u.slice(c);break}}if(l!=i){for(let c=u.length-1;c>u.length-kd;c--)if(!Cd.test(u[c-1])&&Cd.test(u[c])){u=u.slice(0,c);break}}return ye.announce.of(`${t.state.phrase("current match")}. ${u} ${t.state.phrase("on line")} ${n.number}.`)}const kX=ye.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),CX=[ws,Dl.low(vX),kX];class nR{constructor(e,r,n,i){this.state=e,this.pos=r,this.explicit=n,this.view=i,this.abortListeners=[]}tokenBefore(e){let r=Mr(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),n=Math.max(r.from,this.pos-250),i=r.text.slice(n-r.from,this.pos-r.from),o=i.search(iR(e,!1));return o<0?null:{from:n+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,r){e=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function DO(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function TX(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)r[i[o]]=!0}let n=DO(e)+DO(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function OX(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:TX(e);return i=>{let o=i.matchBefore(n);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:r}:null}}class RO{constructor(e,r,n,i){this.completion=e,this.source=r,this.match=n,this.score=i}}function xs(t){return t.selection.main.from}function iR(t,e){var r;let{source:n}=t,i=e&&n[0]!="^",o=n[n.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${n})${o?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const oR=qi.define();function EX(t,e,r,n){let{main:i}=t.selection,o=r-i.from,l=n-i.from;return Object.assign(Object.assign({},t.changeByRange(u=>u!=i&&r!=n&&t.sliceDoc(u.from+o,u.from+l)!=t.sliceDoc(r,n)?{range:u}:{changes:{from:u.from+o,to:n==i.from?u.to:u.from+l,insert:e},range:ne.cursor(u.from+o+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const IO=new WeakMap;function AX(t){if(!Array.isArray(t))return t;let e=IO.get(t);return e||IO.set(t,e=OX(t)),e}const fg=We.define(),Of=We.define();class MX{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let n=fr(e,r),i=_n(n);this.chars.push(n);let o=e.slice(r,r+i),l=o.toUpperCase();this.folded.push(fr(l==o?o.toLowerCase():l,0)),r+=i}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:n,any:i,precise:o,byWord:l}=this;if(r.length==1){let S=fr(e,0),M=_n(S),N=M==e.length?0:-100;if(S!=r[0])if(S==n[0])N+=-200;else return null;return this.ret(N,[0,M])}let u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=r.length,p=0;if(u<0){for(let S=0,M=Math.min(e.length,200);S<M&&p<c;){let N=fr(e,S);(N==r[p]||N==n[p])&&(i[p++]=S),S+=_n(N)}if(p<c)return null}let g=0,v=0,y=!1,x=0,T=-1,A=-1,P=/[a-z]/.test(e),C=!0;for(let S=0,M=Math.min(e.length,200),N=0;S<M&&v<c;){let D=fr(e,S);u<0&&(g<c&&D==r[g]&&(o[g++]=S),x<c&&(D==r[x]||D==n[x]?(x==0&&(T=S),A=S+1,x++):x=0));let W,z=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(W=Fx(D))!=W.toLowerCase()?1:W!=W.toUpperCase()?2:0;(!S||z==1&&P||N==0&&z!=0)&&(r[v]==D||n[v]==D&&(y=!0)?l[v++]=S:l.length&&(C=!1)),N=z,S+=_n(D)}return v==c&&l[0]==0&&C?this.result(-100+(y?-200:0),l,e):x==c&&T==0?this.ret(-200-e.length+(A==e.length?0:-100),[0,A]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):x==c?this.ret(-900-e.length,[T,A]):v==c?this.result(-100+(y?-200:0)+-700+(C?0:-1100),l,e):r.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,n){let i=[],o=0;for(let l of r){let u=l+(this.astral?_n(fr(n,l)):1);o&&i[o-1]==l?i[o-1]=u:(i[o++]=l,i[o++]=u)}return this.ret(e-n.length,i)}}class LX{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),n=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,r.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const pr=xe.define({combine(t){return Gi(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:PX,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>n=>BO(e(n),r(n)),optionClass:(e,r)=>n=>BO(e(n),r(n)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function BO(t,e){return t?e?t+" "+e:t:e}function PX(t,e,r,n,i,o){let l=t.textDirection==gt.RTL,u=l,c=!1,p="top",g,v,y=e.left-i.left,x=i.right-e.right,T=n.right-n.left,A=n.bottom-n.top;if(u&&y<Math.min(T,x)?u=!1:!u&&x<Math.min(T,y)&&(u=!0),T<=(u?y:x))g=Math.max(i.top,Math.min(r.top,i.bottom-A))-e.top,v=Math.min(400,u?y:x);else{c=!0,v=Math.min(400,(l?e.right:i.right-e.left)-30);let S=i.bottom-e.bottom;S>=A||S>e.top?g=r.bottom-e.top:(p="bottom",g=e.bottom-r.top)}let P=(e.bottom-e.top)/o.offsetHeight,C=(e.right-e.left)/o.offsetWidth;return{style:`${p}: ${g/P}px; max-width: ${v/C}px`,class:"cm-completionInfo-"+(c?l?"left-narrow":"right-narrow":u?"left":"right")}}function NX(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),r.type&&n.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(r,n,i,o){let l=document.createElement("span");l.className="cm-completionLabel";let u=r.displayLabel||r.label,c=0;for(let p=0;p<o.length;){let g=o[p++],v=o[p++];g>c&&l.appendChild(document.createTextNode(u.slice(c,g)));let y=l.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(u.slice(g,v))),y.className="cm-completionMatchedText",c=v}return c<u.length&&l.appendChild(document.createTextNode(u.slice(c))),l},position:50},{render(r){if(!r.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=r.detail,n},position:80}),e.sort((r,n)=>r.position-n.position).map(r=>r.render)}function H0(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}class DX{constructor(e,r,n){this.view=e,this.stateField=r,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:o,selected:l}=i.open,u=e.state.facet(pr);this.optionContent=NX(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=H0(o.length,l,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:p}=e.state.field(r).open;for(let g=c.target,v;g&&g!=this.dom;g=g.parentNode)if(g.nodeName=="LI"&&(v=/-(\d+)$/.exec(g.id))&&+v[1]<p.length){this.applyCompletion(e,p[+v[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let p=e.state.field(this.stateField,!1);p&&p.tooltip&&e.state.facet(pr).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:Of.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:o,selected:l,disabled:u}=n.open;(!i.open||i.open.options!=o)&&(this.range=H0(o.length,l,e.state.facet(pr).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),u!=((r=i.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of r.split(" "))n&&this.dom.classList.add(n);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=H0(r.options.length,r.selected,this.view.state.facet(pr).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:n}=r.options[r.selected],{info:i}=n;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(n);if(!o)return;"then"in o?o.then(l=>{l&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(l,n)}).catch(l=>on(this.view.state,l,"completion info")):this.addInfoPane(o,n)}}addInfoPane(e,r){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;n.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),r=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return r&&IX(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let l=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:l.innerWidth,bottom:l.innerHeight}}return i.top>Math.min(o.bottom,r.bottom)-10||i.bottom<Math.max(o.top,r.top)+10?null:this.view.state.facet(pr).positionInfo(this.view,r,i,n,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,n){const i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let l=n.from;l<n.to;l++){let{completion:u,match:c}=e[l],{section:p}=u;if(p){let y=typeof p=="string"?p:p.name;if(y!=o&&(l>n.from||n.from==0))if(o=y,typeof p!="string"&&p.header)i.appendChild(p.header(p));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=y}}const g=i.appendChild(document.createElement("li"));g.id=r+"-"+l,g.setAttribute("role","option");let v=this.optionClass(u);v&&(g.className=v);for(let y of this.optionContent){let x=y(u,this.view.state,this.view,c);x&&g.appendChild(x)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function RX(t,e){return r=>new DX(r,t,e)}function IX(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=r.height/t.offsetHeight;n.top<r.top?t.scrollTop-=(r.top-n.top)/i:n.bottom>r.bottom&&(t.scrollTop+=(n.bottom-r.bottom)/i)}function _O(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function BX(t,e){let r=[],n=null,i=p=>{r.push(p);let{section:g}=p.completion;if(g){n||(n=[]);let v=typeof g=="string"?g:g.name;n.some(y=>y.name==v)||n.push(typeof g=="string"?{name:v}:g)}},o=e.facet(pr);for(let p of t)if(p.hasResult()){let g=p.result.getMatch;if(p.result.filter===!1)for(let v of p.result.options)i(new RO(v,p.source,g?g(v):[],1e9-r.length));else{let v=e.sliceDoc(p.from,p.to),y,x=o.filterStrict?new LX(v):new MX(v);for(let T of p.result.options)if(y=x.match(T.label)){let A=T.displayLabel?g?g(T,y.matched):[]:y.matched;i(new RO(T,p.source,A,y.score+(T.boost||0)))}}}if(n){let p=Object.create(null),g=0,v=(y,x)=>{var T,A;return((T=y.rank)!==null&&T!==void 0?T:1e9)-((A=x.rank)!==null&&A!==void 0?A:1e9)||(y.name<x.name?-1:1)};for(let y of n.sort(v))g-=1e5,p[y.name]=g;for(let y of r){let{section:x}=y.completion;x&&(y.score+=p[typeof x=="string"?x:x.name])}}let l=[],u=null,c=o.compareCompletions;for(let p of r.sort((g,v)=>v.score-g.score||c(g.completion,v.completion))){let g=p.completion;!u||u.label!=g.label||u.detail!=g.detail||u.type!=null&&g.type!=null&&u.type!=g.type||u.apply!=g.apply||u.boost!=g.boost?l.push(p):_O(p.completion)>_O(u)&&(l[l.length-1]=p),u=p.completion}return l}class Da{constructor(e,r,n,i,o,l){this.options=e,this.attrs=r,this.tooltip=n,this.timestamp=i,this.selected=o,this.disabled=l}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new Da(this.options,FO(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,n,i,o){let l=BX(e,r);if(!l.length)return i&&e.some(c=>c.state==1)?new Da(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let u=r.facet(pr).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let c=i.options[i.selected].completion;for(let p=0;p<l.length;p++)if(l[p].completion==c){u=p;break}}return new Da(l,FO(n,u),{pos:e.reduce((c,p)=>p.hasResult()?Math.min(c,p.from):c,1e8),create:jX,above:o.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Da(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class hg{constructor(e,r,n){this.active=e,this.id=r,this.open=n}static start(){return new hg(zX,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,n=r.facet(pr),o=(n.override||r.languageDataAt("autocomplete",xs(r)).map(AX)).map(u=>(this.active.find(p=>p.source==u)||new yn(u,this.active.some(p=>p.state!=0)?1:0)).update(e,n));o.length==this.active.length&&o.every((u,c)=>u==this.active[c])&&(o=this.active);let l=this.open;l&&e.docChanged&&(l=l.map(e.changes)),e.selection||o.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!_X(o,this.active)?l=Da.build(o,r,this.id,l,n):l&&l.disabled&&!o.some(u=>u.state==1)&&(l=null),!l&&o.every(u=>u.state!=1)&&o.some(u=>u.hasResult())&&(o=o.map(u=>u.hasResult()?new yn(u.source,0):u));for(let u of e.effects)u.is(aR)&&(l=l&&l.setSelected(u.value,this.id));return o==this.active&&l==this.open?this:new hg(o,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?FX:$X}}function _X(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult;)r++;for(;n<e.length&&!e[n].hasResult;)n++;let i=r==t.length,o=n==e.length;if(i||o)return i==o;if(t[r++].result!=e[n++].result)return!1}}const FX={"aria-autocomplete":"list"},$X={};function FO(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const zX=[];function sR(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(oR);if(n&&e.activateOnCompletion(n))return 12}let r=t.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class yn{constructor(e,r,n=-1){this.source=e,this.state=r,this.explicitPos=n}hasResult(){return!1}update(e,r){let n=sR(e,r),i=this;(n&8||n&16&&this.touches(e))&&(i=new yn(i.source,0)),n&4&&i.state==0&&(i=new yn(this.source,1)),i=i.updateFor(e,n);for(let o of e.effects)if(o.is(fg))i=new yn(i.source,1,o.value?xs(e.state):-1);else if(o.is(Of))i=new yn(i.source,0);else if(o.is(lR))for(let l of o.value)l.source==i.source&&(i=l);return i}updateFor(e,r){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new yn(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(xs(e.state))}}class Va extends yn{constructor(e,r,n,i,o){super(e,2,r),this.result=n,this.from=i,this.to=o}hasResult(){return!0}updateFor(e,r){var n;if(!(r&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),u=xs(e.state);if((this.explicitPos<0?u<=o:u<this.from)||u>l||!i||r&2&&xs(e.startState)==this.from)return new yn(this.source,r&4?1:0);let c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return WX(i.validFor,e.state,o,l)?new Va(this.source,c,i,o,l):i.update&&(i=i.update(i,o,l,new nR(e.state,u,c>=0)))?new Va(this.source,c,i,i.from,(n=i.to)!==null&&n!==void 0?n:xs(e.state)):new yn(this.source,1,c)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Va(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new yn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function WX(t,e,r,n){if(!t)return!1;let i=e.sliceDoc(r,n);return typeof t=="function"?t(i,r,n,e):iR(t,!0).test(i)}const lR=We.define({map(t,e){return t.map(r=>r.map(e))}}),aR=We.define(),rn=wr.define({create(){return hg.start()},update(t,e){return t.update(e)},provide:t=>[Jx.from(t,e=>e.tooltip),ye.contentAttributes.from(t,e=>e.attrs)]});function hb(t,e){const r=e.completion.apply||e.completion.label;let n=t.state.field(rn).active.find(i=>i.source==e.source);return n instanceof Va?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},EX(t.state,r,n.from,n.to)),{annotations:oR.of(e.completion)})):r(t,e.completion,n.from,n.to),!0):!1}const jX=RX(rn,hb);function Td(t,e="option"){return r=>{let n=r.state.field(rn,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(pr).interactionDelay)return!1;let i=1,o;e=="page"&&(o=qN(r,n.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:l}=n.open.options,u=n.open.selected>-1?n.open.selected+i*(t?1:-1):t?0:l-1;return u<0?u=e=="page"?0:l-1:u>=l&&(u=e=="page"?l-1:0),r.dispatch({effects:aR.of(u)}),!0}}const HX=t=>{let e=t.state.field(rn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(pr).interactionDelay?!1:hb(t,e.open.options[e.open.selected])},UX=t=>t.state.field(rn,!1)?(t.dispatch({effects:fg.of(!0)}),!0):!1,VX=t=>{let e=t.state.field(rn,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:Of.of(null)}),!0)};class KX{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const qX=50,GX=1e3,YX=Dt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(rn).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(rn),r=t.state.facet(pr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(rn)==e)return;let n=t.transactions.some(o=>{let l=sR(o,r);return l&8||(o.selection||o.docChanged)&&!(l&3)});for(let o=0;o<this.running.length;o++){let l=this.running[o];if(n||l.updates.length+t.transactions.length>qX&&Date.now()-l.time>GX){for(let u of l.context.abortListeners)try{u()}catch(c){on(this.view.state,c)}l.context.abortListeners=null,this.running.splice(o--,1)}else l.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(l=>l.is(fg)))&&(this.pendingStart=!0);let i=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.state==1&&!this.running.some(l=>l.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(rn);for(let r of e.active)r.state==1&&!this.running.some(n=>n.active.source==r.source)&&this.startQuery(r)}startQuery(t){let{state:e}=this.view,r=xs(e),n=new nR(e,r,t.explicitPos==r,this.view),i=new KX(t,n);this.running.push(i),Promise.resolve(t.source(n)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Of.of(null)}),on(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(pr).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(pr);for(let n=0;n<this.running.length;n++){let i=this.running[n];if(i.done===void 0)continue;if(this.running.splice(n--,1),i.done){let l=new Va(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:xs(i.updates.length?i.updates[0].startState:this.view.state));for(let u of i.updates)l=l.update(u,r);if(l.hasResult()){e.push(l);continue}}let o=this.view.state.field(rn).active.find(l=>l.source==i.active.source);if(o&&o.state==1)if(i.done==null){let l=new yn(i.active.source,0);for(let u of i.updates)l=l.update(u,r);l.state!=1&&e.push(l)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:lR.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(rn,!1);if(e&&e.tooltip&&this.view.state.facet(pr).closeOnBlur){let r=e.open&&qN(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Of.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:fg.of(!1)}),20),this.composing=0}}}),XX=typeof navigator=="object"&&/Win/.test(navigator.platform),QX=Dl.highest(ye.domEventHandlers({keydown(t,e){let r=e.state.field(rn,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||t.key.length>1||t.ctrlKey&&!(XX&&t.altKey)||t.metaKey)return!1;let n=r.open.options[r.open.selected],i=r.active.find(l=>l.source==n.source),o=n.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&hb(e,n),!1}})),JX=ye.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ef={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},hl=We.define({map(t,e){let r=e.mapPos(t,-1,Wr.TrackAfter);return r??void 0}}),db=new class extends kl{};db.startSide=1;db.endSide=-1;const uR=wr.define({create(){return Qe.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:n=>n>=r.from&&n<=r.to})}for(let r of e.effects)r.is(hl)&&(t=t.update({add:[db.range(r.value,r.value+1)]}));return t}});function ZX(){return[tQ,uR]}const U0="()[]{}<>";function cR(t){for(let e=0;e<U0.length;e+=2)if(U0.charCodeAt(e)==t)return U0.charAt(e+1);return Fx(t<128?t:t+1)}function fR(t,e){return t.languageDataAt("closeBrackets",e)[0]||Ef}const eQ=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),tQ=ye.inputHandler.of((t,e,r,n)=>{if((eQ?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(n.length>2||n.length==2&&_n(fr(n,0))==1||e!=i.from||r!=i.to)return!1;let o=iQ(t.state,n);return o?(t.dispatch(o),!0):!1}),rQ=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=fR(t,t.selection.main.head).brackets||Ef.brackets,i=null,o=t.changeByRange(l=>{if(l.empty){let u=oQ(t.doc,l.head);for(let c of n)if(c==u&&mm(t.doc,l.head)==cR(fr(c,0)))return{changes:{from:l.head-c.length,to:l.head+c.length},range:ne.cursor(l.head-c.length)}}return{range:i=l}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},nQ=[{key:"Backspace",run:rQ}];function iQ(t,e){let r=fR(t,t.selection.main.head),n=r.brackets||Ef.brackets;for(let i of n){let o=cR(fr(i,0));if(e==i)return o==i?aQ(t,i,n.indexOf(i+i+i)>-1,r):sQ(t,i,o,r.before||Ef.before);if(e==o&&hR(t,t.selection.main.from))return lQ(t,i,o)}return null}function hR(t,e){let r=!1;return t.field(uR).between(0,t.doc.length,n=>{n==e&&(r=!0)}),r}function mm(t,e){let r=t.sliceString(e,e+2);return r.slice(0,_n(fr(r,0)))}function oQ(t,e){let r=t.sliceString(e-2,e);return _n(fr(r,0))==r.length?r:r.slice(1)}function sQ(t,e,r,n){let i=null,o=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:r,from:l.to}],effects:hl.of(l.to+e.length),range:ne.range(l.anchor+e.length,l.head+e.length)};let u=mm(t.doc,l.head);return!u||/\s/.test(u)||n.indexOf(u)>-1?{changes:{insert:e+r,from:l.head},effects:hl.of(l.head+e.length),range:ne.cursor(l.head+e.length)}:{range:i=l}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function lQ(t,e,r){let n=null,i=t.changeByRange(o=>o.empty&&mm(t.doc,o.head)==r?{changes:{from:o.head,to:o.head+r.length,insert:r},range:ne.cursor(o.head+r.length)}:n={range:o});return n?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function aQ(t,e,r,n){let i=n.stringPrefixes||Ef.stringPrefixes,o=null,l=t.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:hl.of(u.to+e.length),range:ne.range(u.anchor+e.length,u.head+e.length)};let c=u.head,p=mm(t.doc,c),g;if(p==e){if($O(t,c))return{changes:{insert:e+e,from:c},effects:hl.of(c+e.length),range:ne.cursor(c+e.length)};if(hR(t,c)){let y=r&&t.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+y.length,insert:y},range:ne.cursor(c+y.length)}}}else{if(r&&t.sliceDoc(c-2*e.length,c)==e+e&&(g=zO(t,c-2*e.length,i))>-1&&$O(t,g))return{changes:{insert:e+e+e+e,from:c},effects:hl.of(c+e.length),range:ne.cursor(c+e.length)};if(t.charCategorizer(c)(p)!=yt.Word&&zO(t,c,i)>-1&&!uQ(t,c,e,i))return{changes:{insert:e+e,from:c},effects:hl.of(c+e.length),range:ne.cursor(c+e.length)}}return{range:o=u}});return o?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function $O(t,e){let r=Mr(t).resolveInner(e+1);return r.parent&&r.from==e}function uQ(t,e,r,n){let i=Mr(t).resolveInner(e,-1),o=n.reduce((l,u)=>Math.max(l,u.length),0);for(let l=0;l<5;l++){let u=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+o)),c=u.indexOf(r);if(!c||c>-1&&n.indexOf(u.slice(0,c))>-1){let g=i.firstChild;for(;g&&g.from==i.from&&g.to-g.from>r.length+c;){if(t.sliceDoc(g.to-r.length,g.to)==r)return!1;g=g.firstChild}return!0}let p=i.to==e&&i.parent;if(!p)break;i=p}return!1}function zO(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=yt.Word)return e;for(let i of r){let o=e-i.length;if(t.sliceDoc(o,e)==i&&n(t.sliceDoc(o-1,o))!=yt.Word)return o}return-1}function cQ(t={}){return[QX,rn,pr.of(t),YX,fQ,JX]}const dR=[{key:"Ctrl-Space",run:UX},{key:"Escape",run:VX},{key:"ArrowDown",run:Td(!0)},{key:"ArrowUp",run:Td(!1)},{key:"PageDown",run:Td(!0,"page")},{key:"PageUp",run:Td(!1,"page")},{key:"Enter",run:HX}],fQ=Dl.highest(lm.computeN([pr],t=>t.facet(pr).defaultKeymap?[dR]:[]));class hQ{constructor(e,r,n){this.from=e,this.to=r,this.diagnostic=n}}class sl{constructor(e,r,n){this.diagnostics=e,this.panel=r,this.selected=n}static init(e,r,n){let i=e,o=n.facet(Af).markerFilter;o&&(i=o(i,n));let l=Pe.set(i.map(u=>u.from==u.to||u.from==u.to-1&&n.doc.lineAt(u.from).to==u.from?Pe.widget({widget:new bQ(u),diagnostic:u}).range(u.from):Pe.mark({attributes:{class:"cm-lintRange cm-lintRange-"+u.severity+(u.markClass?" "+u.markClass:"")},diagnostic:u}).range(u.from,u.to)),!0);return new sl(l,r,cu(l))}}function cu(t,e=null,r=0){let n=null;return t.between(r,1e9,(i,o,{spec:l})=>{if(!(e&&l.diagnostic!=e))return n=new hQ(i,o,l.diagnostic),!1}),n}function dQ(t,e){let r=e.pos,n=e.end||r,i=t.state.facet(Af).hideOn(t,r,n);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(l=>l.is(pR))||t.changes.touchesRange(o.from,Math.max(o.to,n)))}function pQ(t,e){return t.field(bn,!1)?e:e.concat(We.appendConfig.of(CQ))}const pR=We.define(),pb=We.define(),gR=We.define(),bn=wr.define({create(){return new sl(Pe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let r=t.diagnostics.map(e.changes),n=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);n=cu(r,t.selected.diagnostic,o)||cu(r,null,o)}!r.size&&i&&e.state.facet(Af).autoPanel&&(i=null),t=new sl(r,i,n)}for(let r of e.effects)if(r.is(pR)){let n=e.state.facet(Af).autoPanel?r.value.length?Mf.open:null:t.panel;t=sl.init(r.value,n,e.state)}else r.is(pb)?t=new sl(t.diagnostics,r.value?Mf.open:null,t.selected):r.is(gR)&&(t=new sl(t.diagnostics,t.panel,r.value));return t},provide:t=>[Sf.from(t,e=>e.panel),ye.decorations.from(t,e=>e.diagnostics)]}),gQ=Pe.mark({class:"cm-lintRange cm-lintRange-active"});function mQ(t,e,r){let{diagnostics:n}=t.state.field(bn),i=[],o=2e8,l=0;n.between(e-(r<0?1:0),e+(r>0?1:0),(c,p,{spec:g})=>{e>=c&&e<=p&&(c==p||(e>c||r>0)&&(e<p||r<0))&&(i.push(g.diagnostic),o=Math.min(c,o),l=Math.max(p,l))});let u=t.state.facet(Af).tooltipFilter;return u&&(i=u(i,t.state)),i.length?{pos:o,end:l,above:t.state.doc.lineAt(o).to<l,create(){return{dom:vQ(t,i)}}}:null}function vQ(t,e){return ut("ul",{class:"cm-tooltip-lint"},e.map(r=>vR(t,r,!1)))}const yQ=t=>{let e=t.state.field(bn,!1);(!e||!e.panel)&&t.dispatch({effects:pQ(t.state,[pb.of(!0)])});let r=bf(t,Mf.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},WO=t=>{let e=t.state.field(bn,!1);return!e||!e.panel?!1:(t.dispatch({effects:pb.of(!1)}),!0)},wQ=t=>{let e=t.state.field(bn,!1);if(!e)return!1;let r=t.state.selection.main,n=e.diagnostics.iter(r.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},xQ=[{key:"Mod-Shift-m",run:yQ,preventDefault:!0},{key:"F8",run:wQ}],Af=xe.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},Gi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?n=>e(n)||r(n):e:r}))}});function mR(t){let e=[];if(t)e:for(let{name:r}of t){for(let n=0;n<r.length;n++){let i=r[n];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function vR(t,e,r){var n;let i=r?mR(e.actions):[];return ut("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ut("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((o,l)=>{let u=!1,c=y=>{if(y.preventDefault(),u)return;u=!0;let x=cu(t.state.field(bn).diagnostics,e);x&&o.apply(t,x.from,x.to)},{name:p}=o,g=i[l]?p.indexOf(i[l]):-1,v=g<0?p:[p.slice(0,g),ut("u",p.slice(g,g+1)),p.slice(g+1)];return ut("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${p}${g<0?"":` (access key "${i[l]})"`}.`},v)}),e.source&&ut("div",{class:"cm-diagnosticSource"},e.source))}class bQ extends Eo{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return ut("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class jO{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=vR(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Mf{constructor(e){this.view=e,this.items=[];let r=i=>{if(i.keyCode==27)WO(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],l=mR(o.actions);for(let u=0;u<l.length;u++)if(l[u].toUpperCase().charCodeAt(0)==i.keyCode){let c=cu(this.view.state.field(bn).diagnostics,o);c&&o.actions[u].apply(e,c.from,c.to)}}else return;i.preventDefault()},n=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=ut("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:n}),this.dom=ut("div",{class:"cm-panel-lint"},this.list,ut("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>WO(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(bn).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(bn),n=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(l,u,{spec:c})=>{let p=-1,g;for(let v=n;v<this.items.length;v++)if(this.items[v].diagnostic==c.diagnostic){p=v;break}p<0?(g=new jO(this.view,c.diagnostic),this.items.splice(n,0,g),i=!0):(g=this.items[p],p>n&&(this.items.splice(n,p-n),i=!0)),r&&g.diagnostic==r.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),o=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new jO(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:u})=>{let c=u.height/this.list.offsetHeight;l.top<u.top?this.list.scrollTop-=(u.top-l.top)/c:l.bottom>u.bottom&&(this.list.scrollTop+=(l.bottom-u.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)r();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(bn),n=cu(r.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:gR.of(n)})}static open(e){return new Mf(e)}}function SQ(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Od(t){return SQ(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const kQ=ye.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Od("#d11")},".cm-lintRange-warning":{backgroundImage:Od("orange")},".cm-lintRange-info":{backgroundImage:Od("#999")},".cm-lintRange-hint":{backgroundImage:Od("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),CQ=[bn,ye.decorations.compute([bn],t=>{let{selected:e,panel:r}=t.field(bn);return!e||!r||e.from==e.to?Pe.none:Pe.set([gQ.range(e.from,e.to)])}),gq(mQ,{hideOn:dQ}),kQ];var HO=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(nQ)),e.defaultKeymap!==!1&&(n=n.concat(YY)),e.searchKeymap!==!1&&(n=n.concat(bX)),e.historyKeymap!==!1&&(n=n.concat(nY)),e.foldKeymap!==!1&&(n=n.concat(vG)),e.completionKeymap!==!1&&(n=n.concat(dR)),e.lintKeymap!==!1&&(n=n.concat(xQ));var i=[];return e.lineNumbers!==!1&&i.push(Oq()),e.highlightActiveLineGutter!==!1&&i.push(Mq()),e.highlightSpecialChars!==!1&&i.push(UK()),e.history!==!1&&i.push(GG()),e.foldGutter!==!1&&i.push(bG()),e.drawSelection!==!1&&i.push(DK()),e.dropCursor!==!1&&i.push(FK()),e.allowMultipleSelections!==!1&&i.push(Ge.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(lG()),e.syntaxHighlighting!==!1&&i.push(ib(TG,{fallback:!0})),e.bracketMatching!==!1&&i.push(NG()),e.closeBrackets!==!1&&i.push(ZX()),e.autocompletion!==!1&&i.push(cQ()),e.rectangularSelection!==!1&&i.push(iq()),r!==!1&&i.push(lq()),e.highlightActiveLine!==!1&&i.push(XK()),e.highlightSelectionMatches!==!1&&i.push(rX()),e.tabSize&&typeof e.tabSize=="number"&&i.push(um.of(" ".repeat(e.tabSize))),i.concat([lm.of(n.flat())]).filter(Boolean)};const TQ="#e5c07b",UO="#e06c75",OQ="#56b6c2",EQ="#ffffff",ip="#abb2bf",lw="#7d8799",AQ="#61afef",MQ="#98c379",VO="#d19a66",LQ="#c678dd",PQ="#21252b",KO="#2c313a",qO="#282c34",V0="#353a42",NQ="#3E4451",GO="#528bff",DQ=ye.theme({"&":{color:ip,backgroundColor:qO},".cm-content":{caretColor:GO},".cm-cursor, .cm-dropCursor":{borderLeftColor:GO},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:NQ},".cm-panels":{backgroundColor:PQ,color:ip},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:qO,color:lw,border:"none"},".cm-activeLineGutter":{backgroundColor:KO},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:V0},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:V0,borderBottomColor:V0},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:KO,color:ip}}},{dark:!0}),RQ=xu.define([{tag:O.keyword,color:LQ},{tag:[O.name,O.deleted,O.character,O.propertyName,O.macroName],color:UO},{tag:[O.function(O.variableName),O.labelName],color:AQ},{tag:[O.color,O.constant(O.name),O.standard(O.name)],color:VO},{tag:[O.definition(O.name),O.separator],color:ip},{tag:[O.typeName,O.className,O.number,O.changed,O.annotation,O.modifier,O.self,O.namespace],color:TQ},{tag:[O.operator,O.operatorKeyword,O.url,O.escape,O.regexp,O.link,O.special(O.string)],color:OQ},{tag:[O.meta,O.comment],color:lw},{tag:O.strong,fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:O.link,color:lw,textDecoration:"underline"},{tag:O.heading,fontWeight:"bold",color:UO},{tag:[O.atom,O.bool,O.special(O.variableName)],color:VO},{tag:[O.processingInstruction,O.string,O.inserted],color:MQ},{tag:O.invalid,color:EQ}]),IQ=[DQ,ib(RQ)];var BQ=ye.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),_Q=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:n=!0,readOnly:i=!1,theme:o="light",placeholder:l="",basicSetup:u=!0}=e,c=[];switch(r&&c.unshift(lm.of([XY])),u&&(typeof u=="boolean"?c.unshift(HO()):c.unshift(HO(u))),l&&c.unshift(eq(l)),o){case"light":c.push(BQ);break;case"dark":c.push(IQ);break;case"none":break;default:c.push(o);break}return n===!1&&c.push(ye.editable.of(!1)),i&&c.push(Ge.readOnly.of(!0)),[...c]},FQ=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),YO=qi.define(),$Q=[];function zQ(t){var{value:e,selection:r,onChange:n,onStatistics:i,onCreateEditor:o,onUpdate:l,extensions:u=$Q,autoFocus:c,theme:p="light",height:g=null,minHeight:v=null,maxHeight:y=null,width:x=null,minWidth:T=null,maxWidth:A=null,placeholder:P="",editable:C=!0,readOnly:S=!1,indentWithTab:M=!0,basicSetup:N=!0,root:D,initialState:W}=t,[z,H]=re.useState(),[J,ie]=re.useState(),[de,ue]=re.useState(),K=ye.theme({"&":{height:g,minHeight:v,maxHeight:y,width:x,minWidth:T,maxWidth:A},"& .cm-scroller":{height:"100% !important"}}),Z=ye.updateListener.of(ee=>{if(ee.docChanged&&typeof n=="function"&&!ee.transactions.some(V=>V.annotation(YO))){var R=ee.state.doc,B=R.toString();n(B,ee)}i&&i(FQ(ee))}),_=_Q({theme:p,editable:C,readOnly:S,placeholder:P,indentWithTab:M,basicSetup:N}),Q=[Z,K,..._];return l&&typeof l=="function"&&Q.push(ye.updateListener.of(l)),Q=Q.concat(u),re.useEffect(()=>{if(z&&!de){var ee={doc:e,selection:r,extensions:Q},R=W?Ge.fromJSON(W.json,ee,W.fields):Ge.create(ee);if(ue(R),!J){var B=new ye({state:R,parent:z,root:D});ie(B),o&&o(B,R)}}return()=>{J&&(ue(void 0),ie(void 0))}},[z,de]),re.useEffect(()=>H(t.container),[t.container]),re.useEffect(()=>()=>{J&&(J.destroy(),ie(void 0))},[J]),re.useEffect(()=>{c&&J&&J.focus()},[c,J]),re.useEffect(()=>{J&&J.dispatch({effects:We.reconfigure.of(Q)})},[p,u,g,v,y,x,T,A,P,C,S,M,N,n,l]),re.useEffect(()=>{if(e!==void 0){var ee=J?J.state.doc.toString():"";J&&e!==ee&&J.dispatch({changes:{from:0,to:ee.length,insert:e||""},annotations:[YO.of(!0)]})}},[e,J]),{state:de,setState:ue,view:J,setView:ie,container:z,setContainer:H}}var WQ=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],jQ=re.forwardRef((t,e)=>{var{className:r,value:n="",selection:i,extensions:o=[],onChange:l,onStatistics:u,onCreateEditor:c,onUpdate:p,autoFocus:g,theme:v="light",height:y,minHeight:x,maxHeight:T,width:A,minWidth:P,maxWidth:C,basicSetup:S,placeholder:M,indentWithTab:N,editable:D,readOnly:W,root:z,initialState:H}=t,J=RU(t,WQ),ie=re.useRef(null),{state:de,view:ue,container:K}=zQ({container:ie.current,root:z,value:n,autoFocus:g,theme:v,height:y,minHeight:x,maxHeight:T,width:A,minWidth:P,maxWidth:C,basicSetup:S,placeholder:M,indentWithTab:N,editable:D,readOnly:W,selection:i,onChange:l,onStatistics:u,onCreateEditor:c,onUpdate:p,extensions:o,initialState:H});if(re.useImperativeHandle(e,()=>({editor:ie.current,state:de,view:ue}),[ie,K,de,ue]),typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var Z=typeof v=="string"?"cm-theme-"+v:"cm-theme";return Y.jsx("div",yr({ref:ie,className:""+Z+(r?" "+r:"")},J))});jQ.displayName="CodeMirror";var Xi=t=>{var{theme:e,settings:r={},styles:n=[]}=t,i={".cm-gutters":{}},o={};r.background&&(o.backgroundColor=r.background),r.backgroundImage&&(o.backgroundImage=r.backgroundImage),r.foreground&&(o.color=r.foreground),r.fontSize&&(o.fontSize=r.fontSize),(r.background||r.foreground)&&(i["&"]=o),r.fontFamily&&(i["&.cm-editor .cm-scroller"]={fontFamily:r.fontFamily}),r.gutterBackground&&(i[".cm-gutters"].backgroundColor=r.gutterBackground),r.gutterForeground&&(i[".cm-gutters"].color=r.gutterForeground),r.gutterBorder&&(i[".cm-gutters"].borderRightColor=r.gutterBorder),r.caret&&(i[".cm-content"]={caretColor:r.caret},i[".cm-cursor, .cm-dropCursor"]={borderLeftColor:r.caret});var l={};r.gutterActiveForeground&&(l.color=r.gutterActiveForeground),r.lineHighlight&&(i[".cm-activeLine"]={backgroundColor:r.lineHighlight},l.backgroundColor=r.lineHighlight),i[".cm-activeLineGutter"]=l,r.selection&&(i["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:r.selection+" !important"}),r.selectionMatch&&(i["& .cm-selectionMatch"]={backgroundColor:r.selectionMatch});var u=ye.theme(i,{dark:e==="dark"}),c=xu.define(n),p=[u,ib(c)];return p},HQ={background:"#272822",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#0000003b"},UQ=[{tag:[O.comment,O.documentMeta],color:"#8292a2"},{tag:[O.number,O.bool,O.null,O.atom],color:"#ae81ff"},{tag:[O.attributeValue,O.className,O.name],color:"#e6db74"},{tag:[O.propertyName,O.attributeName],color:"#a6e22e"},{tag:[O.variableName],color:"#9effff"},{tag:[O.squareBracket],color:"#bababa"},{tag:[O.string,O.special(O.brace)],color:"#e6db74"},{tag:[O.regexp,O.className,O.typeName,O.definition(O.typeName)],color:"#66d9ef"},{tag:[O.definition(O.variableName),O.definition(O.propertyName),O.function(O.variableName)],color:"#fd971f"},{tag:[O.keyword,O.definitionKeyword,O.modifier,O.tagName,O.angleBracket],color:"#f92672"}],VQ=t=>{var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},HQ,r),styles:[...UQ,...n]})};VQ();var KQ={background:"#21202e",foreground:"#edecee",caret:"#a277ff",selection:"#5a51898f",selectionMatch:"#5a51898f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},qQ=[{tag:O.keyword,color:"#a277ff"},{tag:[O.name,O.deleted,O.character,O.macroName],color:"#edecee"},{tag:[O.propertyName],color:"#ffca85"},{tag:[O.processingInstruction,O.string,O.inserted,O.special(O.string)],color:"#61ffca"},{tag:[O.function(O.variableName),O.labelName],color:"#ffca85"},{tag:[O.color,O.constant(O.name),O.standard(O.name)],color:"#61ffca"},{tag:[O.definition(O.name),O.separator],color:"#edecee"},{tag:[O.className],color:"#82e2ff"},{tag:[O.number,O.changed,O.annotation,O.modifier,O.self,O.namespace],color:"#61ffca"},{tag:[O.typeName],color:"#82e2ff"},{tag:[O.operator,O.operatorKeyword],color:"#a277ff"},{tag:[O.url,O.escape,O.regexp,O.link],color:"#61ffca"},{tag:[O.meta,O.comment],color:"#6d6d6d"},{tag:O.strong,fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.link,textDecoration:"underline"},{tag:O.heading,fontWeight:"bold",color:"#a277ff"},{tag:[O.atom,O.bool,O.special(O.variableName)],color:"#edecee"},{tag:O.invalid,color:"#ff6767"},{tag:O.strikethrough,textDecoration:"line-through"}],GQ=t=>{var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},KQ,r),styles:[...qQ,...n]})};GQ();var YQ={background:"#282a36",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6D8A88",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},XQ=[{tag:O.comment,color:"#6272a4"},{tag:O.string,color:"#f1fa8c"},{tag:O.atom,color:"#bd93f9"},{tag:O.meta,color:"#f8f8f2"},{tag:[O.keyword,O.operator,O.tagName],color:"#ff79c6"},{tag:[O.function(O.propertyName),O.propertyName],color:"#66d9ef"},{tag:[O.definition(O.variableName),O.function(O.variableName),O.className,O.attributeName],color:"#50fa7b"},{tag:O.atom,color:"#bd93f9"}],QQ=t=>{var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},YQ,r),styles:[...XQ,...n]})};QQ();var JQ={background:"#2B2B2B",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"rgba(255, 255, 255, 0.1)",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},ZQ=[{tag:[O.atom,O.number],color:"#bd93f9"},{tag:[O.comment],color:"#61A151"},{tag:[O.string],color:"#6A8759"},{tag:[O.variableName,O.operator],color:"#A9B7C6"},{tag:[O.meta,O.className],color:"#A9B7C6"},{tag:[O.propertyName],color:"#FFC66D"},{tag:[O.keyword],color:"#CC7832"},{tag:[O.tagName],color:"#ff79c6"},{tag:[O.typeName],color:"#ffb86c"}],eJ=t=>{var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},JQ,r),styles:[...ZQ,...n]})};eJ();var tJ={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},rJ=[{tag:[O.standard(O.tagName),O.tagName],color:"#116329"},{tag:[O.comment,O.bracket],color:"#6a737d"},{tag:[O.className,O.propertyName],color:"#6f42c1"},{tag:[O.variableName,O.attributeName,O.number,O.operator],color:"#005cc5"},{tag:[O.keyword,O.typeName,O.typeOperator,O.typeName],color:"#d73a49"},{tag:[O.string,O.meta,O.regexp],color:"#032f62"},{tag:[O.name,O.quote],color:"#22863a"},{tag:[O.heading,O.strong],color:"#24292e",fontWeight:"bold"},{tag:[O.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[O.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[O.atom,O.bool,O.special(O.variableName)],color:"#e36209"},{tag:[O.url,O.escape,O.regexp,O.link],color:"#032f62"},{tag:O.link,textDecoration:"underline"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:O.invalid,color:"#cb2431"}],nJ=t=>{var{theme:e="light",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},tJ,r),styles:[...rJ,...n]})};nJ();var iJ={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},oJ=[{tag:[O.standard(O.tagName),O.tagName],color:"#7ee787"},{tag:[O.comment,O.bracket],color:"#8b949e"},{tag:[O.className,O.propertyName],color:"#d2a8ff"},{tag:[O.variableName,O.attributeName,O.number,O.operator],color:"#79c0ff"},{tag:[O.keyword,O.typeName,O.typeOperator,O.typeName],color:"#ff7b72"},{tag:[O.string,O.meta,O.regexp],color:"#a5d6ff"},{tag:[O.name,O.quote],color:"#7ee787"},{tag:[O.heading,O.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[O.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[O.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[O.atom,O.bool,O.special(O.variableName)],color:"#ffab70"},{tag:O.link,textDecoration:"underline"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:O.invalid,color:"#f97583"}],sJ=t=>{var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},iJ,r),styles:[...oJ,...n]})};sJ();var at={background:"#272822",foreground:"#f8f8f2",selection:"#4a4a76",selectionMatch:"#4a4a76",cursor:"#f8f8f0",dropdownBackground:"#414339",activeLine:"#3e3d3257",matchingBracket:"#3e3d32",keyword:"#F92672",storage:"#F92672",variable:"#FD971F",parameter:"#FD971F",function:"#66D9EF",string:"#E6DB74",constant:"#AE81FF",type:"#66D9EF",class:"#A6E22E",number:"#AE81FF",comment:"#88846f",heading:"#A6E22E",invalid:"#F44747",regexp:"#E6DB74",tag:"#F92672"},lJ={background:at.background,foreground:at.foreground,caret:at.cursor,selection:at.selection,selectionMatch:at.selection,gutterBackground:at.background,gutterForeground:at.foreground,lineHighlight:at.activeLine},aJ=[{tag:O.keyword,color:at.keyword},{tag:[O.name,O.deleted,O.character,O.macroName],color:at.variable},{tag:[O.propertyName],color:at.function},{tag:[O.processingInstruction,O.string,O.inserted,O.special(O.string)],color:at.string},{tag:[O.function(O.variableName),O.labelName],color:at.function},{tag:[O.color,O.constant(O.name),O.standard(O.name)],color:at.constant},{tag:[O.definition(O.name),O.separator],color:at.variable},{tag:[O.className],color:at.class},{tag:[O.number,O.changed,O.annotation,O.modifier,O.self,O.namespace],color:at.number},{tag:[O.typeName],color:at.type,fontStyle:at.type},{tag:[O.operator,O.operatorKeyword],color:at.keyword},{tag:[O.url,O.escape,O.regexp,O.link],color:at.regexp},{tag:[O.meta,O.comment],color:at.comment},{tag:O.tagName,color:at.tag},{tag:O.strong,fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.link,textDecoration:"underline"},{tag:O.heading,fontWeight:"bold",color:at.heading},{tag:[O.atom,O.bool,O.special(O.variableName)],color:at.variable},{tag:O.invalid,color:at.invalid},{tag:O.strikethrough,textDecoration:"line-through"}],uJ=t=>{var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},lJ,r),styles:[...aJ,...n]})};uJ();var cJ={background:"#303841",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},fJ=[{tag:[O.meta,O.comment],color:"#A2A9B5"},{tag:[O.attributeName,O.keyword],color:"#B78FBA"},{tag:O.function(O.variableName),color:"#5AB0B0"},{tag:[O.string,O.regexp,O.attributeValue],color:"#99C592"},{tag:O.operator,color:"#f47954"},{tag:[O.tagName,O.modifier],color:"#E35F63"},{tag:[O.number,O.definition(O.tagName),O.className,O.definition(O.variableName)],color:"#fbac52"},{tag:[O.atom,O.bool,O.special(O.variableName)],color:"#E35F63"},{tag:O.variableName,color:"#539ac4"},{tag:[O.propertyName,O.typeName],color:"#629ccd"},{tag:O.propertyName,color:"#36b7b5"}];function hJ(t){var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},cJ,r),styles:[...fJ,...n]})}hJ();var dJ={background:"#ffffff",foreground:"#383a42",caret:"#000",selection:"#add6ff",selectionMatch:"#a8ac94",lineHighlight:"#f0f0f0",gutterBackground:"#fff",gutterForeground:"#237893",gutterActiveForeground:"#0b216f",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'},pJ=[{tag:[O.keyword,O.operatorKeyword,O.modifier,O.color,O.constant(O.name),O.standard(O.name),O.standard(O.tagName),O.special(O.brace),O.atom,O.bool,O.special(O.variableName)],color:"#0000ff"},{tag:[O.moduleKeyword,O.controlKeyword],color:"#af00db"},{tag:[O.name,O.deleted,O.character,O.macroName,O.propertyName,O.variableName,O.labelName,O.definition(O.name)],color:"#0070c1"},{tag:O.heading,fontWeight:"bold",color:"#0070c1"},{tag:[O.typeName,O.className,O.tagName,O.number,O.changed,O.annotation,O.self,O.namespace],color:"#267f99"},{tag:[O.function(O.variableName),O.function(O.propertyName)],color:"#795e26"},{tag:[O.number],color:"#098658"},{tag:[O.operator,O.punctuation,O.separator,O.url,O.escape,O.regexp],color:"#383a42"},{tag:[O.regexp],color:"#af00db"},{tag:[O.special(O.string),O.processingInstruction,O.string,O.inserted],color:"#a31515"},{tag:[O.angleBracket],color:"#383a42"},{tag:O.strong,fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:[O.meta,O.comment],color:"#008000"},{tag:O.link,color:"#4078f2",textDecoration:"underline"},{tag:O.invalid,color:"#e45649"}];function gJ(t){var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},dJ,r),styles:[...pJ,...n]})}gJ();var mJ={background:"#1e1e1e",foreground:"#9cdcfe",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'},vJ=[{tag:[O.keyword,O.operatorKeyword,O.modifier,O.color,O.constant(O.name),O.standard(O.name),O.standard(O.tagName),O.special(O.brace),O.atom,O.bool,O.special(O.variableName)],color:"#569cd6"},{tag:[O.controlKeyword,O.moduleKeyword],color:"#c586c0"},{tag:[O.name,O.deleted,O.character,O.macroName,O.propertyName,O.variableName,O.labelName,O.definition(O.name)],color:"#9cdcfe"},{tag:O.heading,fontWeight:"bold",color:"#9cdcfe"},{tag:[O.typeName,O.className,O.tagName,O.number,O.changed,O.annotation,O.self,O.namespace],color:"#4ec9b0"},{tag:[O.function(O.variableName),O.function(O.propertyName)],color:"#dcdcaa"},{tag:[O.number],color:"#b5cea8"},{tag:[O.operator,O.punctuation,O.separator,O.url,O.escape,O.regexp],color:"#d4d4d4"},{tag:[O.regexp],color:"#d16969"},{tag:[O.special(O.string),O.processingInstruction,O.string,O.inserted],color:"#ce9178"},{tag:[O.angleBracket],color:"#808080"},{tag:O.strong,fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:[O.meta,O.comment],color:"#6a9955"},{tag:O.link,color:"#6a9955",textDecoration:"underline"},{tag:O.invalid,color:"#ff0000"}];function yJ(t){var{theme:e="dark",settings:r={},styles:n=[]}={};return Xi({theme:e,settings:yr({},mJ,r),styles:[...vJ,...n]})}yJ();const Vi=Object.create(null);Vi.open="0";Vi.close="1";Vi.ping="2";Vi.pong="3";Vi.message="4";Vi.upgrade="5";Vi.noop="6";const op=Object.create(null);Object.keys(Vi).forEach(t=>{op[Vi[t]]=t});const aw={type:"error",data:"parser error"},yR=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wR=typeof ArrayBuffer=="function",xR=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,gb=({type:t,data:e},r,n)=>yR&&e instanceof Blob?r?n(e):XO(e,n):wR&&(e instanceof ArrayBuffer||xR(e))?r?n(e):XO(new Blob([e]),n):n(Vi[t]+(e||"")),XO=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function QO(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let K0;function wJ(t,e){if(yR&&t.data instanceof Blob)return t.data.arrayBuffer().then(QO).then(e);if(wR&&(t.data instanceof ArrayBuffer||xR(t.data)))return e(QO(t.data));gb(t,!1,r=>{K0||(K0=new TextEncoder),e(K0.encode(r))})}const JO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<JO.length;t++)Pc[JO.charCodeAt(t)]=t;const xJ=t=>{let e=t.length*.75,r=t.length,n,i=0,o,l,u,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),g=new Uint8Array(p);for(n=0;n<r;n+=4)o=Pc[t.charCodeAt(n)],l=Pc[t.charCodeAt(n+1)],u=Pc[t.charCodeAt(n+2)],c=Pc[t.charCodeAt(n+3)],g[i++]=o<<2|l>>4,g[i++]=(l&15)<<4|u>>2,g[i++]=(u&3)<<6|c&63;return p},bJ=typeof ArrayBuffer=="function",mb=(t,e)=>{if(typeof t!="string")return{type:"message",data:bR(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:SJ(t.substring(1),e)}:op[r]?t.length>1?{type:op[r],data:t.substring(1)}:{type:op[r]}:aw},SJ=(t,e)=>{if(bJ){const r=xJ(t);return bR(r,e)}else return{base64:!0,data:t}},bR=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},SR="",kJ=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,l)=>{gb(o,!1,u=>{n[l]=u,++i===r&&e(n.join(SR))})})},CJ=(t,e)=>{const r=t.split(SR),n=[];for(let i=0;i<r.length;i++){const o=mb(r[i],e);if(n.push(o),o.type==="error")break}return n};function TJ(){return new TransformStream({transform(t,e){wJ(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let q0;function Ed(t){return t.reduce((e,r)=>e+r.length,0)}function Ad(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function OJ(t,e){q0||(q0=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(l,u){for(r.push(l);;){if(n===0){if(Ed(r)<1)break;const c=Ad(r,1);o=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Ed(r)<2)break;const c=Ad(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Ed(r)<8)break;const c=Ad(r,8),p=new DataView(c.buffer,c.byteOffset,c.length),g=p.getUint32(0);if(g>Math.pow(2,21)-1){u.enqueue(aw);break}i=g*Math.pow(2,32)+p.getUint32(4),n=3}else{if(Ed(r)<i)break;const c=Ad(r,i);u.enqueue(mb(o?c:q0.decode(c),e)),n=0}if(i===0||i>t){u.enqueue(aw);break}}}})}const kR=4;function $t(t){if(t)return EJ(t)}function EJ(t){for(var e in $t.prototype)t[e]=$t.prototype[e];return t}$t.prototype.on=$t.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};$t.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};$t.prototype.off=$t.prototype.removeListener=$t.prototype.removeAllListeners=$t.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};$t.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};$t.prototype.emitReserved=$t.prototype.emit;$t.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};$t.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Bn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function CR(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const AJ=Bn.setTimeout,MJ=Bn.clearTimeout;function vm(t,e){e.useNativeTimers?(t.setTimeoutFn=AJ.bind(Bn),t.clearTimeoutFn=MJ.bind(Bn)):(t.setTimeoutFn=Bn.setTimeout.bind(Bn),t.clearTimeoutFn=Bn.clearTimeout.bind(Bn))}const LJ=1.33;function PJ(t){return typeof t=="string"?NJ(t):Math.ceil((t.byteLength||t.size)*LJ)}function NJ(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function DJ(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function RJ(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class IJ extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class vb extends $t{constructor(e){super(),this.writable=!1,vm(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new IJ(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=mb(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=DJ(e);return r.length?"?"+r:""}}const TR="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),uw=64,BJ={};let ZO=0,Md=0,eE;function tE(t){let e="";do e=TR[t%uw]+e,t=Math.floor(t/uw);while(t>0);return e}function OR(){const t=tE(+new Date);return t!==eE?(ZO=0,eE=t):t+"."+tE(ZO++)}for(;Md<uw;Md++)BJ[TR[Md]]=Md;let ER=!1;try{ER=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const _J=ER;function AR(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||_J))return new XMLHttpRequest}catch{}if(!e)try{return new Bn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function FJ(){}const $J=function(){return new AR({xdomain:!1}).responseType!=null}();class zJ extends vb{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const r=e&&e.forceBase64;this.supportsBinary=$J&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};CJ(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,kJ(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=OR()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Hi(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class Hi extends $t{constructor(e,r){super(),vm(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;const r=CR(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new AR(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Hi.requestsCount++,Hi.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=FJ,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Hi.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Hi.requestsCount=0;Hi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",rE);else if(typeof addEventListener=="function"){const t="onpagehide"in Bn?"pagehide":"unload";addEventListener(t,rE,!1)}}function rE(){for(let t in Hi.requests)Hi.requests.hasOwnProperty(t)&&Hi.requests[t].abort()}const yb=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Ld=Bn.WebSocket||Bn.MozWebSocket,nE=!0,WJ="arraybuffer",iE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jJ extends vb{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=iE?{}:CR(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=nE&&!iE?r?new Ld(e,r):new Ld(e):new Ld(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;gb(n,this.supportsBinary,o=>{const l={};try{nE&&this.ws.send(o)}catch{}i&&yb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=OR()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!Ld}}class HJ extends vb{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const r=OJ(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=TJ();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:u,value:c})=>{u||(this.onPacket(c),o())}).catch(u=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this.writer.write(n).then(()=>{i&&yb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const UJ={websocket:jJ,webtransport:HJ,polling:zJ},VJ=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,KJ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function cw(t){if(t.length>2e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=VJ.exec(t||""),o={},l=14;for(;l--;)o[KJ[l]]=i[l]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=qJ(o,o.path),o.queryKey=GJ(o,o.query),o}function qJ(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function GJ(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}let MR=class ya extends $t{constructor(e,r={}){super(),this.binaryType=WJ,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=cw(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=cw(r.host).host),vm(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=RJ(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=kR,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new UJ[e](n)}open(){let e;if(this.opts.rememberUpgrade&&ya.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;ya.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!n)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ya.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))};function o(){n||(n=!0,g(),r.close(),r=null)}const l=v=>{const y=new Error("probe error: "+v);y.transport=r.name,o(),this.emitReserved("upgradeError",y)};function u(){l("transport closed")}function c(){l("socket closed")}function p(v){r&&v.name!==r.name&&o()}const g=()=>{r.removeListener("open",i),r.removeListener("error",l),r.removeListener("close",u),this.off("close",c),this.off("upgrading",p)};r.once("open",i),r.once("error",l),r.once("close",u),this.once("close",c),this.once("upgrading",p),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",ya.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=PJ(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){ya.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};MR.protocol=kR;function YJ(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=cw(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const XJ=typeof ArrayBuffer=="function",QJ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,LR=Object.prototype.toString,JJ=typeof Blob=="function"||typeof Blob<"u"&&LR.call(Blob)==="[object BlobConstructor]",ZJ=typeof File=="function"||typeof File<"u"&&LR.call(File)==="[object FileConstructor]";function wb(t){return XJ&&(t instanceof ArrayBuffer||QJ(t))||JJ&&t instanceof Blob||ZJ&&t instanceof File}function sp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(sp(t[r]))return!0;return!1}if(wb(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return sp(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&sp(t[r]))return!0;return!1}function eZ(t){const e=[],r=t.data,n=t;return n.data=fw(r,e),n.attachments=e.length,{packet:n,buffers:e}}function fw(t,e){if(!t)return t;if(wb(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=fw(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=fw(t[n],e));return r}return t}function tZ(t,e){return t.data=hw(t.data,e),delete t.attachments,t}function hw(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=hw(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=hw(t[r],e));return t}const rZ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],nZ=5;var qe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(qe||(qe={}));class iZ{constructor(e){this.replacer=e}encode(e){return(e.type===qe.EVENT||e.type===qe.ACK)&&sp(e)?this.encodeAsBinary({type:e.type===qe.EVENT?qe.BINARY_EVENT:qe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===qe.BINARY_EVENT||e.type===qe.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=eZ(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function oE(t){return Object.prototype.toString.call(t)==="[object Object]"}class xb extends $t{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===qe.BINARY_EVENT;n||r.type===qe.BINARY_ACK?(r.type=n?qe.EVENT:qe.ACK,this.reconstructor=new oZ(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(wb(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(qe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===qe.BINARY_EVENT||n.type===qe.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const l=e.substring(o,r);if(l!=Number(l)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const l=e.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(xb.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case qe.CONNECT:return oE(r);case qe.DISCONNECT:return r===void 0;case qe.CONNECT_ERROR:return typeof r=="string"||oE(r);case qe.EVENT:case qe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&rZ.indexOf(r[0])===-1);case qe.ACK:case qe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class oZ{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=tZ(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sZ=Object.freeze(Object.defineProperty({__proto__:null,Decoder:xb,Encoder:iZ,get PacketType(){return qe},protocol:nZ},Symbol.toStringTag,{value:"Module"}));function ui(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const lZ=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class PR extends $t{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ui(e,"open",this.onopen.bind(this)),ui(e,"packet",this.onpacket.bind(this)),ui(e,"error",this.onerror.bind(this)),ui(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(lZ.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:qe.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const l=this.ids++,u=r.pop();this._registerAckCallback(l,u),n.id=l}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},i),l=(...u)=>{this.io.clearTimeoutFn(o),r.apply(this,u)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...r){return new Promise((n,i)=>{const o=(l,u)=>l?i(l):n(u);o.withError=!0,r.push(o),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:qe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case qe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qe.EVENT:case qe.BINARY_EVENT:this.onevent(e);break;case qe.ACK:case qe.BINARY_ACK:this.onack(e);break;case qe.DISCONNECT:this.ondisconnect();break;case qe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:qe.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function ku(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ku.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};ku.prototype.reset=function(){this.attempts=0};ku.prototype.setMin=function(t){this.ms=t};ku.prototype.setMax=function(t){this.max=t};ku.prototype.setJitter=function(t){this.jitter=t};class dw extends $t{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,vm(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ku({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||sZ;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new MR(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=ui(r,"open",function(){n.onopen(),e&&e()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},l=ui(r,"error",o);if(this._timeout!==!1){const u=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},u);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ui(e,"ping",this.onping.bind(this)),ui(e,"data",this.ondata.bind(this)),ui(e,"error",this.onerror.bind(this)),ui(e,"close",this.onclose.bind(this)),ui(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){yb(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new PR(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yc={};function lp(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=YJ(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,l=yc[i]&&o in yc[i].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let c;return u?c=new dw(n,e):(yc[i]||(yc[i]=new dw(n,e)),c=yc[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(lp,{Manager:dw,Socket:PR,io:lp,connect:lp});var aZ={VITE_APP_BACKEND_URL:"http://localhost:5000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const uZ=aZ.NODE_ENV==="production"?void 0:"http://localhost:5000",cZ=async()=>lp(uZ,{"force new connection":!0,reconnectionAttempt:"Infinity",timeout:1e5,transports:["websocket"]}),ao={JOIN:"join",JOINED:"joined",DISCONNECTED:"disconnected",CODE_CHANGE:"code-change",SYNC_CODE:"sync-code",LEAVE:"leave"};var G0={exports:{}},sE;function Ao(){return sE||(sE=1,function(t,e){(function(r,n){t.exports=n()})(wc,function(){var r=navigator.userAgent,n=navigator.platform,i=/gecko\/\d/i.test(r),o=/MSIE \d/.test(r),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),u=/Edge\/(\d+)/.exec(r),c=o||l||u,p=c&&(o?document.documentMode||6:+(u||l)[1]),g=!u&&/WebKit\//.test(r),v=g&&/Qt\/\d+\.\d+/.test(r),y=!u&&/Chrome\/(\d+)/.exec(r),x=y&&+y[1],T=/Opera\//.test(r),A=/Apple Computer/.test(navigator.vendor),P=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),C=/PhantomJS/.test(r),S=A&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),M=/Android/.test(r),N=S||M||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),D=S||/Mac/.test(n),W=/\bCrOS\b/.test(r),z=/win/i.test(n),H=T&&r.match(/Version\/(\d*\.\d*)/);H&&(H=Number(H[1])),H&&H>=15&&(T=!1,g=!0);var J=D&&(v||T&&(H==null||H<12.11)),ie=i||c&&p>=9;function de(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var ue=function(s,a){var h=s.className,f=de(a).exec(h);if(f){var d=h.slice(f.index+f[0].length);s.className=h.slice(0,f.index)+(d?f[1]+d:"")}};function K(s){for(var a=s.childNodes.length;a>0;--a)s.removeChild(s.firstChild);return s}function Z(s,a){return K(s).appendChild(a)}function _(s,a,h,f){var d=document.createElement(s);if(h&&(d.className=h),f&&(d.style.cssText=f),typeof a=="string")d.appendChild(document.createTextNode(a));else if(a)for(var m=0;m<a.length;++m)d.appendChild(a[m]);return d}function Q(s,a,h,f){var d=_(s,a,h,f);return d.setAttribute("role","presentation"),d}var ee;document.createRange?ee=function(s,a,h,f){var d=document.createRange();return d.setEnd(f||s,h),d.setStart(s,a),d}:ee=function(s,a,h){var f=document.body.createTextRange();try{f.moveToElementText(s.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",h),f.moveStart("character",a),f};function R(s,a){if(a.nodeType==3&&(a=a.parentNode),s.contains)return s.contains(a);do if(a.nodeType==11&&(a=a.host),a==s)return!0;while(a=a.parentNode)}function B(s){var a=s.ownerDocument||s,h;try{h=s.activeElement}catch{h=a.body||null}for(;h&&h.shadowRoot&&h.shadowRoot.activeElement;)h=h.shadowRoot.activeElement;return h}function V(s,a){var h=s.className;de(a).test(h)||(s.className+=(h?" ":"")+a)}function oe(s,a){for(var h=s.split(" "),f=0;f<h.length;f++)h[f]&&!de(h[f]).test(a)&&(a+=" "+h[f]);return a}var he=function(s){s.select()};S?he=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:c&&(he=function(s){try{s.select()}catch{}});function De(s){return s.display.wrapper.ownerDocument}function Ke(s){return Xe(s.display.wrapper)}function Xe(s){return s.getRootNode?s.getRootNode():s.ownerDocument}function Ce(s){return De(s).defaultView}function Me(s){var a=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,a)}}function Fe(s,a,h){a||(a={});for(var f in s)s.hasOwnProperty(f)&&(h!==!1||!a.hasOwnProperty(f))&&(a[f]=s[f]);return a}function je(s,a,h,f,d){a==null&&(a=s.search(/[^\s\u00a0]/),a==-1&&(a=s.length));for(var m=f||0,w=d||0;;){var b=s.indexOf("	",m);if(b<0||b>=a)return w+(a-m);w+=b-m,w+=h-w%h,m=b+1}}var An=function(){this.id=null,this.f=null,this.time=0,this.handler=Me(this.onTimeout,this)};An.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},An.prototype.set=function(s,a){this.f=a;var h=+new Date+s;(!this.id||h<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=h)};function _e(s,a){for(var h=0;h<s.length;++h)if(s[h]==a)return h;return-1}var Zt=50,Yn={toString:function(){return"CodeMirror.Pass"}},Pr={scroll:!1},Mn={origin:"*mouse"},Nr={origin:"+move"};function hn(s,a,h){for(var f=0,d=0;;){var m=s.indexOf("	",f);m==-1&&(m=s.length);var w=m-f;if(m==s.length||d+w>=a)return f+Math.min(w,a-d);if(d+=m-f,d+=h-d%h,f=m+1,d>=a)return f}}var Ln=[""];function Mo(s){for(;Ln.length<=s;)Ln.push(Ie(Ln)+" ");return Ln[s]}function Ie(s){return s[s.length-1]}function Xn(s,a){for(var h=[],f=0;f<s.length;f++)h[f]=a(s[f],f);return h}function Rl(s,a,h){for(var f=0,d=h(a);f<s.length&&h(s[f])<=d;)f++;s.splice(f,0,a)}function Il(){}function Ws(s,a){var h;return Object.create?h=Object.create(s):(Il.prototype=s,h=new Il),a&&Fe(a,h),h}var Bl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Le(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Bl.test(s))}function Ne(s,a){return a?a.source.indexOf("\\w")>-1&&Le(s)?!0:a.test(s):Le(s)}function Te(s){for(var a in s)if(s.hasOwnProperty(a)&&s[a])return!1;return!0}var He=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function $e(s){return s.charCodeAt(0)>=768&&He.test(s)}function Yr(s,a,h){for(;(h<0?a>0:a<s.length)&&$e(s.charAt(a));)a+=h;return a}function Pn(s,a,h){for(var f=a>h?-1:1;;){if(a==h)return a;var d=(a+h)/2,m=f<0?Math.ceil(d):Math.floor(d);if(m==a)return s(m)?a:h;s(m)?h=m:a=m+f}}function Lo(s,a,h,f){if(!s)return f(a,h,"ltr",0);for(var d=!1,m=0;m<s.length;++m){var w=s[m];(w.from<h&&w.to>a||a==h&&w.to==a)&&(f(Math.max(w.from,a),Math.min(w.to,h),w.level==1?"rtl":"ltr",m),d=!0)}d||f(a,h,"ltr")}var js=null;function Po(s,a,h){var f;js=null;for(var d=0;d<s.length;++d){var m=s[d];if(m.from<a&&m.to>a)return d;m.to==a&&(m.from!=m.to&&h=="before"?f=d:js=d),m.from==a&&(m.from!=m.to&&h!="before"?f=d:js=d)}return f??js}var ym=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function h(E){return E<=247?s.charAt(E):1424<=E&&E<=1524?"R":1536<=E&&E<=1785?a.charAt(E-1536):1774<=E&&E<=2220?"r":8192<=E&&E<=8203?"w":E==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,m=/[LRr]/,w=/[Lb1n]/,b=/[1n]/;function k(E,I,$){this.level=E,this.from=I,this.to=$}return function(E,I){var $=I=="ltr"?"L":"R";if(E.length==0||I=="ltr"&&!f.test(E))return!1;for(var U=E.length,j=[],G=0;G<U;++G)j.push(h(E.charCodeAt(G)));for(var te=0,le=$;te<U;++te){var ce=j[te];ce=="m"?j[te]=le:le=ce}for(var ge=0,fe=$;ge<U;++ge){var we=j[ge];we=="1"&&fe=="r"?j[ge]="n":m.test(we)&&(fe=we,we=="r"&&(j[ge]="R"))}for(var Ae=1,Oe=j[0];Ae<U-1;++Ae){var ze=j[Ae];ze=="+"&&Oe=="1"&&j[Ae+1]=="1"?j[Ae]="1":ze==","&&Oe==j[Ae+1]&&(Oe=="1"||Oe=="n")&&(j[Ae]=Oe),Oe=ze}for(var it=0;it<U;++it){var Kt=j[it];if(Kt==",")j[it]="N";else if(Kt=="%"){var mt=void 0;for(mt=it+1;mt<U&&j[mt]=="%";++mt);for(var Jr=it&&j[it-1]=="!"||mt<U&&j[mt]=="1"?"1":"N",_r=it;_r<mt;++_r)j[_r]=Jr;it=mt-1}}for(var At=0,Fr=$;At<U;++At){var er=j[At];Fr=="L"&&er=="1"?j[At]="L":m.test(er)&&(Fr=er)}for(var Bt=0;Bt<U;++Bt)if(d.test(j[Bt])){var Mt=void 0;for(Mt=Bt+1;Mt<U&&d.test(j[Mt]);++Mt);for(var St=(Bt?j[Bt-1]:$)=="L",$r=(Mt<U?j[Mt]:$)=="L",aa=St==$r?St?"L":"R":$,Uo=Bt;Uo<Mt;++Uo)j[Uo]=aa;Bt=Mt-1}for(var lr=[],Ti,qt=0;qt<U;)if(w.test(j[qt])){var hv=qt;for(++qt;qt<U&&w.test(j[qt]);++qt);lr.push(new k(0,hv,qt))}else{var io=qt,Js=lr.length,Zs=I=="rtl"?1:0;for(++qt;qt<U&&j[qt]!="L";++qt);for(var br=io;br<qt;)if(b.test(j[br])){io<br&&(lr.splice(Js,0,new k(1,io,br)),Js+=Zs);var ua=br;for(++br;br<qt&&b.test(j[br]);++br);lr.splice(Js,0,new k(2,ua,br)),Js+=Zs,io=br}else++br;io<qt&&lr.splice(Js,0,new k(1,io,qt))}return I=="ltr"&&(lr[0].level==1&&(Ti=E.match(/^\s+/))&&(lr[0].from=Ti[0].length,lr.unshift(new k(0,0,Ti[0].length))),Ie(lr).level==1&&(Ti=E.match(/\s+$/))&&(Ie(lr).to-=Ti[0].length,lr.push(new k(0,U-Ti[0].length,U)))),I=="rtl"?lr.reverse():lr}}();function Ue(s,a){var h=s.order;return h==null&&(h=s.order=ym(s.text,a)),h}var rh=[],Ee=function(s,a,h){if(s.addEventListener)s.addEventListener(a,h,!1);else if(s.attachEvent)s.attachEvent("on"+a,h);else{var f=s._handlers||(s._handlers={});f[a]=(f[a]||rh).concat(h)}};function Qi(s,a){return s._handlers&&s._handlers[a]||rh}function ir(s,a,h){if(s.removeEventListener)s.removeEventListener(a,h,!1);else if(s.detachEvent)s.detachEvent("on"+a,h);else{var f=s._handlers,d=f&&f[a];if(d){var m=_e(d,h);m>-1&&(f[a]=d.slice(0,m).concat(d.slice(m+1)))}}}function wt(s,a){var h=Qi(s,a);if(h.length)for(var f=Array.prototype.slice.call(arguments,2),d=0;d<h.length;++d)h[d].apply(null,f)}function xt(s,a,h){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),wt(s,h||a.type,s,a),Dr(a)||a.codemirrorIgnore}function Nn(s){var a=s._handlers&&s._handlers.cursorActivity;if(a)for(var h=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),f=0;f<a.length;++f)_e(h,a[f])==-1&&h.push(a[f])}function Xr(s,a){return Qi(s,a).length>0}function Qn(s){s.prototype.on=function(a,h){Ee(this,a,h)},s.prototype.off=function(a,h){ir(this,a,h)}}function or(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function _l(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function Dr(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function No(s){or(s),_l(s)}function Cu(s){return s.target||s.srcElement}function Jn(s){var a=s.which;return a==null&&(s.button&1?a=1:s.button&2?a=3:s.button&4&&(a=2)),D&&s.ctrlKey&&a==1&&(a=3),a}var wm=function(){if(c&&p<9)return!1;var s=_("div");return"draggable"in s||"dragDrop"in s}(),Fl;function nh(s){if(Fl==null){var a=_("span","​");Z(s,_("span",[a,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(Fl=a.offsetWidth<=1&&a.offsetHeight>2&&!(c&&p<8))}var h=Fl?_("span","​"):_("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}var Tu;function Do(s){if(Tu!=null)return Tu;var a=Z(s,document.createTextNode("AخA")),h=ee(a,0,1).getBoundingClientRect(),f=ee(a,1,2).getBoundingClientRect();return K(s),!h||h.left==h.right?!1:Tu=f.right-h.right<3}var Dn=`

b`.split(/\n/).length!=3?function(s){for(var a=0,h=[],f=s.length;a<=f;){var d=s.indexOf(`
`,a);d==-1&&(d=s.length);var m=s.slice(a,s.charAt(d-1)=="\r"?d-1:d),w=m.indexOf("\r");w!=-1?(h.push(m.slice(0,w)),a+=w+1):(h.push(m),a=d+1)}return h}:function(s){return s.split(/\r\n?|\n/)},Ro=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var a;try{a=s.ownerDocument.selection.createRange()}catch{}return!a||a.parentElement()!=s?!1:a.compareEndPoints("StartToEnd",a)!=0},ih=function(){var s=_("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),Zn=null;function xm(s){if(Zn!=null)return Zn;var a=Z(s,_("span","x")),h=a.getBoundingClientRect(),f=ee(a,0,1).getBoundingClientRect();return Zn=Math.abs(h.left-f.left)>1}var $l={},ei={};function ti(s,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),$l[s]=a}function Hs(s,a){ei[s]=a}function zl(s){if(typeof s=="string"&&ei.hasOwnProperty(s))s=ei[s];else if(s&&typeof s.name=="string"&&ei.hasOwnProperty(s.name)){var a=ei[s.name];typeof a=="string"&&(a={name:a}),s=Ws(a,s),s.name=a.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return zl("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return zl("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function Wl(s,a){a=zl(a);var h=$l[a.name];if(!h)return Wl(s,"text/plain");var f=h(s,a);if(Io.hasOwnProperty(a.name)){var d=Io[a.name];for(var m in d)d.hasOwnProperty(m)&&(f.hasOwnProperty(m)&&(f["_"+m]=f[m]),f[m]=d[m])}if(f.name=a.name,a.helperType&&(f.helperType=a.helperType),a.modeProps)for(var w in a.modeProps)f[w]=a.modeProps[w];return f}var Io={};function jl(s,a){var h=Io.hasOwnProperty(s)?Io[s]:Io[s]={};Fe(a,h)}function bi(s,a){if(a===!0)return a;if(s.copyState)return s.copyState(a);var h={};for(var f in a){var d=a[f];d instanceof Array&&(d=d.concat([])),h[f]=d}return h}function Ou(s,a){for(var h;s.innerMode&&(h=s.innerMode(a),!(!h||h.mode==s));)a=h.state,s=h.mode;return h||{mode:s,state:a}}function Hl(s,a,h){return s.startState?s.startState(a,h):!0}var bt=function(s,a,h){this.pos=this.start=0,this.string=s,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=h};bt.prototype.eol=function(){return this.pos>=this.string.length},bt.prototype.sol=function(){return this.pos==this.lineStart},bt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},bt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},bt.prototype.eat=function(s){var a=this.string.charAt(this.pos),h;if(typeof s=="string"?h=a==s:h=a&&(s.test?s.test(a):s(a)),h)return++this.pos,a},bt.prototype.eatWhile=function(s){for(var a=this.pos;this.eat(s););return this.pos>a},bt.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},bt.prototype.skipToEnd=function(){this.pos=this.string.length},bt.prototype.skipTo=function(s){var a=this.string.indexOf(s,this.pos);if(a>-1)return this.pos=a,!0},bt.prototype.backUp=function(s){this.pos-=s},bt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},bt.prototype.indentation=function(){return je(this.string,null,this.tabSize)-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},bt.prototype.match=function(s,a,h){if(typeof s=="string"){var f=function(w){return h?w.toLowerCase():w},d=this.string.substr(this.pos,s.length);if(f(d)==f(s))return a!==!1&&(this.pos+=s.length),!0}else{var m=this.string.slice(this.pos).match(s);return m&&m.index>0?null:(m&&a!==!1&&(this.pos+=m[0].length),m)}},bt.prototype.current=function(){return this.string.slice(this.start,this.pos)},bt.prototype.hideFirstChars=function(s,a){this.lineStart+=s;try{return a()}finally{this.lineStart-=s}},bt.prototype.lookAhead=function(s){var a=this.lineOracle;return a&&a.lookAhead(s)},bt.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function ke(s,a){if(a-=s.first,a<0||a>=s.size)throw new Error("There is no line "+(a+s.first)+" in the document.");for(var h=s;!h.lines;)for(var f=0;;++f){var d=h.children[f],m=d.chunkSize();if(a<m){h=d;break}a-=m}return h.lines[a]}function Ji(s,a,h){var f=[],d=a.line;return s.iter(a.line,h.line+1,function(m){var w=m.text;d==h.line&&(w=w.slice(0,h.ch)),d==a.line&&(w=w.slice(a.ch)),f.push(w),++d}),f}function Eu(s,a,h){var f=[];return s.iter(a,h,function(d){f.push(d.text)}),f}function dn(s,a){var h=a-s.height;if(h)for(var f=s;f;f=f.parent)f.height+=h}function L(s){if(s.parent==null)return null;for(var a=s.parent,h=_e(a.lines,s),f=a.parent;f;a=f,f=f.parent)for(var d=0;f.children[d]!=a;++d)h+=f.children[d].chunkSize();return h+a.first}function F(s,a){var h=s.first;e:do{for(var f=0;f<s.children.length;++f){var d=s.children[f],m=d.height;if(a<m){s=d;continue e}a-=m,h+=d.chunkSize()}return h}while(!s.lines);for(var w=0;w<s.lines.length;++w){var b=s.lines[w],k=b.height;if(a<k)break;a-=k}return h+w}function X(s,a){return a>=s.first&&a<s.first+s.size}function se(s,a){return String(s.lineNumberFormatter(a+s.firstLineNumber))}function q(s,a,h){if(h===void 0&&(h=null),!(this instanceof q))return new q(s,a,h);this.line=s,this.ch=a,this.sticky=h}function pe(s,a){return s.line-a.line||s.ch-a.ch}function Ze(s,a){return s.sticky==a.sticky&&pe(s,a)==0}function jt(s){return q(s.line,s.ch)}function Rr(s,a){return pe(s,a)<0?a:s}function Ul(s,a){return pe(s,a)<0?s:a}function bb(s,a){return Math.max(s.first,Math.min(a,s.first+s.size-1))}function Be(s,a){if(a.line<s.first)return q(s.first,0);var h=s.first+s.size-1;return a.line>h?q(h,ke(s,h).text.length):DR(a,ke(s,a.line).text.length)}function DR(s,a){var h=s.ch;return h==null||h>a?q(s.line,a):h<0?q(s.line,0):s}function Sb(s,a){for(var h=[],f=0;f<a.length;f++)h[f]=Be(s,a[f]);return h}var oh=function(s,a){this.state=s,this.lookAhead=a},Si=function(s,a,h,f){this.state=a,this.doc=s,this.line=h,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};Si.prototype.lookAhead=function(s){var a=this.doc.getLine(this.line+s);return a!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),a},Si.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},Si.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Si.fromSaved=function(s,a,h){return a instanceof oh?new Si(s,bi(s.mode,a.state),h,a.lookAhead):new Si(s,bi(s.mode,a),h)},Si.prototype.save=function(s){var a=s!==!1?bi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new oh(a,this.maxLookAhead):a};function kb(s,a,h,f){var d=[s.state.modeGen],m={};Mb(s,a.text,s.doc.mode,h,function(E,I){return d.push(E,I)},m,f);for(var w=h.state,b=function(E){h.baseTokens=d;var I=s.state.overlays[E],$=1,U=0;h.state=!0,Mb(s,a.text,I.mode,h,function(j,G){for(var te=$;U<j;){var le=d[$];le>j&&d.splice($,1,j,d[$+1],le),$+=2,U=Math.min(j,le)}if(G)if(I.opaque)d.splice(te,$-te,j,"overlay "+G),$=te+2;else for(;te<$;te+=2){var ce=d[te+1];d[te+1]=(ce?ce+" ":"")+"overlay "+G}},m),h.state=w,h.baseTokens=null,h.baseTokenPos=1},k=0;k<s.state.overlays.length;++k)b(k);return{styles:d,classes:m.bgClass||m.textClass?m:null}}function Cb(s,a,h){if(!a.styles||a.styles[0]!=s.state.modeGen){var f=Au(s,L(a)),d=a.text.length>s.options.maxHighlightLength&&bi(s.doc.mode,f.state),m=kb(s,a,f);d&&(f.state=d),a.stateAfter=f.save(!d),a.styles=m.styles,m.classes?a.styleClasses=m.classes:a.styleClasses&&(a.styleClasses=null),h===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return a.styles}function Au(s,a,h){var f=s.doc,d=s.display;if(!f.mode.startState)return new Si(f,!0,a);var m=RR(s,a,h),w=m>f.first&&ke(f,m-1).stateAfter,b=w?Si.fromSaved(f,w,m):new Si(f,Hl(f.mode),m);return f.iter(m,a,function(k){bm(s,k.text,b);var E=b.line;k.stateAfter=E==a-1||E%5==0||E>=d.viewFrom&&E<d.viewTo?b.save():null,b.nextLine()}),h&&(f.modeFrontier=b.line),b}function bm(s,a,h,f){var d=s.doc.mode,m=new bt(a,s.options.tabSize,h);for(m.start=m.pos=f||0,a==""&&Tb(d,h.state);!m.eol();)Sm(d,m,h.state),m.start=m.pos}function Tb(s,a){if(s.blankLine)return s.blankLine(a);if(s.innerMode){var h=Ou(s,a);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function Sm(s,a,h,f){for(var d=0;d<10;d++){f&&(f[0]=Ou(s,h).mode);var m=s.token(a,h);if(a.pos>a.start)return m}throw new Error("Mode "+s.name+" failed to advance stream.")}var Ob=function(s,a,h){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=a||null,this.state=h};function Eb(s,a,h,f){var d=s.doc,m=d.mode,w;a=Be(d,a);var b=ke(d,a.line),k=Au(s,a.line,h),E=new bt(b.text,s.options.tabSize,k),I;for(f&&(I=[]);(f||E.pos<a.ch)&&!E.eol();)E.start=E.pos,w=Sm(m,E,k.state),f&&I.push(new Ob(E,w,bi(d.mode,k.state)));return f?I:new Ob(E,w,k.state)}function Ab(s,a){if(s)for(;;){var h=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;s=s.slice(0,h.index)+s.slice(h.index+h[0].length);var f=h[1]?"bgClass":"textClass";a[f]==null?a[f]=h[2]:new RegExp("(?:^|\\s)"+h[2]+"(?:$|\\s)").test(a[f])||(a[f]+=" "+h[2])}return s}function Mb(s,a,h,f,d,m,w){var b=h.flattenSpans;b==null&&(b=s.options.flattenSpans);var k=0,E=null,I=new bt(a,s.options.tabSize,f),$,U=s.options.addModeClass&&[null];for(a==""&&Ab(Tb(h,f.state),m);!I.eol();){if(I.pos>s.options.maxHighlightLength?(b=!1,w&&bm(s,a,f,I.pos),I.pos=a.length,$=null):$=Ab(Sm(h,I,f.state,U),m),U){var j=U[0].name;j&&($="m-"+($?j+" "+$:j))}if(!b||E!=$){for(;k<I.start;)k=Math.min(I.start,k+5e3),d(k,E);E=$}I.start=I.pos}for(;k<I.pos;){var G=Math.min(I.pos,k+5e3);d(G,E),k=G}}function RR(s,a,h){for(var f,d,m=s.doc,w=h?-1:a-(s.doc.mode.innerMode?1e3:100),b=a;b>w;--b){if(b<=m.first)return m.first;var k=ke(m,b-1),E=k.stateAfter;if(E&&(!h||b+(E instanceof oh?E.lookAhead:0)<=m.modeFrontier))return b;var I=je(k.text,null,s.options.tabSize);(d==null||f>I)&&(d=b-1,f=I)}return d}function IR(s,a){if(s.modeFrontier=Math.min(s.modeFrontier,a),!(s.highlightFrontier<a-10)){for(var h=s.first,f=a-1;f>h;f--){var d=ke(s,f).stateAfter;if(d&&(!(d instanceof oh)||f+d.lookAhead<a)){h=f+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,h)}}var Lb=!1,Zi=!1;function BR(){Lb=!0}function _R(){Zi=!0}function sh(s,a,h){this.marker=s,this.from=a,this.to=h}function Mu(s,a){if(s)for(var h=0;h<s.length;++h){var f=s[h];if(f.marker==a)return f}}function FR(s,a){for(var h,f=0;f<s.length;++f)s[f]!=a&&(h||(h=[])).push(s[f]);return h}function $R(s,a,h){var f=h&&window.WeakSet&&(h.markedSpans||(h.markedSpans=new WeakSet));f&&s.markedSpans&&f.has(s.markedSpans)?s.markedSpans.push(a):(s.markedSpans=s.markedSpans?s.markedSpans.concat([a]):[a],f&&f.add(s.markedSpans)),a.marker.attachLine(s)}function zR(s,a,h){var f;if(s)for(var d=0;d<s.length;++d){var m=s[d],w=m.marker,b=m.from==null||(w.inclusiveLeft?m.from<=a:m.from<a);if(b||m.from==a&&w.type=="bookmark"&&(!h||!m.marker.insertLeft)){var k=m.to==null||(w.inclusiveRight?m.to>=a:m.to>a);(f||(f=[])).push(new sh(w,m.from,k?null:m.to))}}return f}function WR(s,a,h){var f;if(s)for(var d=0;d<s.length;++d){var m=s[d],w=m.marker,b=m.to==null||(w.inclusiveRight?m.to>=a:m.to>a);if(b||m.from==a&&w.type=="bookmark"&&(!h||m.marker.insertLeft)){var k=m.from==null||(w.inclusiveLeft?m.from<=a:m.from<a);(f||(f=[])).push(new sh(w,k?null:m.from-a,m.to==null?null:m.to-a))}}return f}function km(s,a){if(a.full)return null;var h=X(s,a.from.line)&&ke(s,a.from.line).markedSpans,f=X(s,a.to.line)&&ke(s,a.to.line).markedSpans;if(!h&&!f)return null;var d=a.from.ch,m=a.to.ch,w=pe(a.from,a.to)==0,b=zR(h,d,w),k=WR(f,m,w),E=a.text.length==1,I=Ie(a.text).length+(E?d:0);if(b)for(var $=0;$<b.length;++$){var U=b[$];if(U.to==null){var j=Mu(k,U.marker);j?E&&(U.to=j.to==null?null:j.to+I):U.to=d}}if(k)for(var G=0;G<k.length;++G){var te=k[G];if(te.to!=null&&(te.to+=I),te.from==null){var le=Mu(b,te.marker);le||(te.from=I,E&&(b||(b=[])).push(te))}else te.from+=I,E&&(b||(b=[])).push(te)}b&&(b=Pb(b)),k&&k!=b&&(k=Pb(k));var ce=[b];if(!E){var ge=a.text.length-2,fe;if(ge>0&&b)for(var we=0;we<b.length;++we)b[we].to==null&&(fe||(fe=[])).push(new sh(b[we].marker,null,null));for(var Ae=0;Ae<ge;++Ae)ce.push(fe);ce.push(k)}return ce}function Pb(s){for(var a=0;a<s.length;++a){var h=s[a];h.from!=null&&h.from==h.to&&h.marker.clearWhenEmpty!==!1&&s.splice(a--,1)}return s.length?s:null}function jR(s,a,h){var f=null;if(s.iter(a.line,h.line+1,function(j){if(j.markedSpans)for(var G=0;G<j.markedSpans.length;++G){var te=j.markedSpans[G].marker;te.readOnly&&(!f||_e(f,te)==-1)&&(f||(f=[])).push(te)}}),!f)return null;for(var d=[{from:a,to:h}],m=0;m<f.length;++m)for(var w=f[m],b=w.find(0),k=0;k<d.length;++k){var E=d[k];if(!(pe(E.to,b.from)<0||pe(E.from,b.to)>0)){var I=[k,1],$=pe(E.from,b.from),U=pe(E.to,b.to);($<0||!w.inclusiveLeft&&!$)&&I.push({from:E.from,to:b.from}),(U>0||!w.inclusiveRight&&!U)&&I.push({from:b.to,to:E.to}),d.splice.apply(d,I),k+=I.length-3}}return d}function Nb(s){var a=s.markedSpans;if(a){for(var h=0;h<a.length;++h)a[h].marker.detachLine(s);s.markedSpans=null}}function Db(s,a){if(a){for(var h=0;h<a.length;++h)a[h].marker.attachLine(s);s.markedSpans=a}}function lh(s){return s.inclusiveLeft?-1:0}function ah(s){return s.inclusiveRight?1:0}function Cm(s,a){var h=s.lines.length-a.lines.length;if(h!=0)return h;var f=s.find(),d=a.find(),m=pe(f.from,d.from)||lh(s)-lh(a);if(m)return-m;var w=pe(f.to,d.to)||ah(s)-ah(a);return w||a.id-s.id}function Rb(s,a){var h=Zi&&s.markedSpans,f;if(h)for(var d=void 0,m=0;m<h.length;++m)d=h[m],d.marker.collapsed&&(a?d.from:d.to)==null&&(!f||Cm(f,d.marker)<0)&&(f=d.marker);return f}function Ib(s){return Rb(s,!0)}function uh(s){return Rb(s,!1)}function HR(s,a){var h=Zi&&s.markedSpans,f;if(h)for(var d=0;d<h.length;++d){var m=h[d];m.marker.collapsed&&(m.from==null||m.from<a)&&(m.to==null||m.to>a)&&(!f||Cm(f,m.marker)<0)&&(f=m.marker)}return f}function Bb(s,a,h,f,d){var m=ke(s,a),w=Zi&&m.markedSpans;if(w)for(var b=0;b<w.length;++b){var k=w[b];if(k.marker.collapsed){var E=k.marker.find(0),I=pe(E.from,h)||lh(k.marker)-lh(d),$=pe(E.to,f)||ah(k.marker)-ah(d);if(!(I>=0&&$<=0||I<=0&&$>=0)&&(I<=0&&(k.marker.inclusiveRight&&d.inclusiveLeft?pe(E.to,h)>=0:pe(E.to,h)>0)||I>=0&&(k.marker.inclusiveRight&&d.inclusiveLeft?pe(E.from,f)<=0:pe(E.from,f)<0)))return!0}}}function ri(s){for(var a;a=Ib(s);)s=a.find(-1,!0).line;return s}function UR(s){for(var a;a=uh(s);)s=a.find(1,!0).line;return s}function VR(s){for(var a,h;a=uh(s);)s=a.find(1,!0).line,(h||(h=[])).push(s);return h}function Tm(s,a){var h=ke(s,a),f=ri(h);return h==f?a:L(f)}function _b(s,a){if(a>s.lastLine())return a;var h=ke(s,a),f;if(!Bo(s,h))return a;for(;f=uh(h);)h=f.find(1,!0).line;return L(h)+1}function Bo(s,a){var h=Zi&&a.markedSpans;if(h){for(var f=void 0,d=0;d<h.length;++d)if(f=h[d],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&Om(s,a,f))return!0}}}function Om(s,a,h){if(h.to==null){var f=h.marker.find(1,!0);return Om(s,f.line,Mu(f.line.markedSpans,h.marker))}if(h.marker.inclusiveRight&&h.to==a.text.length)return!0;for(var d=void 0,m=0;m<a.markedSpans.length;++m)if(d=a.markedSpans[m],d.marker.collapsed&&!d.marker.widgetNode&&d.from==h.to&&(d.to==null||d.to!=h.from)&&(d.marker.inclusiveLeft||h.marker.inclusiveRight)&&Om(s,a,d))return!0}function eo(s){s=ri(s);for(var a=0,h=s.parent,f=0;f<h.lines.length;++f){var d=h.lines[f];if(d==s)break;a+=d.height}for(var m=h.parent;m;h=m,m=h.parent)for(var w=0;w<m.children.length;++w){var b=m.children[w];if(b==h)break;a+=b.height}return a}function ch(s){if(s.height==0)return 0;for(var a=s.text.length,h,f=s;h=Ib(f);){var d=h.find(0,!0);f=d.from.line,a+=d.from.ch-d.to.ch}for(f=s;h=uh(f);){var m=h.find(0,!0);a-=f.text.length-m.from.ch,f=m.to.line,a+=f.text.length-m.to.ch}return a}function Em(s){var a=s.display,h=s.doc;a.maxLine=ke(h,h.first),a.maxLineLength=ch(a.maxLine),a.maxLineChanged=!0,h.iter(function(f){var d=ch(f);d>a.maxLineLength&&(a.maxLineLength=d,a.maxLine=f)})}var Vl=function(s,a,h){this.text=s,Db(this,a),this.height=h?h(this):1};Vl.prototype.lineNo=function(){return L(this)},Qn(Vl);function KR(s,a,h,f){s.text=a,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),Nb(s),Db(s,h);var d=f?f(s):1;d!=s.height&&dn(s,d)}function qR(s){s.parent=null,Nb(s)}var GR={},YR={};function Fb(s,a){if(!s||/^\s*$/.test(s))return null;var h=a.addModeClass?YR:GR;return h[s]||(h[s]=s.replace(/\S+/g,"cm-$&"))}function $b(s,a){var h=Q("span",null,null,g?"padding-right: .1px":null),f={pre:Q("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};a.measure={};for(var d=0;d<=(a.rest?a.rest.length:0);d++){var m=d?a.rest[d-1]:a.line,w=void 0;f.pos=0,f.addToken=QR,Do(s.display.measure)&&(w=Ue(m,s.doc.direction))&&(f.addToken=ZR(f.addToken,w)),f.map=[];var b=a!=s.display.externalMeasured&&L(m);eI(m,f,Cb(s,m,b)),m.styleClasses&&(m.styleClasses.bgClass&&(f.bgClass=oe(m.styleClasses.bgClass,f.bgClass||"")),m.styleClasses.textClass&&(f.textClass=oe(m.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(nh(s.display.measure))),d==0?(a.measure.map=f.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(f.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(g){var k=f.content.lastChild;(/\bcm-tab\b/.test(k.className)||k.querySelector&&k.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return wt(s,"renderLine",s,a.line,f.pre),f.pre.className&&(f.textClass=oe(f.pre.className,f.textClass||"")),f}function XR(s){var a=_("span","•","cm-invalidchar");return a.title="\\u"+s.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function QR(s,a,h,f,d,m,w){if(a){var b=s.splitSpaces?JR(a,s.trailingSpace):a,k=s.cm.state.specialChars,E=!1,I;if(!k.test(a))s.col+=a.length,I=document.createTextNode(b),s.map.push(s.pos,s.pos+a.length,I),c&&p<9&&(E=!0),s.pos+=a.length;else{I=document.createDocumentFragment();for(var $=0;;){k.lastIndex=$;var U=k.exec(a),j=U?U.index-$:a.length-$;if(j){var G=document.createTextNode(b.slice($,$+j));c&&p<9?I.appendChild(_("span",[G])):I.appendChild(G),s.map.push(s.pos,s.pos+j,G),s.col+=j,s.pos+=j}if(!U)break;$+=j+1;var te=void 0;if(U[0]=="	"){var le=s.cm.options.tabSize,ce=le-s.col%le;te=I.appendChild(_("span",Mo(ce),"cm-tab")),te.setAttribute("role","presentation"),te.setAttribute("cm-text","	"),s.col+=ce}else U[0]=="\r"||U[0]==`
`?(te=I.appendChild(_("span",U[0]=="\r"?"␍":"␤","cm-invalidchar")),te.setAttribute("cm-text",U[0]),s.col+=1):(te=s.cm.options.specialCharPlaceholder(U[0]),te.setAttribute("cm-text",U[0]),c&&p<9?I.appendChild(_("span",[te])):I.appendChild(te),s.col+=1);s.map.push(s.pos,s.pos+1,te),s.pos++}}if(s.trailingSpace=b.charCodeAt(a.length-1)==32,h||f||d||E||m||w){var ge=h||"";f&&(ge+=f),d&&(ge+=d);var fe=_("span",[I],ge,m);if(w)for(var we in w)w.hasOwnProperty(we)&&we!="style"&&we!="class"&&fe.setAttribute(we,w[we]);return s.content.appendChild(fe)}s.content.appendChild(I)}}function JR(s,a){if(s.length>1&&!/  /.test(s))return s;for(var h=a,f="",d=0;d<s.length;d++){var m=s.charAt(d);m==" "&&h&&(d==s.length-1||s.charCodeAt(d+1)==32)&&(m=" "),f+=m,h=m==" "}return f}function ZR(s,a){return function(h,f,d,m,w,b,k){d=d?d+" cm-force-border":"cm-force-border";for(var E=h.pos,I=E+f.length;;){for(var $=void 0,U=0;U<a.length&&($=a[U],!($.to>E&&$.from<=E));U++);if($.to>=I)return s(h,f,d,m,w,b,k);s(h,f.slice(0,$.to-E),d,m,null,b,k),m=null,f=f.slice($.to-E),E=$.to}}}function zb(s,a,h,f){var d=!f&&h.widgetNode;d&&s.map.push(s.pos,s.pos+a,d),!f&&s.cm.display.input.needsContentAttribute&&(d||(d=s.content.appendChild(document.createElement("span"))),d.setAttribute("cm-marker",h.id)),d&&(s.cm.display.input.setUneditable(d),s.content.appendChild(d)),s.pos+=a,s.trailingSpace=!1}function eI(s,a,h){var f=s.markedSpans,d=s.text,m=0;if(!f){for(var w=1;w<h.length;w+=2)a.addToken(a,d.slice(m,m=h[w]),Fb(h[w+1],a.cm.options));return}for(var b=d.length,k=0,E=1,I="",$,U,j=0,G,te,le,ce,ge;;){if(j==k){G=te=le=U="",ge=null,ce=null,j=1/0;for(var fe=[],we=void 0,Ae=0;Ae<f.length;++Ae){var Oe=f[Ae],ze=Oe.marker;if(ze.type=="bookmark"&&Oe.from==k&&ze.widgetNode)fe.push(ze);else if(Oe.from<=k&&(Oe.to==null||Oe.to>k||ze.collapsed&&Oe.to==k&&Oe.from==k)){if(Oe.to!=null&&Oe.to!=k&&j>Oe.to&&(j=Oe.to,te=""),ze.className&&(G+=" "+ze.className),ze.css&&(U=(U?U+";":"")+ze.css),ze.startStyle&&Oe.from==k&&(le+=" "+ze.startStyle),ze.endStyle&&Oe.to==j&&(we||(we=[])).push(ze.endStyle,Oe.to),ze.title&&((ge||(ge={})).title=ze.title),ze.attributes)for(var it in ze.attributes)(ge||(ge={}))[it]=ze.attributes[it];ze.collapsed&&(!ce||Cm(ce.marker,ze)<0)&&(ce=Oe)}else Oe.from>k&&j>Oe.from&&(j=Oe.from)}if(we)for(var Kt=0;Kt<we.length;Kt+=2)we[Kt+1]==j&&(te+=" "+we[Kt]);if(!ce||ce.from==k)for(var mt=0;mt<fe.length;++mt)zb(a,0,fe[mt]);if(ce&&(ce.from||0)==k){if(zb(a,(ce.to==null?b+1:ce.to)-k,ce.marker,ce.from==null),ce.to==null)return;ce.to==k&&(ce=!1)}}if(k>=b)break;for(var Jr=Math.min(b,j);;){if(I){var _r=k+I.length;if(!ce){var At=_r>Jr?I.slice(0,Jr-k):I;a.addToken(a,At,$?$+G:G,le,k+At.length==j?te:"",U,ge)}if(_r>=Jr){I=I.slice(Jr-k),k=Jr;break}k=_r,le=""}I=d.slice(m,m=h[E++]),$=Fb(h[E++],a.cm.options)}}}function Wb(s,a,h){this.line=a,this.rest=VR(a),this.size=this.rest?L(Ie(this.rest))-h+1:1,this.node=this.text=null,this.hidden=Bo(s,a)}function fh(s,a,h){for(var f=[],d,m=a;m<h;m=d){var w=new Wb(s.doc,ke(s.doc,m),m);d=m+w.size,f.push(w)}return f}var Kl=null;function tI(s){Kl?Kl.ops.push(s):s.ownsGroup=Kl={ops:[s],delayedCallbacks:[]}}function rI(s){var a=s.delayedCallbacks,h=0;do{for(;h<a.length;h++)a[h].call(null);for(var f=0;f<s.ops.length;f++){var d=s.ops[f];if(d.cursorActivityHandlers)for(;d.cursorActivityCalled<d.cursorActivityHandlers.length;)d.cursorActivityHandlers[d.cursorActivityCalled++].call(null,d.cm)}}while(h<a.length)}function nI(s,a){var h=s.ownsGroup;if(h)try{rI(h)}finally{Kl=null,a(h)}}var Lu=null;function Ht(s,a){var h=Qi(s,a);if(h.length){var f=Array.prototype.slice.call(arguments,2),d;Kl?d=Kl.delayedCallbacks:Lu?d=Lu:(d=Lu=[],setTimeout(iI,0));for(var m=function(b){d.push(function(){return h[b].apply(null,f)})},w=0;w<h.length;++w)m(w)}}function iI(){var s=Lu;Lu=null;for(var a=0;a<s.length;++a)s[a]()}function jb(s,a,h,f){for(var d=0;d<a.changes.length;d++){var m=a.changes[d];m=="text"?sI(s,a):m=="gutter"?Ub(s,a,h,f):m=="class"?Am(s,a):m=="widget"&&lI(s,a,f)}a.changes=null}function Pu(s){return s.node==s.text&&(s.node=_("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),c&&p<8&&(s.node.style.zIndex=2)),s.node}function oI(s,a){var h=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(h&&(h+=" CodeMirror-linebackground"),a.background)h?a.background.className=h:(a.background.parentNode.removeChild(a.background),a.background=null);else if(h){var f=Pu(a);a.background=f.insertBefore(_("div",null,h),f.firstChild),s.display.input.setUneditable(a.background)}}function Hb(s,a){var h=s.display.externalMeasured;return h&&h.line==a.line?(s.display.externalMeasured=null,a.measure=h.measure,h.built):$b(s,a)}function sI(s,a){var h=a.text.className,f=Hb(s,a);a.text==a.node&&(a.node=f.pre),a.text.parentNode.replaceChild(f.pre,a.text),a.text=f.pre,f.bgClass!=a.bgClass||f.textClass!=a.textClass?(a.bgClass=f.bgClass,a.textClass=f.textClass,Am(s,a)):h&&(a.text.className=h)}function Am(s,a){oI(s,a),a.line.wrapClass?Pu(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var h=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=h||""}function Ub(s,a,h,f){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var d=Pu(a);a.gutterBackground=_("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(s.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),s.display.input.setUneditable(a.gutterBackground),d.insertBefore(a.gutterBackground,a.text)}var m=a.line.gutterMarkers;if(s.options.lineNumbers||m){var w=Pu(a),b=a.gutter=_("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(b.setAttribute("aria-hidden","true"),s.display.input.setUneditable(b),w.insertBefore(b,a.text),a.line.gutterClass&&(b.className+=" "+a.line.gutterClass),s.options.lineNumbers&&(!m||!m["CodeMirror-linenumbers"])&&(a.lineNumber=b.appendChild(_("div",se(s.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),m)for(var k=0;k<s.display.gutterSpecs.length;++k){var E=s.display.gutterSpecs[k].className,I=m.hasOwnProperty(E)&&m[E];I&&b.appendChild(_("div",[I],"CodeMirror-gutter-elt","left: "+f.gutterLeft[E]+"px; width: "+f.gutterWidth[E]+"px"))}}}function lI(s,a,h){a.alignable&&(a.alignable=null);for(var f=de("CodeMirror-linewidget"),d=a.node.firstChild,m=void 0;d;d=m)m=d.nextSibling,f.test(d.className)&&a.node.removeChild(d);Vb(s,a,h)}function aI(s,a,h,f){var d=Hb(s,a);return a.text=a.node=d.pre,d.bgClass&&(a.bgClass=d.bgClass),d.textClass&&(a.textClass=d.textClass),Am(s,a),Ub(s,a,h,f),Vb(s,a,f),a.node}function Vb(s,a,h){if(Kb(s,a.line,a,h,!0),a.rest)for(var f=0;f<a.rest.length;f++)Kb(s,a.rest[f],a,h,!1)}function Kb(s,a,h,f,d){if(a.widgets)for(var m=Pu(h),w=0,b=a.widgets;w<b.length;++w){var k=b[w],E=_("div",[k.node],"CodeMirror-linewidget"+(k.className?" "+k.className:""));k.handleMouseEvents||E.setAttribute("cm-ignore-events","true"),uI(k,E,h,f),s.display.input.setUneditable(E),d&&k.above?m.insertBefore(E,h.gutter||h.text):m.appendChild(E),Ht(k,"redraw")}}function uI(s,a,h,f){if(s.noHScroll){(h.alignable||(h.alignable=[])).push(a);var d=f.wrapperWidth;a.style.left=f.fixedPos+"px",s.coverGutter||(d-=f.gutterTotalWidth,a.style.paddingLeft=f.gutterTotalWidth+"px"),a.style.width=d+"px"}s.coverGutter&&(a.style.zIndex=5,a.style.position="relative",s.noHScroll||(a.style.marginLeft=-f.gutterTotalWidth+"px"))}function Nu(s){if(s.height!=null)return s.height;var a=s.doc.cm;if(!a)return 0;if(!R(document.body,s.node)){var h="position: relative;";s.coverGutter&&(h+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),s.noHScroll&&(h+="width: "+a.display.wrapper.clientWidth+"px;"),Z(a.display.measure,_("div",[s.node],null,h))}return s.height=s.node.parentNode.offsetHeight}function to(s,a){for(var h=Cu(a);h!=s.wrapper;h=h.parentNode)if(!h||h.nodeType==1&&h.getAttribute("cm-ignore-events")=="true"||h.parentNode==s.sizer&&h!=s.mover)return!0}function hh(s){return s.lineSpace.offsetTop}function Mm(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function qb(s){if(s.cachedPaddingH)return s.cachedPaddingH;var a=Z(s.measure,_("pre","x","CodeMirror-line-like")),h=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,f={left:parseInt(h.paddingLeft),right:parseInt(h.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(s.cachedPaddingH=f),f}function ki(s){return Zt-s.display.nativeBarWidth}function Us(s){return s.display.scroller.clientWidth-ki(s)-s.display.barWidth}function Lm(s){return s.display.scroller.clientHeight-ki(s)-s.display.barHeight}function cI(s,a,h){var f=s.options.lineWrapping,d=f&&Us(s);if(!a.measure.heights||f&&a.measure.width!=d){var m=a.measure.heights=[];if(f){a.measure.width=d;for(var w=a.text.firstChild.getClientRects(),b=0;b<w.length-1;b++){var k=w[b],E=w[b+1];Math.abs(k.bottom-E.bottom)>2&&m.push((k.bottom+E.top)/2-h.top)}}m.push(h.bottom-h.top)}}function Gb(s,a,h){if(s.line==a)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var f=0;f<s.rest.length;f++)if(s.rest[f]==a)return{map:s.measure.maps[f],cache:s.measure.caches[f]};for(var d=0;d<s.rest.length;d++)if(L(s.rest[d])>h)return{map:s.measure.maps[d],cache:s.measure.caches[d],before:!0}}}function fI(s,a){a=ri(a);var h=L(a),f=s.display.externalMeasured=new Wb(s.doc,a,h);f.lineN=h;var d=f.built=$b(s,f);return f.text=d.pre,Z(s.display.lineMeasure,d.pre),f}function Yb(s,a,h,f){return Ci(s,ql(s,a),h,f)}function Pm(s,a){if(a>=s.display.viewFrom&&a<s.display.viewTo)return s.display.view[qs(s,a)];var h=s.display.externalMeasured;if(h&&a>=h.lineN&&a<h.lineN+h.size)return h}function ql(s,a){var h=L(a),f=Pm(s,h);f&&!f.text?f=null:f&&f.changes&&(jb(s,f,h,Bm(s)),s.curOp.forceUpdate=!0),f||(f=fI(s,a));var d=Gb(f,a,h);return{line:a,view:f,rect:null,map:d.map,cache:d.cache,before:d.before,hasHeights:!1}}function Ci(s,a,h,f,d){a.before&&(h=-1);var m=h+(f||""),w;return a.cache.hasOwnProperty(m)?w=a.cache[m]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||(cI(s,a.view,a.rect),a.hasHeights=!0),w=dI(s,a,h,f),w.bogus||(a.cache[m]=w)),{left:w.left,right:w.right,top:d?w.rtop:w.top,bottom:d?w.rbottom:w.bottom}}var Xb={left:0,right:0,top:0,bottom:0};function Qb(s,a,h){for(var f,d,m,w,b,k,E=0;E<s.length;E+=3)if(b=s[E],k=s[E+1],a<b?(d=0,m=1,w="left"):a<k?(d=a-b,m=d+1):(E==s.length-3||a==k&&s[E+3]>a)&&(m=k-b,d=m-1,a>=k&&(w="right")),d!=null){if(f=s[E+2],b==k&&h==(f.insertLeft?"left":"right")&&(w=h),h=="left"&&d==0)for(;E&&s[E-2]==s[E-3]&&s[E-1].insertLeft;)f=s[(E-=3)+2],w="left";if(h=="right"&&d==k-b)for(;E<s.length-3&&s[E+3]==s[E+4]&&!s[E+5].insertLeft;)f=s[(E+=3)+2],w="right";break}return{node:f,start:d,end:m,collapse:w,coverStart:b,coverEnd:k}}function hI(s,a){var h=Xb;if(a=="left")for(var f=0;f<s.length&&(h=s[f]).left==h.right;f++);else for(var d=s.length-1;d>=0&&(h=s[d]).left==h.right;d--);return h}function dI(s,a,h,f){var d=Qb(a.map,h,f),m=d.node,w=d.start,b=d.end,k=d.collapse,E;if(m.nodeType==3){for(var I=0;I<4;I++){for(;w&&$e(a.line.text.charAt(d.coverStart+w));)--w;for(;d.coverStart+b<d.coverEnd&&$e(a.line.text.charAt(d.coverStart+b));)++b;if(c&&p<9&&w==0&&b==d.coverEnd-d.coverStart?E=m.parentNode.getBoundingClientRect():E=hI(ee(m,w,b).getClientRects(),f),E.left||E.right||w==0)break;b=w,w=w-1,k="right"}c&&p<11&&(E=pI(s.display.measure,E))}else{w>0&&(k=f="right");var $;s.options.lineWrapping&&($=m.getClientRects()).length>1?E=$[f=="right"?$.length-1:0]:E=m.getBoundingClientRect()}if(c&&p<9&&!w&&(!E||!E.left&&!E.right)){var U=m.parentNode.getClientRects()[0];U?E={left:U.left,right:U.left+Yl(s.display),top:U.top,bottom:U.bottom}:E=Xb}for(var j=E.top-a.rect.top,G=E.bottom-a.rect.top,te=(j+G)/2,le=a.view.measure.heights,ce=0;ce<le.length-1&&!(te<le[ce]);ce++);var ge=ce?le[ce-1]:0,fe=le[ce],we={left:(k=="right"?E.right:E.left)-a.rect.left,right:(k=="left"?E.left:E.right)-a.rect.left,top:ge,bottom:fe};return!E.left&&!E.right&&(we.bogus=!0),s.options.singleCursorHeightPerLine||(we.rtop=j,we.rbottom=G),we}function pI(s,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!xm(s))return a;var h=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*h,right:a.right*h,top:a.top*f,bottom:a.bottom*f}}function Jb(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var a=0;a<s.rest.length;a++)s.measure.caches[a]={}}function Zb(s){s.display.externalMeasure=null,K(s.display.lineMeasure);for(var a=0;a<s.display.view.length;a++)Jb(s.display.view[a])}function Du(s){Zb(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function eS(s){return y&&M?-(s.body.getBoundingClientRect().left-parseInt(getComputedStyle(s.body).marginLeft)):s.defaultView.pageXOffset||(s.documentElement||s.body).scrollLeft}function tS(s){return y&&M?-(s.body.getBoundingClientRect().top-parseInt(getComputedStyle(s.body).marginTop)):s.defaultView.pageYOffset||(s.documentElement||s.body).scrollTop}function Nm(s){var a=ri(s),h=a.widgets,f=0;if(h)for(var d=0;d<h.length;++d)h[d].above&&(f+=Nu(h[d]));return f}function dh(s,a,h,f,d){if(!d){var m=Nm(a);h.top+=m,h.bottom+=m}if(f=="line")return h;f||(f="local");var w=eo(a);if(f=="local"?w+=hh(s.display):w-=s.display.viewOffset,f=="page"||f=="window"){var b=s.display.lineSpace.getBoundingClientRect();w+=b.top+(f=="window"?0:tS(De(s)));var k=b.left+(f=="window"?0:eS(De(s)));h.left+=k,h.right+=k}return h.top+=w,h.bottom+=w,h}function rS(s,a,h){if(h=="div")return a;var f=a.left,d=a.top;if(h=="page")f-=eS(De(s)),d-=tS(De(s));else if(h=="local"||!h){var m=s.display.sizer.getBoundingClientRect();f+=m.left,d+=m.top}var w=s.display.lineSpace.getBoundingClientRect();return{left:f-w.left,top:d-w.top}}function ph(s,a,h,f,d){return f||(f=ke(s.doc,a.line)),dh(s,f,Yb(s,f,a.ch,d),h)}function ni(s,a,h,f,d,m){f=f||ke(s.doc,a.line),d||(d=ql(s,f));function w(G,te){var le=Ci(s,d,G,te?"right":"left",m);return te?le.left=le.right:le.right=le.left,dh(s,f,le,h)}var b=Ue(f,s.doc.direction),k=a.ch,E=a.sticky;if(k>=f.text.length?(k=f.text.length,E="before"):k<=0&&(k=0,E="after"),!b)return w(E=="before"?k-1:k,E=="before");function I(G,te,le){var ce=b[te],ge=ce.level==1;return w(le?G-1:G,ge!=le)}var $=Po(b,k,E),U=js,j=I(k,$,E=="before");return U!=null&&(j.other=I(k,U,E!="before")),j}function nS(s,a){var h=0;a=Be(s.doc,a),s.options.lineWrapping||(h=Yl(s.display)*a.ch);var f=ke(s.doc,a.line),d=eo(f)+hh(s.display);return{left:h,right:h,top:d,bottom:d+f.height}}function Dm(s,a,h,f,d){var m=q(s,a,h);return m.xRel=d,f&&(m.outside=f),m}function Rm(s,a,h){var f=s.doc;if(h+=s.display.viewOffset,h<0)return Dm(f.first,0,null,-1,-1);var d=F(f,h),m=f.first+f.size-1;if(d>m)return Dm(f.first+f.size-1,ke(f,m).text.length,null,1,1);a<0&&(a=0);for(var w=ke(f,d);;){var b=gI(s,w,d,a,h),k=HR(w,b.ch+(b.xRel>0||b.outside>0?1:0));if(!k)return b;var E=k.find(1);if(E.line==d)return E;w=ke(f,d=E.line)}}function iS(s,a,h,f){f-=Nm(a);var d=a.text.length,m=Pn(function(w){return Ci(s,h,w-1).bottom<=f},d,0);return d=Pn(function(w){return Ci(s,h,w).top>f},m,d),{begin:m,end:d}}function oS(s,a,h,f){h||(h=ql(s,a));var d=dh(s,a,Ci(s,h,f),"line").top;return iS(s,a,h,d)}function Im(s,a,h,f){return s.bottom<=h?!1:s.top>h?!0:(f?s.left:s.right)>a}function gI(s,a,h,f,d){d-=eo(a);var m=ql(s,a),w=Nm(a),b=0,k=a.text.length,E=!0,I=Ue(a,s.doc.direction);if(I){var $=(s.options.lineWrapping?vI:mI)(s,a,h,m,I,f,d);E=$.level!=1,b=E?$.from:$.to-1,k=E?$.to:$.from-1}var U=null,j=null,G=Pn(function(Ae){var Oe=Ci(s,m,Ae);return Oe.top+=w,Oe.bottom+=w,Im(Oe,f,d,!1)?(Oe.top<=d&&Oe.left<=f&&(U=Ae,j=Oe),!0):!1},b,k),te,le,ce=!1;if(j){var ge=f-j.left<j.right-f,fe=ge==E;G=U+(fe?0:1),le=fe?"after":"before",te=ge?j.left:j.right}else{!E&&(G==k||G==b)&&G++,le=G==0?"after":G==a.text.length?"before":Ci(s,m,G-(E?1:0)).bottom+w<=d==E?"after":"before";var we=ni(s,q(h,G,le),"line",a,m);te=we.left,ce=d<we.top?-1:d>=we.bottom?1:0}return G=Yr(a.text,G,1),Dm(h,G,le,ce,f-te)}function mI(s,a,h,f,d,m,w){var b=Pn(function($){var U=d[$],j=U.level!=1;return Im(ni(s,q(h,j?U.to:U.from,j?"before":"after"),"line",a,f),m,w,!0)},0,d.length-1),k=d[b];if(b>0){var E=k.level!=1,I=ni(s,q(h,E?k.from:k.to,E?"after":"before"),"line",a,f);Im(I,m,w,!0)&&I.top>w&&(k=d[b-1])}return k}function vI(s,a,h,f,d,m,w){var b=iS(s,a,f,w),k=b.begin,E=b.end;/\s/.test(a.text.charAt(E-1))&&E--;for(var I=null,$=null,U=0;U<d.length;U++){var j=d[U];if(!(j.from>=E||j.to<=k)){var G=j.level!=1,te=Ci(s,f,G?Math.min(E,j.to)-1:Math.max(k,j.from)).right,le=te<m?m-te+1e9:te-m;(!I||$>le)&&(I=j,$=le)}}return I||(I=d[d.length-1]),I.from<k&&(I={from:k,to:I.to,level:I.level}),I.to>E&&(I={from:I.from,to:E,level:I.level}),I}var Vs;function Gl(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(Vs==null){Vs=_("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)Vs.appendChild(document.createTextNode("x")),Vs.appendChild(_("br"));Vs.appendChild(document.createTextNode("x"))}Z(s.measure,Vs);var h=Vs.offsetHeight/50;return h>3&&(s.cachedTextHeight=h),K(s.measure),h||1}function Yl(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var a=_("span","xxxxxxxxxx"),h=_("pre",[a],"CodeMirror-line-like");Z(s.measure,h);var f=a.getBoundingClientRect(),d=(f.right-f.left)/10;return d>2&&(s.cachedCharWidth=d),d||10}function Bm(s){for(var a=s.display,h={},f={},d=a.gutters.clientLeft,m=a.gutters.firstChild,w=0;m;m=m.nextSibling,++w){var b=s.display.gutterSpecs[w].className;h[b]=m.offsetLeft+m.clientLeft+d,f[b]=m.clientWidth}return{fixedPos:_m(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:h,gutterWidth:f,wrapperWidth:a.wrapper.clientWidth}}function _m(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function sS(s){var a=Gl(s.display),h=s.options.lineWrapping,f=h&&Math.max(5,s.display.scroller.clientWidth/Yl(s.display)-3);return function(d){if(Bo(s.doc,d))return 0;var m=0;if(d.widgets)for(var w=0;w<d.widgets.length;w++)d.widgets[w].height&&(m+=d.widgets[w].height);return h?m+(Math.ceil(d.text.length/f)||1)*a:m+a}}function Fm(s){var a=s.doc,h=sS(s);a.iter(function(f){var d=h(f);d!=f.height&&dn(f,d)})}function Ks(s,a,h,f){var d=s.display;if(!h&&Cu(a).getAttribute("cm-not-content")=="true")return null;var m,w,b=d.lineSpace.getBoundingClientRect();try{m=a.clientX-b.left,w=a.clientY-b.top}catch{return null}var k=Rm(s,m,w),E;if(f&&k.xRel>0&&(E=ke(s.doc,k.line).text).length==k.ch){var I=je(E,E.length,s.options.tabSize)-E.length;k=q(k.line,Math.max(0,Math.round((m-qb(s.display).left)/Yl(s.display))-I))}return k}function qs(s,a){if(a>=s.display.viewTo||(a-=s.display.viewFrom,a<0))return null;for(var h=s.display.view,f=0;f<h.length;f++)if(a-=h[f].size,a<0)return f}function Ir(s,a,h,f){a==null&&(a=s.doc.first),h==null&&(h=s.doc.first+s.doc.size),f||(f=0);var d=s.display;if(f&&h<d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>a)&&(d.updateLineNumbers=a),s.curOp.viewChanged=!0,a>=d.viewTo)Zi&&Tm(s.doc,a)<d.viewTo&&Fo(s);else if(h<=d.viewFrom)Zi&&_b(s.doc,h+f)>d.viewFrom?Fo(s):(d.viewFrom+=f,d.viewTo+=f);else if(a<=d.viewFrom&&h>=d.viewTo)Fo(s);else if(a<=d.viewFrom){var m=gh(s,h,h+f,1);m?(d.view=d.view.slice(m.index),d.viewFrom=m.lineN,d.viewTo+=f):Fo(s)}else if(h>=d.viewTo){var w=gh(s,a,a,-1);w?(d.view=d.view.slice(0,w.index),d.viewTo=w.lineN):Fo(s)}else{var b=gh(s,a,a,-1),k=gh(s,h,h+f,1);b&&k?(d.view=d.view.slice(0,b.index).concat(fh(s,b.lineN,k.lineN)).concat(d.view.slice(k.index)),d.viewTo+=f):Fo(s)}var E=d.externalMeasured;E&&(h<E.lineN?E.lineN+=f:a<E.lineN+E.size&&(d.externalMeasured=null))}function _o(s,a,h){s.curOp.viewChanged=!0;var f=s.display,d=s.display.externalMeasured;if(d&&a>=d.lineN&&a<d.lineN+d.size&&(f.externalMeasured=null),!(a<f.viewFrom||a>=f.viewTo)){var m=f.view[qs(s,a)];if(m.node!=null){var w=m.changes||(m.changes=[]);_e(w,h)==-1&&w.push(h)}}}function Fo(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function gh(s,a,h,f){var d=qs(s,a),m,w=s.display.view;if(!Zi||h==s.doc.first+s.doc.size)return{index:d,lineN:h};for(var b=s.display.viewFrom,k=0;k<d;k++)b+=w[k].size;if(b!=a){if(f>0){if(d==w.length-1)return null;m=b+w[d].size-a,d++}else m=b-a;a+=m,h+=m}for(;Tm(s.doc,h)!=h;){if(d==(f<0?0:w.length-1))return null;h+=f*w[d-(f<0?1:0)].size,d+=f}return{index:d,lineN:h}}function yI(s,a,h){var f=s.display,d=f.view;d.length==0||a>=f.viewTo||h<=f.viewFrom?(f.view=fh(s,a,h),f.viewFrom=a):(f.viewFrom>a?f.view=fh(s,a,f.viewFrom).concat(f.view):f.viewFrom<a&&(f.view=f.view.slice(qs(s,a))),f.viewFrom=a,f.viewTo<h?f.view=f.view.concat(fh(s,f.viewTo,h)):f.viewTo>h&&(f.view=f.view.slice(0,qs(s,h)))),f.viewTo=h}function lS(s){for(var a=s.display.view,h=0,f=0;f<a.length;f++){var d=a[f];!d.hidden&&(!d.node||d.changes)&&++h}return h}function Ru(s){s.display.input.showSelection(s.display.input.prepareSelection())}function aS(s,a){a===void 0&&(a=!0);var h=s.doc,f={},d=f.cursors=document.createDocumentFragment(),m=f.selection=document.createDocumentFragment(),w=s.options.$customCursor;w&&(a=!0);for(var b=0;b<h.sel.ranges.length;b++)if(!(!a&&b==h.sel.primIndex)){var k=h.sel.ranges[b];if(!(k.from().line>=s.display.viewTo||k.to().line<s.display.viewFrom)){var E=k.empty();if(w){var I=w(s,k);I&&$m(s,I,d)}else(E||s.options.showCursorWhenSelecting)&&$m(s,k.head,d);E||wI(s,k,m)}}return f}function $m(s,a,h){var f=ni(s,a,"div",null,null,!s.options.singleCursorHeightPerLine),d=h.appendChild(_("div"," ","CodeMirror-cursor"));if(d.style.left=f.left+"px",d.style.top=f.top+"px",d.style.height=Math.max(0,f.bottom-f.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var m=ph(s,a,"div",null,null),w=m.right-m.left;d.style.width=(w>0?w:s.defaultCharWidth())+"px"}if(f.other){var b=h.appendChild(_("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));b.style.display="",b.style.left=f.other.left+"px",b.style.top=f.other.top+"px",b.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function mh(s,a){return s.top-a.top||s.left-a.left}function wI(s,a,h){var f=s.display,d=s.doc,m=document.createDocumentFragment(),w=qb(s.display),b=w.left,k=Math.max(f.sizerWidth,Us(s)-f.sizer.offsetLeft)-w.right,E=d.direction=="ltr";function I(fe,we,Ae,Oe){we<0&&(we=0),we=Math.round(we),Oe=Math.round(Oe),m.appendChild(_("div",null,"CodeMirror-selected","position: absolute; left: "+fe+`px;
                             top: `+we+"px; width: "+(Ae??k-fe)+`px;
                             height: `+(Oe-we)+"px"))}function $(fe,we,Ae){var Oe=ke(d,fe),ze=Oe.text.length,it,Kt;function mt(At,Fr){return ph(s,q(fe,At),"div",Oe,Fr)}function Jr(At,Fr,er){var Bt=oS(s,Oe,null,At),Mt=Fr=="ltr"==(er=="after")?"left":"right",St=er=="after"?Bt.begin:Bt.end-(/\s/.test(Oe.text.charAt(Bt.end-1))?2:1);return mt(St,Mt)[Mt]}var _r=Ue(Oe,d.direction);return Lo(_r,we||0,Ae??ze,function(At,Fr,er,Bt){var Mt=er=="ltr",St=mt(At,Mt?"left":"right"),$r=mt(Fr-1,Mt?"right":"left"),aa=we==null&&At==0,Uo=Ae==null&&Fr==ze,lr=Bt==0,Ti=!_r||Bt==_r.length-1;if($r.top-St.top<=3){var qt=(E?aa:Uo)&&lr,hv=(E?Uo:aa)&&Ti,io=qt?b:(Mt?St:$r).left,Js=hv?k:(Mt?$r:St).right;I(io,St.top,Js-io,St.bottom)}else{var Zs,br,ua,dv;Mt?(Zs=E&&aa&&lr?b:St.left,br=E?k:Jr(At,er,"before"),ua=E?b:Jr(Fr,er,"after"),dv=E&&Uo&&Ti?k:$r.right):(Zs=E?Jr(At,er,"before"):b,br=!E&&aa&&lr?k:St.right,ua=!E&&Uo&&Ti?b:$r.left,dv=E?Jr(Fr,er,"after"):k),I(Zs,St.top,br-Zs,St.bottom),St.bottom<$r.top&&I(b,St.bottom,null,$r.top),I(ua,$r.top,dv-ua,$r.bottom)}(!it||mh(St,it)<0)&&(it=St),mh($r,it)<0&&(it=$r),(!Kt||mh(St,Kt)<0)&&(Kt=St),mh($r,Kt)<0&&(Kt=$r)}),{start:it,end:Kt}}var U=a.from(),j=a.to();if(U.line==j.line)$(U.line,U.ch,j.ch);else{var G=ke(d,U.line),te=ke(d,j.line),le=ri(G)==ri(te),ce=$(U.line,U.ch,le?G.text.length+1:null).end,ge=$(j.line,le?0:null,j.ch).start;le&&(ce.top<ge.top-2?(I(ce.right,ce.top,null,ce.bottom),I(b,ge.top,ge.left,ge.bottom)):I(ce.right,ce.top,ge.left-ce.right,ce.bottom)),ce.bottom<ge.top&&I(b,ce.bottom,null,ge.top)}h.appendChild(m)}function zm(s){if(s.state.focused){var a=s.display;clearInterval(a.blinker);var h=!0;a.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?a.blinker=setInterval(function(){s.hasFocus()||Xl(s),a.cursorDiv.style.visibility=(h=!h)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function uS(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||jm(s))}function Wm(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Xl(s))},100)}function jm(s,a){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(wt(s,"focus",s,a),s.state.focused=!0,V(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),g&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),zm(s))}function Xl(s,a){s.state.delayingBlurEvent||(s.state.focused&&(wt(s,"blur",s,a),s.state.focused=!1,ue(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function vh(s){for(var a=s.display,h=a.lineDiv.offsetTop,f=Math.max(0,a.scroller.getBoundingClientRect().top),d=a.lineDiv.getBoundingClientRect().top,m=0,w=0;w<a.view.length;w++){var b=a.view[w],k=s.options.lineWrapping,E=void 0,I=0;if(!b.hidden){if(d+=b.line.height,c&&p<8){var $=b.node.offsetTop+b.node.offsetHeight;E=$-h,h=$}else{var U=b.node.getBoundingClientRect();E=U.bottom-U.top,!k&&b.text.firstChild&&(I=b.text.firstChild.getBoundingClientRect().right-U.left-1)}var j=b.line.height-E;if((j>.005||j<-.005)&&(d<f&&(m-=j),dn(b.line,E),cS(b.line),b.rest))for(var G=0;G<b.rest.length;G++)cS(b.rest[G]);if(I>s.display.sizerWidth){var te=Math.ceil(I/Yl(s.display));te>s.display.maxLineLength&&(s.display.maxLineLength=te,s.display.maxLine=b.line,s.display.maxLineChanged=!0)}}}Math.abs(m)>2&&(a.scroller.scrollTop+=m)}function cS(s){if(s.widgets)for(var a=0;a<s.widgets.length;++a){var h=s.widgets[a],f=h.node.parentNode;f&&(h.height=f.offsetHeight)}}function yh(s,a,h){var f=h&&h.top!=null?Math.max(0,h.top):s.scroller.scrollTop;f=Math.floor(f-hh(s));var d=h&&h.bottom!=null?h.bottom:f+s.wrapper.clientHeight,m=F(a,f),w=F(a,d);if(h&&h.ensure){var b=h.ensure.from.line,k=h.ensure.to.line;b<m?(m=b,w=F(a,eo(ke(a,b))+s.wrapper.clientHeight)):Math.min(k,a.lastLine())>=w&&(m=F(a,eo(ke(a,k))-s.wrapper.clientHeight),w=k)}return{from:m,to:Math.max(w,m+1)}}function xI(s,a){if(!xt(s,"scrollCursorIntoView")){var h=s.display,f=h.sizer.getBoundingClientRect(),d=null,m=h.wrapper.ownerDocument;if(a.top+f.top<0?d=!0:a.bottom+f.top>(m.defaultView.innerHeight||m.documentElement.clientHeight)&&(d=!1),d!=null&&!C){var w=_("div","​",null,`position: absolute;
                         top: `+(a.top-h.viewOffset-hh(s.display))+`px;
                         height: `+(a.bottom-a.top+ki(s)+h.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");s.display.lineSpace.appendChild(w),w.scrollIntoView(d),s.display.lineSpace.removeChild(w)}}}function bI(s,a,h,f){f==null&&(f=0);var d;!s.options.lineWrapping&&a==h&&(h=a.sticky=="before"?q(a.line,a.ch+1,"before"):a,a=a.ch?q(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var m=0;m<5;m++){var w=!1,b=ni(s,a),k=!h||h==a?b:ni(s,h);d={left:Math.min(b.left,k.left),top:Math.min(b.top,k.top)-f,right:Math.max(b.left,k.left),bottom:Math.max(b.bottom,k.bottom)+f};var E=Hm(s,d),I=s.doc.scrollTop,$=s.doc.scrollLeft;if(E.scrollTop!=null&&(Bu(s,E.scrollTop),Math.abs(s.doc.scrollTop-I)>1&&(w=!0)),E.scrollLeft!=null&&(Gs(s,E.scrollLeft),Math.abs(s.doc.scrollLeft-$)>1&&(w=!0)),!w)break}return d}function SI(s,a){var h=Hm(s,a);h.scrollTop!=null&&Bu(s,h.scrollTop),h.scrollLeft!=null&&Gs(s,h.scrollLeft)}function Hm(s,a){var h=s.display,f=Gl(s.display);a.top<0&&(a.top=0);var d=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:h.scroller.scrollTop,m=Lm(s),w={};a.bottom-a.top>m&&(a.bottom=a.top+m);var b=s.doc.height+Mm(h),k=a.top<f,E=a.bottom>b-f;if(a.top<d)w.scrollTop=k?0:a.top;else if(a.bottom>d+m){var I=Math.min(a.top,(E?b:a.bottom)-m);I!=d&&(w.scrollTop=I)}var $=s.options.fixedGutter?0:h.gutters.offsetWidth,U=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:h.scroller.scrollLeft-$,j=Us(s)-h.gutters.offsetWidth,G=a.right-a.left>j;return G&&(a.right=a.left+j),a.left<10?w.scrollLeft=0:a.left<U?w.scrollLeft=Math.max(0,a.left+$-(G?0:10)):a.right>j+U-3&&(w.scrollLeft=a.right+(G?0:10)-j),w}function Um(s,a){a!=null&&(wh(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+a)}function Ql(s){wh(s);var a=s.getCursor();s.curOp.scrollToPos={from:a,to:a,margin:s.options.cursorScrollMargin}}function Iu(s,a,h){(a!=null||h!=null)&&wh(s),a!=null&&(s.curOp.scrollLeft=a),h!=null&&(s.curOp.scrollTop=h)}function kI(s,a){wh(s),s.curOp.scrollToPos=a}function wh(s){var a=s.curOp.scrollToPos;if(a){s.curOp.scrollToPos=null;var h=nS(s,a.from),f=nS(s,a.to);fS(s,h,f,a.margin)}}function fS(s,a,h,f){var d=Hm(s,{left:Math.min(a.left,h.left),top:Math.min(a.top,h.top)-f,right:Math.max(a.right,h.right),bottom:Math.max(a.bottom,h.bottom)+f});Iu(s,d.scrollLeft,d.scrollTop)}function Bu(s,a){Math.abs(s.doc.scrollTop-a)<2||(i||Km(s,{top:a}),hS(s,a,!0),i&&Km(s),$u(s,100))}function hS(s,a,h){a=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,a)),!(s.display.scroller.scrollTop==a&&!h)&&(s.doc.scrollTop=a,s.display.scrollbars.setScrollTop(a),s.display.scroller.scrollTop!=a&&(s.display.scroller.scrollTop=a))}function Gs(s,a,h,f){a=Math.max(0,Math.min(a,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((h?a==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-a)<2)&&!f)&&(s.doc.scrollLeft=a,vS(s),s.display.scroller.scrollLeft!=a&&(s.display.scroller.scrollLeft=a),s.display.scrollbars.setScrollLeft(a))}function _u(s){var a=s.display,h=a.gutters.offsetWidth,f=Math.round(s.doc.height+Mm(s.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:s.options.fixedGutter?h:0,docHeight:f,scrollHeight:f+ki(s)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:h}}var Ys=function(s,a,h){this.cm=h;var f=this.vert=_("div",[_("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),d=this.horiz=_("div",[_("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=d.tabIndex=-1,s(f),s(d),Ee(f,"scroll",function(){f.clientHeight&&a(f.scrollTop,"vertical")}),Ee(d,"scroll",function(){d.clientWidth&&a(d.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&p<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ys.prototype.update=function(s){var a=s.scrollWidth>s.clientWidth+1,h=s.scrollHeight>s.clientHeight+1,f=s.nativeBarWidth;if(h){this.vert.style.display="block",this.vert.style.bottom=a?f+"px":"0";var d=s.viewHeight-(a?f:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+d)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=h?f+"px":"0",this.horiz.style.left=s.barLeft+"px";var m=s.viewWidth-s.barLeft-(h?f:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+m)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:h?f:0,bottom:a?f:0}},Ys.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ys.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ys.prototype.zeroWidthHack=function(){var s=D&&!P?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new An,this.disableVert=new An},Ys.prototype.enableZeroWidthBar=function(s,a,h){s.style.visibility="";function f(){var d=s.getBoundingClientRect(),m=h=="vert"?document.elementFromPoint(d.right-1,(d.top+d.bottom)/2):document.elementFromPoint((d.right+d.left)/2,d.bottom-1);m!=s?s.style.visibility="hidden":a.set(1e3,f)}a.set(1e3,f)},Ys.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Fu=function(){};Fu.prototype.update=function(){return{bottom:0,right:0}},Fu.prototype.setScrollLeft=function(){},Fu.prototype.setScrollTop=function(){},Fu.prototype.clear=function(){};function Jl(s,a){a||(a=_u(s));var h=s.display.barWidth,f=s.display.barHeight;dS(s,a);for(var d=0;d<4&&h!=s.display.barWidth||f!=s.display.barHeight;d++)h!=s.display.barWidth&&s.options.lineWrapping&&vh(s),dS(s,_u(s)),h=s.display.barWidth,f=s.display.barHeight}function dS(s,a){var h=s.display,f=h.scrollbars.update(a);h.sizer.style.paddingRight=(h.barWidth=f.right)+"px",h.sizer.style.paddingBottom=(h.barHeight=f.bottom)+"px",h.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=f.bottom+"px",h.scrollbarFiller.style.width=f.right+"px"):h.scrollbarFiller.style.display="",f.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=f.bottom+"px",h.gutterFiller.style.width=a.gutterWidth+"px"):h.gutterFiller.style.display=""}var pS={native:Ys,null:Fu};function gS(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&ue(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new pS[s.options.scrollbarStyle](function(a){s.display.wrapper.insertBefore(a,s.display.scrollbarFiller),Ee(a,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,h){h=="horizontal"?Gs(s,a):Bu(s,a)},s),s.display.scrollbars.addClass&&V(s.display.wrapper,s.display.scrollbars.addClass)}var CI=0;function Xs(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++CI,markArrays:null},tI(s.curOp)}function Qs(s){var a=s.curOp;a&&nI(a,function(h){for(var f=0;f<h.ops.length;f++)h.ops[f].cm.curOp=null;TI(h)})}function TI(s){for(var a=s.ops,h=0;h<a.length;h++)OI(a[h]);for(var f=0;f<a.length;f++)EI(a[f]);for(var d=0;d<a.length;d++)AI(a[d]);for(var m=0;m<a.length;m++)MI(a[m]);for(var w=0;w<a.length;w++)LI(a[w])}function OI(s){var a=s.cm,h=a.display;NI(a),s.updateMaxLine&&Em(a),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<h.viewFrom||s.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&a.options.lineWrapping,s.update=s.mustUpdate&&new xh(a,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function EI(s){s.updatedDisplay=s.mustUpdate&&Vm(s.cm,s.update)}function AI(s){var a=s.cm,h=a.display;s.updatedDisplay&&vh(a),s.barMeasure=_u(a),h.maxLineChanged&&!a.options.lineWrapping&&(s.adjustWidthTo=Yb(a,h.maxLine,h.maxLine.text.length).left+3,a.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+s.adjustWidthTo+ki(a)+a.display.barWidth),s.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+s.adjustWidthTo-Us(a))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=h.input.prepareSelection())}function MI(s){var a=s.cm;s.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<a.doc.scrollLeft&&Gs(a,Math.min(a.display.scroller.scrollLeft,s.maxScrollLeft),!0),a.display.maxLineChanged=!1);var h=s.focus&&s.focus==B(Ke(a));s.preparedSelection&&a.display.input.showSelection(s.preparedSelection,h),(s.updatedDisplay||s.startHeight!=a.doc.height)&&Jl(a,s.barMeasure),s.updatedDisplay&&Gm(a,s.barMeasure),s.selectionChanged&&zm(a),a.state.focused&&s.updateInput&&a.display.input.reset(s.typing),h&&uS(s.cm)}function LI(s){var a=s.cm,h=a.display,f=a.doc;if(s.updatedDisplay&&mS(a,s.update),h.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(h.wheelStartX=h.wheelStartY=null),s.scrollTop!=null&&hS(a,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&Gs(a,s.scrollLeft,!0,!0),s.scrollToPos){var d=bI(a,Be(f,s.scrollToPos.from),Be(f,s.scrollToPos.to),s.scrollToPos.margin);xI(a,d)}var m=s.maybeHiddenMarkers,w=s.maybeUnhiddenMarkers;if(m)for(var b=0;b<m.length;++b)m[b].lines.length||wt(m[b],"hide");if(w)for(var k=0;k<w.length;++k)w[k].lines.length&&wt(w[k],"unhide");h.wrapper.offsetHeight&&(f.scrollTop=a.display.scroller.scrollTop),s.changeObjs&&wt(a,"changes",a,s.changeObjs),s.update&&s.update.finish()}function Qr(s,a){if(s.curOp)return a();Xs(s);try{return a()}finally{Qs(s)}}function Ut(s,a){return function(){if(s.curOp)return a.apply(s,arguments);Xs(s);try{return a.apply(s,arguments)}finally{Qs(s)}}}function xr(s){return function(){if(this.curOp)return s.apply(this,arguments);Xs(this);try{return s.apply(this,arguments)}finally{Qs(this)}}}function Vt(s){return function(){var a=this.cm;if(!a||a.curOp)return s.apply(this,arguments);Xs(a);try{return s.apply(this,arguments)}finally{Qs(a)}}}function $u(s,a){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(a,Me(PI,s))}function PI(s){var a=s.doc;if(!(a.highlightFrontier>=s.display.viewTo)){var h=+new Date+s.options.workTime,f=Au(s,a.highlightFrontier),d=[];a.iter(f.line,Math.min(a.first+a.size,s.display.viewTo+500),function(m){if(f.line>=s.display.viewFrom){var w=m.styles,b=m.text.length>s.options.maxHighlightLength?bi(a.mode,f.state):null,k=kb(s,m,f,!0);b&&(f.state=b),m.styles=k.styles;var E=m.styleClasses,I=k.classes;I?m.styleClasses=I:E&&(m.styleClasses=null);for(var $=!w||w.length!=m.styles.length||E!=I&&(!E||!I||E.bgClass!=I.bgClass||E.textClass!=I.textClass),U=0;!$&&U<w.length;++U)$=w[U]!=m.styles[U];$&&d.push(f.line),m.stateAfter=f.save(),f.nextLine()}else m.text.length<=s.options.maxHighlightLength&&bm(s,m.text,f),m.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>h)return $u(s,s.options.workDelay),!0}),a.highlightFrontier=f.line,a.modeFrontier=Math.max(a.modeFrontier,f.line),d.length&&Qr(s,function(){for(var m=0;m<d.length;m++)_o(s,d[m],"text")})}}var xh=function(s,a,h){var f=s.display;this.viewport=a,this.visible=yh(f,s.doc,a),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=Us(s),this.force=h,this.dims=Bm(s),this.events=[]};xh.prototype.signal=function(s,a){Xr(s,a)&&this.events.push(arguments)},xh.prototype.finish=function(){for(var s=0;s<this.events.length;s++)wt.apply(null,this.events[s])};function NI(s){var a=s.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=ki(s)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=ki(s)+"px",a.scrollbarsClipped=!0)}function DI(s){if(s.hasFocus())return null;var a=B(Ke(s));if(!a||!R(s.display.lineDiv,a))return null;var h={activeElt:a};if(window.getSelection){var f=Ce(s).getSelection();f.anchorNode&&f.extend&&R(s.display.lineDiv,f.anchorNode)&&(h.anchorNode=f.anchorNode,h.anchorOffset=f.anchorOffset,h.focusNode=f.focusNode,h.focusOffset=f.focusOffset)}return h}function RI(s){if(!(!s||!s.activeElt||s.activeElt==B(Xe(s.activeElt)))&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&R(document.body,s.anchorNode)&&R(document.body,s.focusNode))){var a=s.activeElt.ownerDocument,h=a.defaultView.getSelection(),f=a.createRange();f.setEnd(s.anchorNode,s.anchorOffset),f.collapse(!1),h.removeAllRanges(),h.addRange(f),h.extend(s.focusNode,s.focusOffset)}}function Vm(s,a){var h=s.display,f=s.doc;if(a.editorIsHidden)return Fo(s),!1;if(!a.force&&a.visible.from>=h.viewFrom&&a.visible.to<=h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&lS(s)==0)return!1;yS(s)&&(Fo(s),a.dims=Bm(s));var d=f.first+f.size,m=Math.max(a.visible.from-s.options.viewportMargin,f.first),w=Math.min(d,a.visible.to+s.options.viewportMargin);h.viewFrom<m&&m-h.viewFrom<20&&(m=Math.max(f.first,h.viewFrom)),h.viewTo>w&&h.viewTo-w<20&&(w=Math.min(d,h.viewTo)),Zi&&(m=Tm(s.doc,m),w=_b(s.doc,w));var b=m!=h.viewFrom||w!=h.viewTo||h.lastWrapHeight!=a.wrapperHeight||h.lastWrapWidth!=a.wrapperWidth;yI(s,m,w),h.viewOffset=eo(ke(s.doc,h.viewFrom)),s.display.mover.style.top=h.viewOffset+"px";var k=lS(s);if(!b&&k==0&&!a.force&&h.renderedView==h.view&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo))return!1;var E=DI(s);return k>4&&(h.lineDiv.style.display="none"),II(s,h.updateLineNumbers,a.dims),k>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,RI(E),K(h.cursorDiv),K(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,b&&(h.lastWrapHeight=a.wrapperHeight,h.lastWrapWidth=a.wrapperWidth,$u(s,400)),h.updateLineNumbers=null,!0}function mS(s,a){for(var h=a.viewport,f=!0;;f=!1){if(!f||!s.options.lineWrapping||a.oldDisplayWidth==Us(s)){if(h&&h.top!=null&&(h={top:Math.min(s.doc.height+Mm(s.display)-Lm(s),h.top)}),a.visible=yh(s.display,s.doc,h),a.visible.from>=s.display.viewFrom&&a.visible.to<=s.display.viewTo)break}else f&&(a.visible=yh(s.display,s.doc,h));if(!Vm(s,a))break;vh(s);var d=_u(s);Ru(s),Jl(s,d),Gm(s,d),a.force=!1}a.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(a.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function Km(s,a){var h=new xh(s,a);if(Vm(s,h)){vh(s),mS(s,h);var f=_u(s);Ru(s),Jl(s,f),Gm(s,f),h.finish()}}function II(s,a,h){var f=s.display,d=s.options.lineNumbers,m=f.lineDiv,w=m.firstChild;function b(G){var te=G.nextSibling;return g&&D&&s.display.currentWheelTarget==G?G.style.display="none":G.parentNode.removeChild(G),te}for(var k=f.view,E=f.viewFrom,I=0;I<k.length;I++){var $=k[I];if(!$.hidden)if(!$.node||$.node.parentNode!=m){var U=aI(s,$,E,h);m.insertBefore(U,w)}else{for(;w!=$.node;)w=b(w);var j=d&&a!=null&&a<=E&&$.lineNumber;$.changes&&(_e($.changes,"gutter")>-1&&(j=!1),jb(s,$,E,h)),j&&(K($.lineNumber),$.lineNumber.appendChild(document.createTextNode(se(s.options,E)))),w=$.node.nextSibling}E+=$.size}for(;w;)w=b(w)}function qm(s){var a=s.gutters.offsetWidth;s.sizer.style.marginLeft=a+"px",Ht(s,"gutterChanged",s)}function Gm(s,a){s.display.sizer.style.minHeight=a.docHeight+"px",s.display.heightForcer.style.top=a.docHeight+"px",s.display.gutters.style.height=a.docHeight+s.display.barHeight+ki(s)+"px"}function vS(s){var a=s.display,h=a.view;if(!(!a.alignWidgets&&(!a.gutters.firstChild||!s.options.fixedGutter))){for(var f=_m(a)-a.scroller.scrollLeft+s.doc.scrollLeft,d=a.gutters.offsetWidth,m=f+"px",w=0;w<h.length;w++)if(!h[w].hidden){s.options.fixedGutter&&(h[w].gutter&&(h[w].gutter.style.left=m),h[w].gutterBackground&&(h[w].gutterBackground.style.left=m));var b=h[w].alignable;if(b)for(var k=0;k<b.length;k++)b[k].style.left=m}s.options.fixedGutter&&(a.gutters.style.left=f+d+"px")}}function yS(s){if(!s.options.lineNumbers)return!1;var a=s.doc,h=se(s.options,a.first+a.size-1),f=s.display;if(h.length!=f.lineNumChars){var d=f.measure.appendChild(_("div",[_("div",h)],"CodeMirror-linenumber CodeMirror-gutter-elt")),m=d.firstChild.offsetWidth,w=d.offsetWidth-m;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(m,f.lineGutter.offsetWidth-w)+1,f.lineNumWidth=f.lineNumInnerWidth+w,f.lineNumChars=f.lineNumInnerWidth?h.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",qm(s.display),!0}return!1}function Ym(s,a){for(var h=[],f=!1,d=0;d<s.length;d++){var m=s[d],w=null;if(typeof m!="string"&&(w=m.style,m=m.className),m=="CodeMirror-linenumbers")if(a)f=!0;else continue;h.push({className:m,style:w})}return a&&!f&&h.push({className:"CodeMirror-linenumbers",style:null}),h}function wS(s){var a=s.gutters,h=s.gutterSpecs;K(a),s.lineGutter=null;for(var f=0;f<h.length;++f){var d=h[f],m=d.className,w=d.style,b=a.appendChild(_("div",null,"CodeMirror-gutter "+m));w&&(b.style.cssText=w),m=="CodeMirror-linenumbers"&&(s.lineGutter=b,b.style.width=(s.lineNumWidth||1)+"px")}a.style.display=h.length?"":"none",qm(s)}function zu(s){wS(s.display),Ir(s),vS(s)}function BI(s,a,h,f){var d=this;this.input=h,d.scrollbarFiller=_("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=_("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=Q("div",null,"CodeMirror-code"),d.selectionDiv=_("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=_("div",null,"CodeMirror-cursors"),d.measure=_("div",null,"CodeMirror-measure"),d.lineMeasure=_("div",null,"CodeMirror-measure"),d.lineSpace=Q("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var m=Q("div",[d.lineSpace],"CodeMirror-lines");d.mover=_("div",[m],null,"position: relative"),d.sizer=_("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=_("div",null,null,"position: absolute; height: "+Zt+"px; width: 1px;"),d.gutters=_("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=_("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=_("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),y&&x>=105&&(d.wrapper.style.clipPath="inset(0px)"),d.wrapper.setAttribute("translate","no"),c&&p<8&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),!g&&!(i&&N)&&(d.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(d.wrapper):s(d.wrapper)),d.viewFrom=d.viewTo=a.first,d.reportedViewFrom=d.reportedViewTo=a.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,d.gutterSpecs=Ym(f.gutters,f.lineNumbers),wS(d),h.init(d)}var bh=0,ro=null;c?ro=-.53:i?ro=15:y?ro=-.7:A&&(ro=-1/3);function xS(s){var a=s.wheelDeltaX,h=s.wheelDeltaY;return a==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(a=s.detail),h==null&&s.detail&&s.axis==s.VERTICAL_AXIS?h=s.detail:h==null&&(h=s.wheelDelta),{x:a,y:h}}function _I(s){var a=xS(s);return a.x*=ro,a.y*=ro,a}function bS(s,a){y&&x==102&&(s.display.chromeScrollHack==null?s.display.sizer.style.pointerEvents="none":clearTimeout(s.display.chromeScrollHack),s.display.chromeScrollHack=setTimeout(function(){s.display.chromeScrollHack=null,s.display.sizer.style.pointerEvents=""},100));var h=xS(a),f=h.x,d=h.y,m=ro;a.deltaMode===0&&(f=a.deltaX,d=a.deltaY,m=1);var w=s.display,b=w.scroller,k=b.scrollWidth>b.clientWidth,E=b.scrollHeight>b.clientHeight;if(f&&k||d&&E){if(d&&D&&g){e:for(var I=a.target,$=w.view;I!=b;I=I.parentNode)for(var U=0;U<$.length;U++)if($[U].node==I){s.display.currentWheelTarget=I;break e}}if(f&&!i&&!T&&m!=null){d&&E&&Bu(s,Math.max(0,b.scrollTop+d*m)),Gs(s,Math.max(0,b.scrollLeft+f*m)),(!d||d&&E)&&or(a),w.wheelStartX=null;return}if(d&&m!=null){var j=d*m,G=s.doc.scrollTop,te=G+w.wrapper.clientHeight;j<0?G=Math.max(0,G+j-50):te=Math.min(s.doc.height,te+j+50),Km(s,{top:G,bottom:te})}bh<20&&a.deltaMode!==0&&(w.wheelStartX==null?(w.wheelStartX=b.scrollLeft,w.wheelStartY=b.scrollTop,w.wheelDX=f,w.wheelDY=d,setTimeout(function(){if(w.wheelStartX!=null){var le=b.scrollLeft-w.wheelStartX,ce=b.scrollTop-w.wheelStartY,ge=ce&&w.wheelDY&&ce/w.wheelDY||le&&w.wheelDX&&le/w.wheelDX;w.wheelStartX=w.wheelStartY=null,ge&&(ro=(ro*bh+ge)/(bh+1),++bh)}},200)):(w.wheelDX+=f,w.wheelDY+=d))}}var pn=function(s,a){this.ranges=s,this.primIndex=a};pn.prototype.primary=function(){return this.ranges[this.primIndex]},pn.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var h=this.ranges[a],f=s.ranges[a];if(!Ze(h.anchor,f.anchor)||!Ze(h.head,f.head))return!1}return!0},pn.prototype.deepCopy=function(){for(var s=[],a=0;a<this.ranges.length;a++)s[a]=new et(jt(this.ranges[a].anchor),jt(this.ranges[a].head));return new pn(s,this.primIndex)},pn.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},pn.prototype.contains=function(s,a){a||(a=s);for(var h=0;h<this.ranges.length;h++){var f=this.ranges[h];if(pe(a,f.from())>=0&&pe(s,f.to())<=0)return h}return-1};var et=function(s,a){this.anchor=s,this.head=a};et.prototype.from=function(){return Ul(this.anchor,this.head)},et.prototype.to=function(){return Rr(this.anchor,this.head)},et.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ii(s,a,h){var f=s&&s.options.selectionsMayTouch,d=a[h];a.sort(function(U,j){return pe(U.from(),j.from())}),h=_e(a,d);for(var m=1;m<a.length;m++){var w=a[m],b=a[m-1],k=pe(b.to(),w.from());if(f&&!w.empty()?k>0:k>=0){var E=Ul(b.from(),w.from()),I=Rr(b.to(),w.to()),$=b.empty()?w.from()==w.head:b.from()==b.head;m<=h&&--h,a.splice(--m,2,new et($?I:E,$?E:I))}}return new pn(a,h)}function $o(s,a){return new pn([new et(s,a||s)],0)}function zo(s){return s.text?q(s.from.line+s.text.length-1,Ie(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function SS(s,a){if(pe(s,a.from)<0)return s;if(pe(s,a.to)<=0)return zo(a);var h=s.line+a.text.length-(a.to.line-a.from.line)-1,f=s.ch;return s.line==a.to.line&&(f+=zo(a).ch-a.to.ch),q(h,f)}function Xm(s,a){for(var h=[],f=0;f<s.sel.ranges.length;f++){var d=s.sel.ranges[f];h.push(new et(SS(d.anchor,a),SS(d.head,a)))}return ii(s.cm,h,s.sel.primIndex)}function kS(s,a,h){return s.line==a.line?q(h.line,s.ch-a.ch+h.ch):q(h.line+(s.line-a.line),s.ch)}function FI(s,a,h){for(var f=[],d=q(s.first,0),m=d,w=0;w<a.length;w++){var b=a[w],k=kS(b.from,d,m),E=kS(zo(b),d,m);if(d=b.to,m=E,h=="around"){var I=s.sel.ranges[w],$=pe(I.head,I.anchor)<0;f[w]=new et($?E:k,$?k:E)}else f[w]=new et(k,k)}return new pn(f,s.sel.primIndex)}function Qm(s){s.doc.mode=Wl(s.options,s.doc.modeOption),Wu(s)}function Wu(s){s.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,$u(s,100),s.state.modeGen++,s.curOp&&Ir(s)}function CS(s,a){return a.from.ch==0&&a.to.ch==0&&Ie(a.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function Jm(s,a,h,f){function d(ge){return h?h[ge]:null}function m(ge,fe,we){KR(ge,fe,we,f),Ht(ge,"change",ge,a)}function w(ge,fe){for(var we=[],Ae=ge;Ae<fe;++Ae)we.push(new Vl(E[Ae],d(Ae),f));return we}var b=a.from,k=a.to,E=a.text,I=ke(s,b.line),$=ke(s,k.line),U=Ie(E),j=d(E.length-1),G=k.line-b.line;if(a.full)s.insert(0,w(0,E.length)),s.remove(E.length,s.size-E.length);else if(CS(s,a)){var te=w(0,E.length-1);m($,$.text,j),G&&s.remove(b.line,G),te.length&&s.insert(b.line,te)}else if(I==$)if(E.length==1)m(I,I.text.slice(0,b.ch)+U+I.text.slice(k.ch),j);else{var le=w(1,E.length-1);le.push(new Vl(U+I.text.slice(k.ch),j,f)),m(I,I.text.slice(0,b.ch)+E[0],d(0)),s.insert(b.line+1,le)}else if(E.length==1)m(I,I.text.slice(0,b.ch)+E[0]+$.text.slice(k.ch),d(0)),s.remove(b.line+1,G);else{m(I,I.text.slice(0,b.ch)+E[0],d(0)),m($,U+$.text.slice(k.ch),j);var ce=w(1,E.length-1);G>1&&s.remove(b.line+1,G-1),s.insert(b.line+1,ce)}Ht(s,"change",s,a)}function Wo(s,a,h){function f(d,m,w){if(d.linked)for(var b=0;b<d.linked.length;++b){var k=d.linked[b];if(k.doc!=m){var E=w&&k.sharedHist;h&&!E||(a(k.doc,E),f(k.doc,d,E))}}}f(s,null,!0)}function TS(s,a){if(a.cm)throw new Error("This document is already in use.");s.doc=a,a.cm=s,Fm(s),Qm(s),OS(s),s.options.direction=a.direction,s.options.lineWrapping||Em(s),s.options.mode=a.modeOption,Ir(s)}function OS(s){(s.doc.direction=="rtl"?V:ue)(s.display.lineDiv,"CodeMirror-rtl")}function $I(s){Qr(s,function(){OS(s),Ir(s)})}function Sh(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function Zm(s,a){var h={from:jt(a.from),to:zo(a),text:Ji(s,a.from,a.to)};return MS(s,h,a.from.line,a.to.line+1),Wo(s,function(f){return MS(f,h,a.from.line,a.to.line+1)},!0),h}function ES(s){for(;s.length;){var a=Ie(s);if(a.ranges)s.pop();else break}}function zI(s,a){if(a)return ES(s.done),Ie(s.done);if(s.done.length&&!Ie(s.done).ranges)return Ie(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),Ie(s.done)}function AS(s,a,h,f){var d=s.history;d.undone.length=0;var m=+new Date,w,b;if((d.lastOp==f||d.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&d.lastModTime>m-(s.cm?s.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(w=zI(d,d.lastOp==f)))b=Ie(w.changes),pe(a.from,a.to)==0&&pe(a.from,b.to)==0?b.to=zo(a):w.changes.push(Zm(s,a));else{var k=Ie(d.done);for((!k||!k.ranges)&&kh(s.sel,d.done),w={changes:[Zm(s,a)],generation:d.generation},d.done.push(w);d.done.length>d.undoDepth;)d.done.shift(),d.done[0].ranges||d.done.shift()}d.done.push(h),d.generation=++d.maxGeneration,d.lastModTime=d.lastSelTime=m,d.lastOp=d.lastSelOp=f,d.lastOrigin=d.lastSelOrigin=a.origin,b||wt(s,"historyAdded")}function WI(s,a,h,f){var d=a.charAt(0);return d=="*"||d=="+"&&h.ranges.length==f.ranges.length&&h.somethingSelected()==f.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function jI(s,a,h,f){var d=s.history,m=f&&f.origin;h==d.lastSelOp||m&&d.lastSelOrigin==m&&(d.lastModTime==d.lastSelTime&&d.lastOrigin==m||WI(s,m,Ie(d.done),a))?d.done[d.done.length-1]=a:kh(a,d.done),d.lastSelTime=+new Date,d.lastSelOrigin=m,d.lastSelOp=h,f&&f.clearRedo!==!1&&ES(d.undone)}function kh(s,a){var h=Ie(a);h&&h.ranges&&h.equals(s)||a.push(s)}function MS(s,a,h,f){var d=a["spans_"+s.id],m=0;s.iter(Math.max(s.first,h),Math.min(s.first+s.size,f),function(w){w.markedSpans&&((d||(d=a["spans_"+s.id]={}))[m]=w.markedSpans),++m})}function HI(s){if(!s)return null;for(var a,h=0;h<s.length;++h)s[h].marker.explicitlyCleared?a||(a=s.slice(0,h)):a&&a.push(s[h]);return a?a.length?a:null:s}function UI(s,a){var h=a["spans_"+s.id];if(!h)return null;for(var f=[],d=0;d<a.text.length;++d)f.push(HI(h[d]));return f}function LS(s,a){var h=UI(s,a),f=km(s,a);if(!h)return f;if(!f)return h;for(var d=0;d<h.length;++d){var m=h[d],w=f[d];if(m&&w)e:for(var b=0;b<w.length;++b){for(var k=w[b],E=0;E<m.length;++E)if(m[E].marker==k.marker)continue e;m.push(k)}else w&&(h[d]=w)}return h}function Zl(s,a,h){for(var f=[],d=0;d<s.length;++d){var m=s[d];if(m.ranges){f.push(h?pn.prototype.deepCopy.call(m):m);continue}var w=m.changes,b=[];f.push({changes:b});for(var k=0;k<w.length;++k){var E=w[k],I=void 0;if(b.push({from:E.from,to:E.to,text:E.text}),a)for(var $ in E)(I=$.match(/^spans_(\d+)$/))&&_e(a,Number(I[1]))>-1&&(Ie(b)[$]=E[$],delete E[$])}}return f}function ev(s,a,h,f){if(f){var d=s.anchor;if(h){var m=pe(a,d)<0;m!=pe(h,d)<0?(d=a,a=h):m!=pe(a,h)<0&&(a=h)}return new et(d,a)}else return new et(h||a,a)}function Ch(s,a,h,f,d){d==null&&(d=s.cm&&(s.cm.display.shift||s.extend)),sr(s,new pn([ev(s.sel.primary(),a,h,d)],0),f)}function PS(s,a,h){for(var f=[],d=s.cm&&(s.cm.display.shift||s.extend),m=0;m<s.sel.ranges.length;m++)f[m]=ev(s.sel.ranges[m],a[m],null,d);var w=ii(s.cm,f,s.sel.primIndex);sr(s,w,h)}function tv(s,a,h,f){var d=s.sel.ranges.slice(0);d[a]=h,sr(s,ii(s.cm,d,s.sel.primIndex),f)}function NS(s,a,h,f){sr(s,$o(a,h),f)}function VI(s,a,h){var f={ranges:a.ranges,update:function(d){this.ranges=[];for(var m=0;m<d.length;m++)this.ranges[m]=new et(Be(s,d[m].anchor),Be(s,d[m].head))},origin:h&&h.origin};return wt(s,"beforeSelectionChange",s,f),s.cm&&wt(s.cm,"beforeSelectionChange",s.cm,f),f.ranges!=a.ranges?ii(s.cm,f.ranges,f.ranges.length-1):a}function DS(s,a,h){var f=s.history.done,d=Ie(f);d&&d.ranges?(f[f.length-1]=a,Th(s,a,h)):sr(s,a,h)}function sr(s,a,h){Th(s,a,h),jI(s,s.sel,s.cm?s.cm.curOp.id:NaN,h)}function Th(s,a,h){(Xr(s,"beforeSelectionChange")||s.cm&&Xr(s.cm,"beforeSelectionChange"))&&(a=VI(s,a,h));var f=h&&h.bias||(pe(a.primary().head,s.sel.primary().head)<0?-1:1);RS(s,BS(s,a,f,!0)),!(h&&h.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Ql(s.cm)}function RS(s,a){a.equals(s.sel)||(s.sel=a,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,Nn(s.cm)),Ht(s,"cursorActivity",s))}function IS(s){RS(s,BS(s,s.sel,null,!1))}function BS(s,a,h,f){for(var d,m=0;m<a.ranges.length;m++){var w=a.ranges[m],b=a.ranges.length==s.sel.ranges.length&&s.sel.ranges[m],k=Oh(s,w.anchor,b&&b.anchor,h,f),E=w.head==w.anchor?k:Oh(s,w.head,b&&b.head,h,f);(d||k!=w.anchor||E!=w.head)&&(d||(d=a.ranges.slice(0,m)),d[m]=new et(k,E))}return d?ii(s.cm,d,a.primIndex):a}function ea(s,a,h,f,d){var m=ke(s,a.line);if(m.markedSpans)for(var w=0;w<m.markedSpans.length;++w){var b=m.markedSpans[w],k=b.marker,E="selectLeft"in k?!k.selectLeft:k.inclusiveLeft,I="selectRight"in k?!k.selectRight:k.inclusiveRight;if((b.from==null||(E?b.from<=a.ch:b.from<a.ch))&&(b.to==null||(I?b.to>=a.ch:b.to>a.ch))){if(d&&(wt(k,"beforeCursorEnter"),k.explicitlyCleared))if(m.markedSpans){--w;continue}else break;if(!k.atomic)continue;if(h){var $=k.find(f<0?1:-1),U=void 0;if((f<0?I:E)&&($=_S(s,$,-f,$&&$.line==a.line?m:null)),$&&$.line==a.line&&(U=pe($,h))&&(f<0?U<0:U>0))return ea(s,$,a,f,d)}var j=k.find(f<0?-1:1);return(f<0?E:I)&&(j=_S(s,j,f,j.line==a.line?m:null)),j?ea(s,j,a,f,d):null}}return a}function Oh(s,a,h,f,d){var m=f||1,w=ea(s,a,h,m,d)||!d&&ea(s,a,h,m,!0)||ea(s,a,h,-m,d)||!d&&ea(s,a,h,-m,!0);return w||(s.cantEdit=!0,q(s.first,0))}function _S(s,a,h,f){return h<0&&a.ch==0?a.line>s.first?Be(s,q(a.line-1)):null:h>0&&a.ch==(f||ke(s,a.line)).text.length?a.line<s.first+s.size-1?q(a.line+1,0):null:new q(a.line,a.ch+h)}function FS(s){s.setSelection(q(s.firstLine(),0),q(s.lastLine()),Pr)}function $S(s,a,h){var f={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return f.canceled=!0}};return h&&(f.update=function(d,m,w,b){d&&(f.from=Be(s,d)),m&&(f.to=Be(s,m)),w&&(f.text=w),b!==void 0&&(f.origin=b)}),wt(s,"beforeChange",s,f),s.cm&&wt(s.cm,"beforeChange",s.cm,f),f.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function ta(s,a,h){if(s.cm){if(!s.cm.curOp)return Ut(s.cm,ta)(s,a,h);if(s.cm.state.suppressEdits)return}if(!((Xr(s,"beforeChange")||s.cm&&Xr(s.cm,"beforeChange"))&&(a=$S(s,a,!0),!a))){var f=Lb&&!h&&jR(s,a.from,a.to);if(f)for(var d=f.length-1;d>=0;--d)zS(s,{from:f[d].from,to:f[d].to,text:d?[""]:a.text,origin:a.origin});else zS(s,a)}}function zS(s,a){if(!(a.text.length==1&&a.text[0]==""&&pe(a.from,a.to)==0)){var h=Xm(s,a);AS(s,a,h,s.cm?s.cm.curOp.id:NaN),ju(s,a,h,km(s,a));var f=[];Wo(s,function(d,m){!m&&_e(f,d.history)==-1&&(US(d.history,a),f.push(d.history)),ju(d,a,null,km(d,a))})}}function Eh(s,a,h){var f=s.cm&&s.cm.state.suppressEdits;if(!(f&&!h)){for(var d=s.history,m,w=s.sel,b=a=="undo"?d.done:d.undone,k=a=="undo"?d.undone:d.done,E=0;E<b.length&&(m=b[E],!(h?m.ranges&&!m.equals(s.sel):!m.ranges));E++);if(E!=b.length){for(d.lastOrigin=d.lastSelOrigin=null;;)if(m=b.pop(),m.ranges){if(kh(m,k),h&&!m.equals(s.sel)){sr(s,m,{clearRedo:!1});return}w=m}else if(f){b.push(m);return}else break;var I=[];kh(w,k),k.push({changes:I,generation:d.generation}),d.generation=m.generation||++d.maxGeneration;for(var $=Xr(s,"beforeChange")||s.cm&&Xr(s.cm,"beforeChange"),U=function(te){var le=m.changes[te];if(le.origin=a,$&&!$S(s,le,!1))return b.length=0,{};I.push(Zm(s,le));var ce=te?Xm(s,le):Ie(b);ju(s,le,ce,LS(s,le)),!te&&s.cm&&s.cm.scrollIntoView({from:le.from,to:zo(le)});var ge=[];Wo(s,function(fe,we){!we&&_e(ge,fe.history)==-1&&(US(fe.history,le),ge.push(fe.history)),ju(fe,le,null,LS(fe,le))})},j=m.changes.length-1;j>=0;--j){var G=U(j);if(G)return G.v}}}}function WS(s,a){if(a!=0&&(s.first+=a,s.sel=new pn(Xn(s.sel.ranges,function(d){return new et(q(d.anchor.line+a,d.anchor.ch),q(d.head.line+a,d.head.ch))}),s.sel.primIndex),s.cm)){Ir(s.cm,s.first,s.first-a,a);for(var h=s.cm.display,f=h.viewFrom;f<h.viewTo;f++)_o(s.cm,f,"gutter")}}function ju(s,a,h,f){if(s.cm&&!s.cm.curOp)return Ut(s.cm,ju)(s,a,h,f);if(a.to.line<s.first){WS(s,a.text.length-1-(a.to.line-a.from.line));return}if(!(a.from.line>s.lastLine())){if(a.from.line<s.first){var d=a.text.length-1-(s.first-a.from.line);WS(s,d),a={from:q(s.first,0),to:q(a.to.line+d,a.to.ch),text:[Ie(a.text)],origin:a.origin}}var m=s.lastLine();a.to.line>m&&(a={from:a.from,to:q(m,ke(s,m).text.length),text:[a.text[0]],origin:a.origin}),a.removed=Ji(s,a.from,a.to),h||(h=Xm(s,a)),s.cm?KI(s.cm,a,f):Jm(s,a,f),Th(s,h,Pr),s.cantEdit&&Oh(s,q(s.firstLine(),0))&&(s.cantEdit=!1)}}function KI(s,a,h){var f=s.doc,d=s.display,m=a.from,w=a.to,b=!1,k=m.line;s.options.lineWrapping||(k=L(ri(ke(f,m.line))),f.iter(k,w.line+1,function(j){if(j==d.maxLine)return b=!0,!0})),f.sel.contains(a.from,a.to)>-1&&Nn(s),Jm(f,a,h,sS(s)),s.options.lineWrapping||(f.iter(k,m.line+a.text.length,function(j){var G=ch(j);G>d.maxLineLength&&(d.maxLine=j,d.maxLineLength=G,d.maxLineChanged=!0,b=!1)}),b&&(s.curOp.updateMaxLine=!0)),IR(f,m.line),$u(s,400);var E=a.text.length-(w.line-m.line)-1;a.full?Ir(s):m.line==w.line&&a.text.length==1&&!CS(s.doc,a)?_o(s,m.line,"text"):Ir(s,m.line,w.line+1,E);var I=Xr(s,"changes"),$=Xr(s,"change");if($||I){var U={from:m,to:w,text:a.text,removed:a.removed,origin:a.origin};$&&Ht(s,"change",s,U),I&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(U)}s.display.selForContextMenu=null}function ra(s,a,h,f,d){var m;f||(f=h),pe(f,h)<0&&(m=[f,h],h=m[0],f=m[1]),typeof a=="string"&&(a=s.splitLines(a)),ta(s,{from:h,to:f,text:a,origin:d})}function jS(s,a,h,f){h<s.line?s.line+=f:a<s.line&&(s.line=a,s.ch=0)}function HS(s,a,h,f){for(var d=0;d<s.length;++d){var m=s[d],w=!0;if(m.ranges){m.copied||(m=s[d]=m.deepCopy(),m.copied=!0);for(var b=0;b<m.ranges.length;b++)jS(m.ranges[b].anchor,a,h,f),jS(m.ranges[b].head,a,h,f);continue}for(var k=0;k<m.changes.length;++k){var E=m.changes[k];if(h<E.from.line)E.from=q(E.from.line+f,E.from.ch),E.to=q(E.to.line+f,E.to.ch);else if(a<=E.to.line){w=!1;break}}w||(s.splice(0,d+1),d=0)}}function US(s,a){var h=a.from.line,f=a.to.line,d=a.text.length-(f-h)-1;HS(s.done,h,f,d),HS(s.undone,h,f,d)}function Hu(s,a,h,f){var d=a,m=a;return typeof a=="number"?m=ke(s,bb(s,a)):d=L(a),d==null?null:(f(m,d)&&s.cm&&_o(s.cm,d,h),m)}function Uu(s){this.lines=s,this.parent=null;for(var a=0,h=0;h<s.length;++h)s[h].parent=this,a+=s[h].height;this.height=a}Uu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,a){for(var h=s,f=s+a;h<f;++h){var d=this.lines[h];this.height-=d.height,qR(d),Ht(d,"delete")}this.lines.splice(s,a)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,a,h){this.height+=h,this.lines=this.lines.slice(0,s).concat(a).concat(this.lines.slice(s));for(var f=0;f<a.length;++f)a[f].parent=this},iterN:function(s,a,h){for(var f=s+a;s<f;++s)if(h(this.lines[s]))return!0}};function Vu(s){this.children=s;for(var a=0,h=0,f=0;f<s.length;++f){var d=s[f];a+=d.chunkSize(),h+=d.height,d.parent=this}this.size=a,this.height=h,this.parent=null}Vu.prototype={chunkSize:function(){return this.size},removeInner:function(s,a){this.size-=a;for(var h=0;h<this.children.length;++h){var f=this.children[h],d=f.chunkSize();if(s<d){var m=Math.min(a,d-s),w=f.height;if(f.removeInner(s,m),this.height-=w-f.height,d==m&&(this.children.splice(h--,1),f.parent=null),(a-=m)==0)break;s=0}else s-=d}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof Uu))){var b=[];this.collapse(b),this.children=[new Uu(b)],this.children[0].parent=this}},collapse:function(s){for(var a=0;a<this.children.length;++a)this.children[a].collapse(s)},insertInner:function(s,a,h){this.size+=a.length,this.height+=h;for(var f=0;f<this.children.length;++f){var d=this.children[f],m=d.chunkSize();if(s<=m){if(d.insertInner(s,a,h),d.lines&&d.lines.length>50){for(var w=d.lines.length%25+25,b=w;b<d.lines.length;){var k=new Uu(d.lines.slice(b,b+=25));d.height-=k.height,this.children.splice(++f,0,k),k.parent=this}d.lines=d.lines.slice(0,w),this.maybeSpill()}break}s-=m}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var a=s.children.splice(s.children.length-5,5),h=new Vu(a);if(s.parent){s.size-=h.size,s.height-=h.height;var d=_e(s.parent.children,s);s.parent.children.splice(d+1,0,h)}else{var f=new Vu(s.children);f.parent=s,s.children=[f,h],s=f}h.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,a,h){for(var f=0;f<this.children.length;++f){var d=this.children[f],m=d.chunkSize();if(s<m){var w=Math.min(a,m-s);if(d.iterN(s,w,h))return!0;if((a-=w)==0)break;s=0}else s-=m}}};var Ku=function(s,a,h){if(h)for(var f in h)h.hasOwnProperty(f)&&(this[f]=h[f]);this.doc=s,this.node=a};Ku.prototype.clear=function(){var s=this.doc.cm,a=this.line.widgets,h=this.line,f=L(h);if(!(f==null||!a)){for(var d=0;d<a.length;++d)a[d]==this&&a.splice(d--,1);a.length||(h.widgets=null);var m=Nu(this);dn(h,Math.max(0,h.height-m)),s&&(Qr(s,function(){VS(s,h,-m),_o(s,f,"widget")}),Ht(s,"lineWidgetCleared",s,this,f))}},Ku.prototype.changed=function(){var s=this,a=this.height,h=this.doc.cm,f=this.line;this.height=null;var d=Nu(this)-a;d&&(Bo(this.doc,f)||dn(f,f.height+d),h&&Qr(h,function(){h.curOp.forceUpdate=!0,VS(h,f,d),Ht(h,"lineWidgetChanged",h,s,L(f))}))},Qn(Ku);function VS(s,a,h){eo(a)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&Um(s,h)}function qI(s,a,h,f){var d=new Ku(s,h,f),m=s.cm;return m&&d.noHScroll&&(m.display.alignWidgets=!0),Hu(s,a,"widget",function(w){var b=w.widgets||(w.widgets=[]);if(d.insertAt==null?b.push(d):b.splice(Math.min(b.length,Math.max(0,d.insertAt)),0,d),d.line=w,m&&!Bo(s,w)){var k=eo(w)<s.scrollTop;dn(w,w.height+Nu(d)),k&&Um(m,d.height),m.curOp.forceUpdate=!0}return!0}),m&&Ht(m,"lineWidgetAdded",m,d,typeof a=="number"?a:L(a)),d}var KS=0,jo=function(s,a){this.lines=[],this.type=a,this.doc=s,this.id=++KS};jo.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,a=s&&!s.curOp;if(a&&Xs(s),Xr(this,"clear")){var h=this.find();h&&Ht(this,"clear",h.from,h.to)}for(var f=null,d=null,m=0;m<this.lines.length;++m){var w=this.lines[m],b=Mu(w.markedSpans,this);s&&!this.collapsed?_o(s,L(w),"text"):s&&(b.to!=null&&(d=L(w)),b.from!=null&&(f=L(w))),w.markedSpans=FR(w.markedSpans,b),b.from==null&&this.collapsed&&!Bo(this.doc,w)&&s&&dn(w,Gl(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var k=0;k<this.lines.length;++k){var E=ri(this.lines[k]),I=ch(E);I>s.display.maxLineLength&&(s.display.maxLine=E,s.display.maxLineLength=I,s.display.maxLineChanged=!0)}f!=null&&s&&this.collapsed&&Ir(s,f,d+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&IS(s.doc)),s&&Ht(s,"markerCleared",s,this,f,d),a&&Qs(s),this.parent&&this.parent.clear()}},jo.prototype.find=function(s,a){s==null&&this.type=="bookmark"&&(s=1);for(var h,f,d=0;d<this.lines.length;++d){var m=this.lines[d],w=Mu(m.markedSpans,this);if(w.from!=null&&(h=q(a?m:L(m),w.from),s==-1))return h;if(w.to!=null&&(f=q(a?m:L(m),w.to),s==1))return f}return h&&{from:h,to:f}},jo.prototype.changed=function(){var s=this,a=this.find(-1,!0),h=this,f=this.doc.cm;!a||!f||Qr(f,function(){var d=a.line,m=L(a.line),w=Pm(f,m);if(w&&(Jb(w),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!Bo(h.doc,d)&&h.height!=null){var b=h.height;h.height=null;var k=Nu(h)-b;k&&dn(d,d.height+k)}Ht(f,"markerChanged",f,s)})},jo.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(!a.maybeHiddenMarkers||_e(a.maybeHiddenMarkers,this)==-1)&&(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},jo.prototype.detachLine=function(s){if(this.lines.splice(_e(this.lines,s),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},Qn(jo);function na(s,a,h,f,d){if(f&&f.shared)return GI(s,a,h,f,d);if(s.cm&&!s.cm.curOp)return Ut(s.cm,na)(s,a,h,f,d);var m=new jo(s,d),w=pe(a,h);if(f&&Fe(f,m,!1),w>0||w==0&&m.clearWhenEmpty!==!1)return m;if(m.replacedWith&&(m.collapsed=!0,m.widgetNode=Q("span",[m.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||m.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(m.widgetNode.insertLeft=!0)),m.collapsed){if(Bb(s,a.line,a,h,m)||a.line!=h.line&&Bb(s,h.line,a,h,m))throw new Error("Inserting collapsed marker partially overlapping an existing one");_R()}m.addToHistory&&AS(s,{from:a,to:h,origin:"markText"},s.sel,NaN);var b=a.line,k=s.cm,E;if(s.iter(b,h.line+1,function($){k&&m.collapsed&&!k.options.lineWrapping&&ri($)==k.display.maxLine&&(E=!0),m.collapsed&&b!=a.line&&dn($,0),$R($,new sh(m,b==a.line?a.ch:null,b==h.line?h.ch:null),s.cm&&s.cm.curOp),++b}),m.collapsed&&s.iter(a.line,h.line+1,function($){Bo(s,$)&&dn($,0)}),m.clearOnEnter&&Ee(m,"beforeCursorEnter",function(){return m.clear()}),m.readOnly&&(BR(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),m.collapsed&&(m.id=++KS,m.atomic=!0),k){if(E&&(k.curOp.updateMaxLine=!0),m.collapsed)Ir(k,a.line,h.line+1);else if(m.className||m.startStyle||m.endStyle||m.css||m.attributes||m.title)for(var I=a.line;I<=h.line;I++)_o(k,I,"text");m.atomic&&IS(k.doc),Ht(k,"markerAdded",k,m)}return m}var qu=function(s,a){this.markers=s,this.primary=a;for(var h=0;h<s.length;++h)s[h].parent=this};qu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();Ht(this,"clear")}},qu.prototype.find=function(s,a){return this.primary.find(s,a)},Qn(qu);function GI(s,a,h,f,d){f=Fe(f),f.shared=!1;var m=[na(s,a,h,f,d)],w=m[0],b=f.widgetNode;return Wo(s,function(k){b&&(f.widgetNode=b.cloneNode(!0)),m.push(na(k,Be(k,a),Be(k,h),f,d));for(var E=0;E<k.linked.length;++E)if(k.linked[E].isParent)return;w=Ie(m)}),new qu(m,w)}function qS(s){return s.findMarks(q(s.first,0),s.clipPos(q(s.lastLine())),function(a){return a.parent})}function YI(s,a){for(var h=0;h<a.length;h++){var f=a[h],d=f.find(),m=s.clipPos(d.from),w=s.clipPos(d.to);if(pe(m,w)){var b=na(s,m,w,f.primary,f.primary.type);f.markers.push(b),b.parent=f}}}function XI(s){for(var a=function(f){var d=s[f],m=[d.primary.doc];Wo(d.primary.doc,function(k){return m.push(k)});for(var w=0;w<d.markers.length;w++){var b=d.markers[w];_e(m,b.doc)==-1&&(b.parent=null,d.markers.splice(w--,1))}},h=0;h<s.length;h++)a(h)}var QI=0,Br=function(s,a,h,f,d){if(!(this instanceof Br))return new Br(s,a,h,f,d);h==null&&(h=0),Vu.call(this,[new Uu([new Vl("",null)])]),this.first=h,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=h;var m=q(h,0);this.sel=$o(m),this.history=new Sh(null),this.id=++QI,this.modeOption=a,this.lineSep=f,this.direction=d=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),Jm(this,{from:m,to:m,text:s}),sr(this,$o(m),Pr)};Br.prototype=Ws(Vu.prototype,{constructor:Br,iter:function(s,a,h){h?this.iterN(s-this.first,a-s,h):this.iterN(this.first,this.first+this.size,s)},insert:function(s,a){for(var h=0,f=0;f<a.length;++f)h+=a[f].height;this.insertInner(s-this.first,a,h)},remove:function(s,a){this.removeInner(s-this.first,a)},getValue:function(s){var a=Eu(this,this.first,this.first+this.size);return s===!1?a:a.join(s||this.lineSeparator())},setValue:Vt(function(s){var a=q(this.first,0),h=this.first+this.size-1;ta(this,{from:a,to:q(h,ke(this,h).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Iu(this.cm,0,0),sr(this,$o(a),Pr)}),replaceRange:function(s,a,h,f){a=Be(this,a),h=h?Be(this,h):a,ra(this,s,a,h,f)},getRange:function(s,a,h){var f=Ji(this,Be(this,s),Be(this,a));return h===!1?f:h===""?f.join(""):f.join(h||this.lineSeparator())},getLine:function(s){var a=this.getLineHandle(s);return a&&a.text},getLineHandle:function(s){if(X(this,s))return ke(this,s)},getLineNumber:function(s){return L(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=ke(this,s)),ri(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Be(this,s)},getCursor:function(s){var a=this.sel.primary(),h;return s==null||s=="head"?h=a.head:s=="anchor"?h=a.anchor:s=="end"||s=="to"||s===!1?h=a.to():h=a.from(),h},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Vt(function(s,a,h){NS(this,Be(this,typeof s=="number"?q(s,a||0):s),null,h)}),setSelection:Vt(function(s,a,h){NS(this,Be(this,s),Be(this,a||s),h)}),extendSelection:Vt(function(s,a,h){Ch(this,Be(this,s),a&&Be(this,a),h)}),extendSelections:Vt(function(s,a){PS(this,Sb(this,s),a)}),extendSelectionsBy:Vt(function(s,a){var h=Xn(this.sel.ranges,s);PS(this,Sb(this,h),a)}),setSelections:Vt(function(s,a,h){if(s.length){for(var f=[],d=0;d<s.length;d++)f[d]=new et(Be(this,s[d].anchor),Be(this,s[d].head||s[d].anchor));a==null&&(a=Math.min(s.length-1,this.sel.primIndex)),sr(this,ii(this.cm,f,a),h)}}),addSelection:Vt(function(s,a,h){var f=this.sel.ranges.slice(0);f.push(new et(Be(this,s),Be(this,a||s))),sr(this,ii(this.cm,f,f.length-1),h)}),getSelection:function(s){for(var a=this.sel.ranges,h,f=0;f<a.length;f++){var d=Ji(this,a[f].from(),a[f].to());h=h?h.concat(d):d}return s===!1?h:h.join(s||this.lineSeparator())},getSelections:function(s){for(var a=[],h=this.sel.ranges,f=0;f<h.length;f++){var d=Ji(this,h[f].from(),h[f].to());s!==!1&&(d=d.join(s||this.lineSeparator())),a[f]=d}return a},replaceSelection:function(s,a,h){for(var f=[],d=0;d<this.sel.ranges.length;d++)f[d]=s;this.replaceSelections(f,a,h||"+input")},replaceSelections:Vt(function(s,a,h){for(var f=[],d=this.sel,m=0;m<d.ranges.length;m++){var w=d.ranges[m];f[m]={from:w.from(),to:w.to(),text:this.splitLines(s[m]),origin:h}}for(var b=a&&a!="end"&&FI(this,f,a),k=f.length-1;k>=0;k--)ta(this,f[k]);b?DS(this,b):this.cm&&Ql(this.cm)}),undo:Vt(function(){Eh(this,"undo")}),redo:Vt(function(){Eh(this,"redo")}),undoSelection:Vt(function(){Eh(this,"undo",!0)}),redoSelection:Vt(function(){Eh(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,a=0,h=0,f=0;f<s.done.length;f++)s.done[f].ranges||++a;for(var d=0;d<s.undone.length;d++)s.undone[d].ranges||++h;return{undo:a,redo:h}},clearHistory:function(){var s=this;this.history=new Sh(this.history),Wo(this,function(a){return a.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:Zl(this.history.done),undone:Zl(this.history.undone)}},setHistory:function(s){var a=this.history=new Sh(this.history);a.done=Zl(s.done.slice(0),null,!0),a.undone=Zl(s.undone.slice(0),null,!0)},setGutterMarker:Vt(function(s,a,h){return Hu(this,s,"gutter",function(f){var d=f.gutterMarkers||(f.gutterMarkers={});return d[a]=h,!h&&Te(d)&&(f.gutterMarkers=null),!0})}),clearGutter:Vt(function(s){var a=this;this.iter(function(h){h.gutterMarkers&&h.gutterMarkers[s]&&Hu(a,h,"gutter",function(){return h.gutterMarkers[s]=null,Te(h.gutterMarkers)&&(h.gutterMarkers=null),!0})})}),lineInfo:function(s){var a;if(typeof s=="number"){if(!X(this,s)||(a=s,s=ke(this,s),!s))return null}else if(a=L(s),a==null)return null;return{line:a,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:Vt(function(s,a,h){return Hu(this,s,a=="gutter"?"gutter":"class",function(f){var d=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(!f[d])f[d]=h;else{if(de(h).test(f[d]))return!1;f[d]+=" "+h}return!0})}),removeLineClass:Vt(function(s,a,h){return Hu(this,s,a=="gutter"?"gutter":"class",function(f){var d=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",m=f[d];if(m)if(h==null)f[d]=null;else{var w=m.match(de(h));if(!w)return!1;var b=w.index+w[0].length;f[d]=m.slice(0,w.index)+(!w.index||b==m.length?"":" ")+m.slice(b)||null}else return!1;return!0})}),addLineWidget:Vt(function(s,a,h){return qI(this,s,a,h)}),removeLineWidget:function(s){s.clear()},markText:function(s,a,h){return na(this,Be(this,s),Be(this,a),h,h&&h.type||"range")},setBookmark:function(s,a){var h={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return s=Be(this,s),na(this,s,s,h,"bookmark")},findMarksAt:function(s){s=Be(this,s);var a=[],h=ke(this,s.line).markedSpans;if(h)for(var f=0;f<h.length;++f){var d=h[f];(d.from==null||d.from<=s.ch)&&(d.to==null||d.to>=s.ch)&&a.push(d.marker.parent||d.marker)}return a},findMarks:function(s,a,h){s=Be(this,s),a=Be(this,a);var f=[],d=s.line;return this.iter(s.line,a.line+1,function(m){var w=m.markedSpans;if(w)for(var b=0;b<w.length;b++){var k=w[b];!(k.to!=null&&d==s.line&&s.ch>=k.to||k.from==null&&d!=s.line||k.from!=null&&d==a.line&&k.from>=a.ch)&&(!h||h(k.marker))&&f.push(k.marker.parent||k.marker)}++d}),f},getAllMarks:function(){var s=[];return this.iter(function(a){var h=a.markedSpans;if(h)for(var f=0;f<h.length;++f)h[f].from!=null&&s.push(h[f].marker)}),s},posFromIndex:function(s){var a,h=this.first,f=this.lineSeparator().length;return this.iter(function(d){var m=d.text.length+f;if(m>s)return a=s,!0;s-=m,++h}),Be(this,q(h,a))},indexFromPos:function(s){s=Be(this,s);var a=s.ch;if(s.line<this.first||s.ch<0)return 0;var h=this.lineSeparator().length;return this.iter(this.first,s.line,function(f){a+=f.text.length+h}),a},copy:function(s){var a=new Br(Eu(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,s&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(s){s||(s={});var a=this.first,h=this.first+this.size;s.from!=null&&s.from>a&&(a=s.from),s.to!=null&&s.to<h&&(h=s.to);var f=new Br(Eu(this,a,h),s.mode||this.modeOption,a,this.lineSep,this.direction);return s.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:s.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],YI(f,qS(this)),f},unlinkDoc:function(s){if(s instanceof ft&&(s=s.doc),this.linked)for(var a=0;a<this.linked.length;++a){var h=this.linked[a];if(h.doc==s){this.linked.splice(a,1),s.unlinkDoc(this),XI(qS(this));break}}if(s.history==this.history){var f=[s.id];Wo(s,function(d){return f.push(d.id)},!0),s.history=new Sh(null),s.history.done=Zl(this.history.done,f),s.history.undone=Zl(this.history.undone,f)}},iterLinkedDocs:function(s){Wo(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):Dn(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Vt(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(a){return a.order=null}),this.cm&&$I(this.cm))})}),Br.prototype.eachLine=Br.prototype.iter;var GS=0;function JI(s){var a=this;if(YS(a),!(xt(a,s)||to(a.display,s))){or(s),c&&(GS=+new Date);var h=Ks(a,s,!0),f=s.dataTransfer.files;if(!(!h||a.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var d=f.length,m=Array(d),w=0,b=function(){++w==d&&Ut(a,function(){h=Be(a.doc,h);var j={from:h,to:h,text:a.doc.splitLines(m.filter(function(G){return G!=null}).join(a.doc.lineSeparator())),origin:"paste"};ta(a.doc,j),DS(a.doc,$o(Be(a.doc,h),Be(a.doc,zo(j))))})()},k=function(j,G){if(a.options.allowDropFileTypes&&_e(a.options.allowDropFileTypes,j.type)==-1){b();return}var te=new FileReader;te.onerror=function(){return b()},te.onload=function(){var le=te.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(le)){b();return}m[G]=le,b()},te.readAsText(j)},E=0;E<f.length;E++)k(f[E],E);else{if(a.state.draggingText&&a.doc.sel.contains(h)>-1){a.state.draggingText(s),setTimeout(function(){return a.display.input.focus()},20);return}try{var I=s.dataTransfer.getData("Text");if(I){var $;if(a.state.draggingText&&!a.state.draggingText.copy&&($=a.listSelections()),Th(a.doc,$o(h,h)),$)for(var U=0;U<$.length;++U)ra(a.doc,"",$[U].anchor,$[U].head,"drag");a.replaceSelection(I,"around","paste"),a.display.input.focus()}}catch{}}}}function ZI(s,a){if(c&&(!s.state.draggingText||+new Date-GS<100)){No(a);return}if(!(xt(s,a)||to(s.display,a))&&(a.dataTransfer.setData("Text",s.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!A)){var h=_("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",T&&(h.width=h.height=1,s.display.wrapper.appendChild(h),h._top=h.offsetTop),a.dataTransfer.setDragImage(h,0,0),T&&h.parentNode.removeChild(h)}}function e3(s,a){var h=Ks(s,a);if(h){var f=document.createDocumentFragment();$m(s,h,f),s.display.dragCursor||(s.display.dragCursor=_("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),Z(s.display.dragCursor,f)}}function YS(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function XS(s){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),h=[],f=0;f<a.length;f++){var d=a[f].CodeMirror;d&&h.push(d)}h.length&&h[0].operation(function(){for(var m=0;m<h.length;m++)s(h[m])})}}var QS=!1;function t3(){QS||(r3(),QS=!0)}function r3(){var s;Ee(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,XS(n3)},100))}),Ee(window,"blur",function(){return XS(Xl)})}function n3(s){var a=s.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,s.setSize()}for(var Ho={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Gu=0;Gu<10;Gu++)Ho[Gu+48]=Ho[Gu+96]=String(Gu);for(var Ah=65;Ah<=90;Ah++)Ho[Ah]=String.fromCharCode(Ah);for(var Yu=1;Yu<=12;Yu++)Ho[Yu+111]=Ho[Yu+63235]="F"+Yu;var no={};no.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},no.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},no.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},no.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},no.default=D?no.macDefault:no.pcDefault;function i3(s){var a=s.split(/-(?!$)/);s=a[a.length-1];for(var h,f,d,m,w=0;w<a.length-1;w++){var b=a[w];if(/^(cmd|meta|m)$/i.test(b))m=!0;else if(/^a(lt)?$/i.test(b))h=!0;else if(/^(c|ctrl|control)$/i.test(b))f=!0;else if(/^s(hift)?$/i.test(b))d=!0;else throw new Error("Unrecognized modifier name: "+b)}return h&&(s="Alt-"+s),f&&(s="Ctrl-"+s),m&&(s="Cmd-"+s),d&&(s="Shift-"+s),s}function o3(s){var a={};for(var h in s)if(s.hasOwnProperty(h)){var f=s[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h))continue;if(f=="..."){delete s[h];continue}for(var d=Xn(h.split(" "),i3),m=0;m<d.length;m++){var w=void 0,b=void 0;m==d.length-1?(b=d.join(" "),w=f):(b=d.slice(0,m+1).join(" "),w="...");var k=a[b];if(!k)a[b]=w;else if(k!=w)throw new Error("Inconsistent bindings for "+b)}delete s[h]}for(var E in a)s[E]=a[E];return s}function ia(s,a,h,f){a=Mh(a);var d=a.call?a.call(s,f):a[s];if(d===!1)return"nothing";if(d==="...")return"multi";if(d!=null&&h(d))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return ia(s,a.fallthrough,h,f);for(var m=0;m<a.fallthrough.length;m++){var w=ia(s,a.fallthrough[m],h,f);if(w)return w}}}function JS(s){var a=typeof s=="string"?s:Ho[s.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function ZS(s,a,h){var f=s;return a.altKey&&f!="Alt"&&(s="Alt-"+s),(J?a.metaKey:a.ctrlKey)&&f!="Ctrl"&&(s="Ctrl-"+s),(J?a.ctrlKey:a.metaKey)&&f!="Mod"&&(s="Cmd-"+s),!h&&a.shiftKey&&f!="Shift"&&(s="Shift-"+s),s}function ek(s,a){if(T&&s.keyCode==34&&s.char)return!1;var h=Ho[s.keyCode];return h==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(h=s.code),ZS(h,s,a))}function Mh(s){return typeof s=="string"?no[s]:s}function oa(s,a){for(var h=s.doc.sel.ranges,f=[],d=0;d<h.length;d++){for(var m=a(h[d]);f.length&&pe(m.from,Ie(f).to)<=0;){var w=f.pop();if(pe(w.from,m.from)<0){m.from=w.from;break}}f.push(m)}Qr(s,function(){for(var b=f.length-1;b>=0;b--)ra(s.doc,"",f[b].from,f[b].to,"+delete");Ql(s)})}function rv(s,a,h){var f=Yr(s.text,a+h,h);return f<0||f>s.text.length?null:f}function nv(s,a,h){var f=rv(s,a.ch,h);return f==null?null:new q(a.line,f,h<0?"after":"before")}function iv(s,a,h,f,d){if(s){a.doc.direction=="rtl"&&(d=-d);var m=Ue(h,a.doc.direction);if(m){var w=d<0?Ie(m):m[0],b=d<0==(w.level==1),k=b?"after":"before",E;if(w.level>0||a.doc.direction=="rtl"){var I=ql(a,h);E=d<0?h.text.length-1:0;var $=Ci(a,I,E).top;E=Pn(function(U){return Ci(a,I,U).top==$},d<0==(w.level==1)?w.from:w.to-1,E),k=="before"&&(E=rv(h,E,1))}else E=d<0?w.to:w.from;return new q(f,E,k)}}return new q(f,d<0?h.text.length:0,d<0?"before":"after")}function s3(s,a,h,f){var d=Ue(a,s.doc.direction);if(!d)return nv(a,h,f);h.ch>=a.text.length?(h.ch=a.text.length,h.sticky="before"):h.ch<=0&&(h.ch=0,h.sticky="after");var m=Po(d,h.ch,h.sticky),w=d[m];if(s.doc.direction=="ltr"&&w.level%2==0&&(f>0?w.to>h.ch:w.from<h.ch))return nv(a,h,f);var b=function(ce,ge){return rv(a,ce instanceof q?ce.ch:ce,ge)},k,E=function(ce){return s.options.lineWrapping?(k=k||ql(s,a),oS(s,a,k,ce)):{begin:0,end:a.text.length}},I=E(h.sticky=="before"?b(h,-1):h.ch);if(s.doc.direction=="rtl"||w.level==1){var $=w.level==1==f<0,U=b(h,$?1:-1);if(U!=null&&($?U<=w.to&&U<=I.end:U>=w.from&&U>=I.begin)){var j=$?"before":"after";return new q(h.line,U,j)}}var G=function(ce,ge,fe){for(var we=function(it,Kt){return Kt?new q(h.line,b(it,1),"before"):new q(h.line,it,"after")};ce>=0&&ce<d.length;ce+=ge){var Ae=d[ce],Oe=ge>0==(Ae.level!=1),ze=Oe?fe.begin:b(fe.end,-1);if(Ae.from<=ze&&ze<Ae.to||(ze=Oe?Ae.from:b(Ae.to,-1),fe.begin<=ze&&ze<fe.end))return we(ze,Oe)}},te=G(m+f,f,I);if(te)return te;var le=f>0?I.end:b(I.begin,-1);return le!=null&&!(f>0&&le==a.text.length)&&(te=G(f>0?0:d.length-1,f,E(le)),te)?te:null}var Xu={selectAll:FS,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),Pr)},killLine:function(s){return oa(s,function(a){if(a.empty()){var h=ke(s.doc,a.head.line).text.length;return a.head.ch==h&&a.head.line<s.lastLine()?{from:a.head,to:q(a.head.line+1,0)}:{from:a.head,to:q(a.head.line,h)}}else return{from:a.from(),to:a.to()}})},deleteLine:function(s){return oa(s,function(a){return{from:q(a.from().line,0),to:Be(s.doc,q(a.to().line+1,0))}})},delLineLeft:function(s){return oa(s,function(a){return{from:q(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(s){return oa(s,function(a){var h=s.charCoords(a.head,"div").top+5,f=s.coordsChar({left:0,top:h},"div");return{from:f,to:a.from()}})},delWrappedLineRight:function(s){return oa(s,function(a){var h=s.charCoords(a.head,"div").top+5,f=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:h},"div");return{from:a.from(),to:f}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(q(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(q(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(a){return tk(s,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(a){return rk(s,a.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(a){return l3(s,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(a){var h=s.cursorCoords(a.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:h},"div")},Nr)},goLineLeft:function(s){return s.extendSelectionsBy(function(a){var h=s.cursorCoords(a.head,"div").top+5;return s.coordsChar({left:0,top:h},"div")},Nr)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(a){var h=s.cursorCoords(a.head,"div").top+5,f=s.coordsChar({left:0,top:h},"div");return f.ch<s.getLine(f.line).search(/\S/)?rk(s,a.head):f},Nr)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var a=[],h=s.listSelections(),f=s.options.tabSize,d=0;d<h.length;d++){var m=h[d].from(),w=je(s.getLine(m.line),m.ch,f);a.push(Mo(f-w%f))}s.replaceSelections(a)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return Qr(s,function(){for(var a=s.listSelections(),h=[],f=0;f<a.length;f++)if(a[f].empty()){var d=a[f].head,m=ke(s.doc,d.line).text;if(m){if(d.ch==m.length&&(d=new q(d.line,d.ch-1)),d.ch>0)d=new q(d.line,d.ch+1),s.replaceRange(m.charAt(d.ch-1)+m.charAt(d.ch-2),q(d.line,d.ch-2),d,"+transpose");else if(d.line>s.doc.first){var w=ke(s.doc,d.line-1).text;w&&(d=new q(d.line,1),s.replaceRange(m.charAt(0)+s.doc.lineSeparator()+w.charAt(w.length-1),q(d.line-1,w.length-1),d,"+transpose"))}}h.push(new et(d,d))}s.setSelections(h)})},newlineAndIndent:function(s){return Qr(s,function(){for(var a=s.listSelections(),h=a.length-1;h>=0;h--)s.replaceRange(s.doc.lineSeparator(),a[h].anchor,a[h].head,"+input");a=s.listSelections();for(var f=0;f<a.length;f++)s.indentLine(a[f].from().line,null,!0);Ql(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function tk(s,a){var h=ke(s.doc,a),f=ri(h);return f!=h&&(a=L(f)),iv(!0,s,f,a,1)}function l3(s,a){var h=ke(s.doc,a),f=UR(h);return f!=h&&(a=L(f)),iv(!0,s,h,a,-1)}function rk(s,a){var h=tk(s,a.line),f=ke(s.doc,h.line),d=Ue(f,s.doc.direction);if(!d||d[0].level==0){var m=Math.max(h.ch,f.text.search(/\S/)),w=a.line==h.line&&a.ch<=m&&a.ch;return q(h.line,w?0:m,h.sticky)}return h}function Lh(s,a,h){if(typeof a=="string"&&(a=Xu[a],!a))return!1;s.display.input.ensurePolled();var f=s.display.shift,d=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),h&&(s.display.shift=!1),d=a(s)!=Yn}finally{s.display.shift=f,s.state.suppressEdits=!1}return d}function a3(s,a,h){for(var f=0;f<s.state.keyMaps.length;f++){var d=ia(a,s.state.keyMaps[f],h,s);if(d)return d}return s.options.extraKeys&&ia(a,s.options.extraKeys,h,s)||ia(a,s.options.keyMap,h,s)}var u3=new An;function Qu(s,a,h,f){var d=s.state.keySeq;if(d){if(JS(a))return"handled";if(/\'$/.test(a)?s.state.keySeq=null:u3.set(50,function(){s.state.keySeq==d&&(s.state.keySeq=null,s.display.input.reset())}),nk(s,d+" "+a,h,f))return!0}return nk(s,a,h,f)}function nk(s,a,h,f){var d=a3(s,a,f);return d=="multi"&&(s.state.keySeq=a),d=="handled"&&Ht(s,"keyHandled",s,a,h),(d=="handled"||d=="multi")&&(or(h),zm(s)),!!d}function ik(s,a){var h=ek(a,!0);return h?a.shiftKey&&!s.state.keySeq?Qu(s,"Shift-"+h,a,function(f){return Lh(s,f,!0)})||Qu(s,h,a,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return Lh(s,f)}):Qu(s,h,a,function(f){return Lh(s,f)}):!1}function c3(s,a,h){return Qu(s,"'"+h+"'",a,function(f){return Lh(s,f,!0)})}var ov=null;function ok(s){var a=this;if(!(s.target&&s.target!=a.display.input.getField())&&(a.curOp.focus=B(Ke(a)),!xt(a,s))){c&&p<11&&s.keyCode==27&&(s.returnValue=!1);var h=s.keyCode;a.display.shift=h==16||s.shiftKey;var f=ik(a,s);T&&(ov=f?h:null,!f&&h==88&&!ih&&(D?s.metaKey:s.ctrlKey)&&a.replaceSelection("",null,"cut")),i&&!D&&!f&&h==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),h==18&&!/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)&&f3(a)}}function f3(s){var a=s.display.lineDiv;V(a,"CodeMirror-crosshair");function h(f){(f.keyCode==18||!f.altKey)&&(ue(a,"CodeMirror-crosshair"),ir(document,"keyup",h),ir(document,"mouseover",h))}Ee(document,"keyup",h),Ee(document,"mouseover",h)}function sk(s){s.keyCode==16&&(this.doc.sel.shift=!1),xt(this,s)}function lk(s){var a=this;if(!(s.target&&s.target!=a.display.input.getField())&&!(to(a.display,s)||xt(a,s)||s.ctrlKey&&!s.altKey||D&&s.metaKey)){var h=s.keyCode,f=s.charCode;if(T&&h==ov){ov=null,or(s);return}if(!(T&&(!s.which||s.which<10)&&ik(a,s))){var d=String.fromCharCode(f??h);d!="\b"&&(c3(a,s,d)||a.display.input.onKeyPress(s))}}}var h3=400,sv=function(s,a,h){this.time=s,this.pos=a,this.button=h};sv.prototype.compare=function(s,a,h){return this.time+h3>s&&pe(a,this.pos)==0&&h==this.button};var Ju,Zu;function d3(s,a){var h=+new Date;return Zu&&Zu.compare(h,s,a)?(Ju=Zu=null,"triple"):Ju&&Ju.compare(h,s,a)?(Zu=new sv(h,s,a),Ju=null,"double"):(Ju=new sv(h,s,a),Zu=null,"single")}function ak(s){var a=this,h=a.display;if(!(xt(a,s)||h.activeTouch&&h.input.supportsTouch())){if(h.input.ensurePolled(),h.shift=s.shiftKey,to(h,s)){g||(h.scroller.draggable=!1,setTimeout(function(){return h.scroller.draggable=!0},100));return}if(!lv(a,s)){var f=Ks(a,s),d=Jn(s),m=f?d3(f,d):"single";Ce(a).focus(),d==1&&a.state.selectingText&&a.state.selectingText(s),!(f&&p3(a,d,f,m,s))&&(d==1?f?m3(a,f,m,s):Cu(s)==h.scroller&&or(s):d==2?(f&&Ch(a.doc,f),setTimeout(function(){return h.input.focus()},20)):d==3&&(ie?a.display.input.onContextMenu(s):Wm(a)))}}}function p3(s,a,h,f,d){var m="Click";return f=="double"?m="Double"+m:f=="triple"&&(m="Triple"+m),m=(a==1?"Left":a==2?"Middle":"Right")+m,Qu(s,ZS(m,d),d,function(w){if(typeof w=="string"&&(w=Xu[w]),!w)return!1;var b=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),b=w(s,h)!=Yn}finally{s.state.suppressEdits=!1}return b})}function g3(s,a,h){var f=s.getOption("configureMouse"),d=f?f(s,a,h):{};if(d.unit==null){var m=W?h.shiftKey&&h.metaKey:h.altKey;d.unit=m?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(d.extend==null||s.doc.extend)&&(d.extend=s.doc.extend||h.shiftKey),d.addNew==null&&(d.addNew=D?h.metaKey:h.ctrlKey),d.moveOnDrag==null&&(d.moveOnDrag=!(D?h.altKey:h.ctrlKey)),d}function m3(s,a,h,f){c?setTimeout(Me(uS,s),0):s.curOp.focus=B(Ke(s));var d=g3(s,h,f),m=s.doc.sel,w;s.options.dragDrop&&wm&&!s.isReadOnly()&&h=="single"&&(w=m.contains(a))>-1&&(pe((w=m.ranges[w]).from(),a)<0||a.xRel>0)&&(pe(w.to(),a)>0||a.xRel<0)?v3(s,f,a,d):y3(s,f,a,d)}function v3(s,a,h,f){var d=s.display,m=!1,w=Ut(s,function(E){g&&(d.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:Wm(s)),ir(d.wrapper.ownerDocument,"mouseup",w),ir(d.wrapper.ownerDocument,"mousemove",b),ir(d.scroller,"dragstart",k),ir(d.scroller,"drop",w),m||(or(E),f.addNew||Ch(s.doc,h,null,null,f.extend),g&&!A||c&&p==9?setTimeout(function(){d.wrapper.ownerDocument.body.focus({preventScroll:!0}),d.input.focus()},20):d.input.focus())}),b=function(E){m=m||Math.abs(a.clientX-E.clientX)+Math.abs(a.clientY-E.clientY)>=10},k=function(){return m=!0};g&&(d.scroller.draggable=!0),s.state.draggingText=w,w.copy=!f.moveOnDrag,Ee(d.wrapper.ownerDocument,"mouseup",w),Ee(d.wrapper.ownerDocument,"mousemove",b),Ee(d.scroller,"dragstart",k),Ee(d.scroller,"drop",w),s.state.delayingBlurEvent=!0,setTimeout(function(){return d.input.focus()},20),d.scroller.dragDrop&&d.scroller.dragDrop()}function uk(s,a,h){if(h=="char")return new et(a,a);if(h=="word")return s.findWordAt(a);if(h=="line")return new et(q(a.line,0),Be(s.doc,q(a.line+1,0)));var f=h(s,a);return new et(f.from,f.to)}function y3(s,a,h,f){c&&Wm(s);var d=s.display,m=s.doc;or(a);var w,b,k=m.sel,E=k.ranges;if(f.addNew&&!f.extend?(b=m.sel.contains(h),b>-1?w=E[b]:w=new et(h,h)):(w=m.sel.primary(),b=m.sel.primIndex),f.unit=="rectangle")f.addNew||(w=new et(h,h)),h=Ks(s,a,!0,!0),b=-1;else{var I=uk(s,h,f.unit);f.extend?w=ev(w,I.anchor,I.head,f.extend):w=I}f.addNew?b==-1?(b=E.length,sr(m,ii(s,E.concat([w]),b),{scroll:!1,origin:"*mouse"})):E.length>1&&E[b].empty()&&f.unit=="char"&&!f.extend?(sr(m,ii(s,E.slice(0,b).concat(E.slice(b+1)),0),{scroll:!1,origin:"*mouse"}),k=m.sel):tv(m,b,w,Mn):(b=0,sr(m,new pn([w],0),Mn),k=m.sel);var $=h;function U(fe){if(pe($,fe)!=0)if($=fe,f.unit=="rectangle"){for(var we=[],Ae=s.options.tabSize,Oe=je(ke(m,h.line).text,h.ch,Ae),ze=je(ke(m,fe.line).text,fe.ch,Ae),it=Math.min(Oe,ze),Kt=Math.max(Oe,ze),mt=Math.min(h.line,fe.line),Jr=Math.min(s.lastLine(),Math.max(h.line,fe.line));mt<=Jr;mt++){var _r=ke(m,mt).text,At=hn(_r,it,Ae);it==Kt?we.push(new et(q(mt,At),q(mt,At))):_r.length>At&&we.push(new et(q(mt,At),q(mt,hn(_r,Kt,Ae))))}we.length||we.push(new et(h,h)),sr(m,ii(s,k.ranges.slice(0,b).concat(we),b),{origin:"*mouse",scroll:!1}),s.scrollIntoView(fe)}else{var Fr=w,er=uk(s,fe,f.unit),Bt=Fr.anchor,Mt;pe(er.anchor,Bt)>0?(Mt=er.head,Bt=Ul(Fr.from(),er.anchor)):(Mt=er.anchor,Bt=Rr(Fr.to(),er.head));var St=k.ranges.slice(0);St[b]=w3(s,new et(Be(m,Bt),Mt)),sr(m,ii(s,St,b),Mn)}}var j=d.wrapper.getBoundingClientRect(),G=0;function te(fe){var we=++G,Ae=Ks(s,fe,!0,f.unit=="rectangle");if(Ae)if(pe(Ae,$)!=0){s.curOp.focus=B(Ke(s)),U(Ae);var Oe=yh(d,m);(Ae.line>=Oe.to||Ae.line<Oe.from)&&setTimeout(Ut(s,function(){G==we&&te(fe)}),150)}else{var ze=fe.clientY<j.top?-20:fe.clientY>j.bottom?20:0;ze&&setTimeout(Ut(s,function(){G==we&&(d.scroller.scrollTop+=ze,te(fe))}),50)}}function le(fe){s.state.selectingText=!1,G=1/0,fe&&(or(fe),d.input.focus()),ir(d.wrapper.ownerDocument,"mousemove",ce),ir(d.wrapper.ownerDocument,"mouseup",ge),m.history.lastSelOrigin=null}var ce=Ut(s,function(fe){fe.buttons===0||!Jn(fe)?le(fe):te(fe)}),ge=Ut(s,le);s.state.selectingText=ge,Ee(d.wrapper.ownerDocument,"mousemove",ce),Ee(d.wrapper.ownerDocument,"mouseup",ge)}function w3(s,a){var h=a.anchor,f=a.head,d=ke(s.doc,h.line);if(pe(h,f)==0&&h.sticky==f.sticky)return a;var m=Ue(d);if(!m)return a;var w=Po(m,h.ch,h.sticky),b=m[w];if(b.from!=h.ch&&b.to!=h.ch)return a;var k=w+(b.from==h.ch==(b.level!=1)?0:1);if(k==0||k==m.length)return a;var E;if(f.line!=h.line)E=(f.line-h.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var I=Po(m,f.ch,f.sticky),$=I-w||(f.ch-h.ch)*(b.level==1?-1:1);I==k-1||I==k?E=$<0:E=$>0}var U=m[k+(E?-1:0)],j=E==(U.level==1),G=j?U.from:U.to,te=j?"after":"before";return h.ch==G&&h.sticky==te?a:new et(new q(h.line,G,te),f)}function ck(s,a,h,f){var d,m;if(a.touches)d=a.touches[0].clientX,m=a.touches[0].clientY;else try{d=a.clientX,m=a.clientY}catch{return!1}if(d>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;f&&or(a);var w=s.display,b=w.lineDiv.getBoundingClientRect();if(m>b.bottom||!Xr(s,h))return Dr(a);m-=b.top-w.viewOffset;for(var k=0;k<s.display.gutterSpecs.length;++k){var E=w.gutters.childNodes[k];if(E&&E.getBoundingClientRect().right>=d){var I=F(s.doc,m),$=s.display.gutterSpecs[k];return wt(s,h,s,I,$.className,a),Dr(a)}}}function lv(s,a){return ck(s,a,"gutterClick",!0)}function fk(s,a){to(s.display,a)||x3(s,a)||xt(s,a,"contextmenu")||ie||s.display.input.onContextMenu(a)}function x3(s,a){return Xr(s,"gutterContextMenu")?ck(s,a,"gutterContextMenu",!1):!1}function hk(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Du(s)}var sa={toString:function(){return"CodeMirror.Init"}},dk={},Ph={};function b3(s){var a=s.optionHandlers;function h(f,d,m,w){s.defaults[f]=d,m&&(a[f]=w?function(b,k,E){E!=sa&&m(b,k,E)}:m)}s.defineOption=h,s.Init=sa,h("value","",function(f,d){return f.setValue(d)},!0),h("mode",null,function(f,d){f.doc.modeOption=d,Qm(f)},!0),h("indentUnit",2,Qm,!0),h("indentWithTabs",!1),h("smartIndent",!0),h("tabSize",4,function(f){Wu(f),Du(f),Ir(f)},!0),h("lineSeparator",null,function(f,d){if(f.doc.lineSep=d,!!d){var m=[],w=f.doc.first;f.doc.iter(function(k){for(var E=0;;){var I=k.text.indexOf(d,E);if(I==-1)break;E=I+d.length,m.push(q(w,I))}w++});for(var b=m.length-1;b>=0;b--)ra(f.doc,d,m[b],q(m[b].line,m[b].ch+d.length))}}),h("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(f,d,m){f.state.specialChars=new RegExp(d.source+(d.test("	")?"":"|	"),"g"),m!=sa&&f.refresh()}),h("specialCharPlaceholder",XR,function(f){return f.refresh()},!0),h("electricChars",!0),h("inputStyle",N?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h("spellcheck",!1,function(f,d){return f.getInputField().spellcheck=d},!0),h("autocorrect",!1,function(f,d){return f.getInputField().autocorrect=d},!0),h("autocapitalize",!1,function(f,d){return f.getInputField().autocapitalize=d},!0),h("rtlMoveVisually",!z),h("wholeLineUpdateBefore",!0),h("theme","default",function(f){hk(f),zu(f)},!0),h("keyMap","default",function(f,d,m){var w=Mh(d),b=m!=sa&&Mh(m);b&&b.detach&&b.detach(f,w),w.attach&&w.attach(f,b||null)}),h("extraKeys",null),h("configureMouse",null),h("lineWrapping",!1,k3,!0),h("gutters",[],function(f,d){f.display.gutterSpecs=Ym(d,f.options.lineNumbers),zu(f)},!0),h("fixedGutter",!0,function(f,d){f.display.gutters.style.left=d?_m(f.display)+"px":"0",f.refresh()},!0),h("coverGutterNextToScrollbar",!1,function(f){return Jl(f)},!0),h("scrollbarStyle","native",function(f){gS(f),Jl(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),h("lineNumbers",!1,function(f,d){f.display.gutterSpecs=Ym(f.options.gutters,d),zu(f)},!0),h("firstLineNumber",1,zu,!0),h("lineNumberFormatter",function(f){return f},zu,!0),h("showCursorWhenSelecting",!1,Ru,!0),h("resetSelectionOnContextMenu",!0),h("lineWiseCopyCut",!0),h("pasteLinesPerSelection",!0),h("selectionsMayTouch",!1),h("readOnly",!1,function(f,d){d=="nocursor"&&(Xl(f),f.display.input.blur()),f.display.input.readOnlyChanged(d)}),h("screenReaderLabel",null,function(f,d){d=d===""?null:d,f.display.input.screenReaderLabelChanged(d)}),h("disableInput",!1,function(f,d){d||f.display.input.reset()},!0),h("dragDrop",!0,S3),h("allowDropFileTypes",null),h("cursorBlinkRate",530),h("cursorScrollMargin",0),h("cursorHeight",1,Ru,!0),h("singleCursorHeightPerLine",!0,Ru,!0),h("workTime",100),h("workDelay",100),h("flattenSpans",!0,Wu,!0),h("addModeClass",!1,Wu,!0),h("pollInterval",100),h("undoDepth",200,function(f,d){return f.doc.history.undoDepth=d}),h("historyEventDelay",1250),h("viewportMargin",10,function(f){return f.refresh()},!0),h("maxHighlightLength",1e4,Wu,!0),h("moveInputWithCursor",!0,function(f,d){d||f.display.input.resetPosition()}),h("tabindex",null,function(f,d){return f.display.input.getField().tabIndex=d||""}),h("autofocus",null),h("direction","ltr",function(f,d){return f.doc.setDirection(d)},!0),h("phrases",null)}function S3(s,a,h){var f=h&&h!=sa;if(!a!=!f){var d=s.display.dragFunctions,m=a?Ee:ir;m(s.display.scroller,"dragstart",d.start),m(s.display.scroller,"dragenter",d.enter),m(s.display.scroller,"dragover",d.over),m(s.display.scroller,"dragleave",d.leave),m(s.display.scroller,"drop",d.drop)}}function k3(s){s.options.lineWrapping?(V(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(ue(s.display.wrapper,"CodeMirror-wrap"),Em(s)),Fm(s),Ir(s),Du(s),setTimeout(function(){return Jl(s)},100)}function ft(s,a){var h=this;if(!(this instanceof ft))return new ft(s,a);this.options=a=a?Fe(a):{},Fe(dk,a,!1);var f=a.value;typeof f=="string"?f=new Br(f,a.mode,null,a.lineSeparator,a.direction):a.mode&&(f.modeOption=a.mode),this.doc=f;var d=new ft.inputStyles[a.inputStyle](this),m=this.display=new BI(s,f,d,a);m.wrapper.CodeMirror=this,hk(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),gS(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new An,keySeq:null,specialChars:null},a.autofocus&&!N&&m.input.focus(),c&&p<11&&setTimeout(function(){return h.display.input.reset(!0)},20),C3(this),t3(),Xs(this),this.curOp.forceUpdate=!0,TS(this,f),a.autofocus&&!N||this.hasFocus()?setTimeout(function(){h.hasFocus()&&!h.state.focused&&jm(h)},20):Xl(this);for(var w in Ph)Ph.hasOwnProperty(w)&&Ph[w](this,a[w],sa);yS(this),a.finishInit&&a.finishInit(this);for(var b=0;b<av.length;++b)av[b](this);Qs(this),g&&a.lineWrapping&&getComputedStyle(m.lineDiv).textRendering=="optimizelegibility"&&(m.lineDiv.style.textRendering="auto")}ft.defaults=dk,ft.optionHandlers=Ph;function C3(s){var a=s.display;Ee(a.scroller,"mousedown",Ut(s,ak)),c&&p<11?Ee(a.scroller,"dblclick",Ut(s,function(k){if(!xt(s,k)){var E=Ks(s,k);if(!(!E||lv(s,k)||to(s.display,k))){or(k);var I=s.findWordAt(E);Ch(s.doc,I.anchor,I.head)}}})):Ee(a.scroller,"dblclick",function(k){return xt(s,k)||or(k)}),Ee(a.scroller,"contextmenu",function(k){return fk(s,k)}),Ee(a.input.getField(),"contextmenu",function(k){a.scroller.contains(k.target)||fk(s,k)});var h,f={end:0};function d(){a.activeTouch&&(h=setTimeout(function(){return a.activeTouch=null},1e3),f=a.activeTouch,f.end=+new Date)}function m(k){if(k.touches.length!=1)return!1;var E=k.touches[0];return E.radiusX<=1&&E.radiusY<=1}function w(k,E){if(E.left==null)return!0;var I=E.left-k.left,$=E.top-k.top;return I*I+$*$>20*20}Ee(a.scroller,"touchstart",function(k){if(!xt(s,k)&&!m(k)&&!lv(s,k)){a.input.ensurePolled(),clearTimeout(h);var E=+new Date;a.activeTouch={start:E,moved:!1,prev:E-f.end<=300?f:null},k.touches.length==1&&(a.activeTouch.left=k.touches[0].pageX,a.activeTouch.top=k.touches[0].pageY)}}),Ee(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),Ee(a.scroller,"touchend",function(k){var E=a.activeTouch;if(E&&!to(a,k)&&E.left!=null&&!E.moved&&new Date-E.start<300){var I=s.coordsChar(a.activeTouch,"page"),$;!E.prev||w(E,E.prev)?$=new et(I,I):!E.prev.prev||w(E,E.prev.prev)?$=s.findWordAt(I):$=new et(q(I.line,0),Be(s.doc,q(I.line+1,0))),s.setSelection($.anchor,$.head),s.focus(),or(k)}d()}),Ee(a.scroller,"touchcancel",d),Ee(a.scroller,"scroll",function(){a.scroller.clientHeight&&(Bu(s,a.scroller.scrollTop),Gs(s,a.scroller.scrollLeft,!0),wt(s,"scroll",s))}),Ee(a.scroller,"mousewheel",function(k){return bS(s,k)}),Ee(a.scroller,"DOMMouseScroll",function(k){return bS(s,k)}),Ee(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(k){xt(s,k)||No(k)},over:function(k){xt(s,k)||(e3(s,k),No(k))},start:function(k){return ZI(s,k)},drop:Ut(s,JI),leave:function(k){xt(s,k)||YS(s)}};var b=a.input.getField();Ee(b,"keyup",function(k){return sk.call(s,k)}),Ee(b,"keydown",Ut(s,ok)),Ee(b,"keypress",Ut(s,lk)),Ee(b,"focus",function(k){return jm(s,k)}),Ee(b,"blur",function(k){return Xl(s,k)})}var av=[];ft.defineInitHook=function(s){return av.push(s)};function ec(s,a,h,f){var d=s.doc,m;h==null&&(h="add"),h=="smart"&&(d.mode.indent?m=Au(s,a).state:h="prev");var w=s.options.tabSize,b=ke(d,a),k=je(b.text,null,w);b.stateAfter&&(b.stateAfter=null);var E=b.text.match(/^\s*/)[0],I;if(!f&&!/\S/.test(b.text))I=0,h="not";else if(h=="smart"&&(I=d.mode.indent(m,b.text.slice(E.length),b.text),I==Yn||I>150)){if(!f)return;h="prev"}h=="prev"?a>d.first?I=je(ke(d,a-1).text,null,w):I=0:h=="add"?I=k+s.options.indentUnit:h=="subtract"?I=k-s.options.indentUnit:typeof h=="number"&&(I=k+h),I=Math.max(0,I);var $="",U=0;if(s.options.indentWithTabs)for(var j=Math.floor(I/w);j;--j)U+=w,$+="	";if(U<I&&($+=Mo(I-U)),$!=E)return ra(d,$,q(a,0),q(a,E.length),"+input"),b.stateAfter=null,!0;for(var G=0;G<d.sel.ranges.length;G++){var te=d.sel.ranges[G];if(te.head.line==a&&te.head.ch<E.length){var le=q(a,E.length);tv(d,G,new et(le,le));break}}}var oi=null;function Nh(s){oi=s}function uv(s,a,h,f,d){var m=s.doc;s.display.shift=!1,f||(f=m.sel);var w=+new Date-200,b=d=="paste"||s.state.pasteIncoming>w,k=Dn(a),E=null;if(b&&f.ranges.length>1)if(oi&&oi.text.join(`
`)==a){if(f.ranges.length%oi.text.length==0){E=[];for(var I=0;I<oi.text.length;I++)E.push(m.splitLines(oi.text[I]))}}else k.length==f.ranges.length&&s.options.pasteLinesPerSelection&&(E=Xn(k,function(ce){return[ce]}));for(var $=s.curOp.updateInput,U=f.ranges.length-1;U>=0;U--){var j=f.ranges[U],G=j.from(),te=j.to();j.empty()&&(h&&h>0?G=q(G.line,G.ch-h):s.state.overwrite&&!b?te=q(te.line,Math.min(ke(m,te.line).text.length,te.ch+Ie(k).length)):b&&oi&&oi.lineWise&&oi.text.join(`
`)==k.join(`
`)&&(G=te=q(G.line,0)));var le={from:G,to:te,text:E?E[U%E.length]:k,origin:d||(b?"paste":s.state.cutIncoming>w?"cut":"+input")};ta(s.doc,le),Ht(s,"inputRead",s,le)}a&&!b&&gk(s,a),Ql(s),s.curOp.updateInput<2&&(s.curOp.updateInput=$),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function pk(s,a){var h=s.clipboardData&&s.clipboardData.getData("Text");if(h)return s.preventDefault(),!a.isReadOnly()&&!a.options.disableInput&&a.hasFocus()&&Qr(a,function(){return uv(a,h,0,null,"paste")}),!0}function gk(s,a){if(!(!s.options.electricChars||!s.options.smartIndent))for(var h=s.doc.sel,f=h.ranges.length-1;f>=0;f--){var d=h.ranges[f];if(!(d.head.ch>100||f&&h.ranges[f-1].head.line==d.head.line)){var m=s.getModeAt(d.head),w=!1;if(m.electricChars){for(var b=0;b<m.electricChars.length;b++)if(a.indexOf(m.electricChars.charAt(b))>-1){w=ec(s,d.head.line,"smart");break}}else m.electricInput&&m.electricInput.test(ke(s.doc,d.head.line).text.slice(0,d.head.ch))&&(w=ec(s,d.head.line,"smart"));w&&Ht(s,"electricInput",s,d.head.line)}}}function mk(s){for(var a=[],h=[],f=0;f<s.doc.sel.ranges.length;f++){var d=s.doc.sel.ranges[f].head.line,m={anchor:q(d,0),head:q(d+1,0)};h.push(m),a.push(s.getRange(m.anchor,m.head))}return{text:a,ranges:h}}function cv(s,a,h,f){s.setAttribute("autocorrect",h?"on":"off"),s.setAttribute("autocapitalize",f?"on":"off"),s.setAttribute("spellcheck",!!a)}function vk(){var s=_("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=_("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return g?s.style.width="1000px":s.setAttribute("wrap","off"),S&&(s.style.border="1px solid black"),a}function T3(s){var a=s.optionHandlers,h=s.helpers={};s.prototype={constructor:s,focus:function(){Ce(this).focus(),this.display.input.focus()},setOption:function(f,d){var m=this.options,w=m[f];m[f]==d&&f!="mode"||(m[f]=d,a.hasOwnProperty(f)&&Ut(this,a[f])(this,d,w),wt(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,d){this.state.keyMaps[d?"push":"unshift"](Mh(f))},removeKeyMap:function(f){for(var d=this.state.keyMaps,m=0;m<d.length;++m)if(d[m]==f||d[m].name==f)return d.splice(m,1),!0},addOverlay:xr(function(f,d){var m=f.token?f:s.getMode(this.options,f);if(m.startState)throw new Error("Overlays may not be stateful.");Rl(this.state.overlays,{mode:m,modeSpec:f,opaque:d&&d.opaque,priority:d&&d.priority||0},function(w){return w.priority}),this.state.modeGen++,Ir(this)}),removeOverlay:xr(function(f){for(var d=this.state.overlays,m=0;m<d.length;++m){var w=d[m].modeSpec;if(w==f||typeof f=="string"&&w.name==f){d.splice(m,1),this.state.modeGen++,Ir(this);return}}}),indentLine:xr(function(f,d,m){typeof d!="string"&&typeof d!="number"&&(d==null?d=this.options.smartIndent?"smart":"prev":d=d?"add":"subtract"),X(this.doc,f)&&ec(this,f,d,m)}),indentSelection:xr(function(f){for(var d=this.doc.sel.ranges,m=-1,w=0;w<d.length;w++){var b=d[w];if(b.empty())b.head.line>m&&(ec(this,b.head.line,f,!0),m=b.head.line,w==this.doc.sel.primIndex&&Ql(this));else{var k=b.from(),E=b.to(),I=Math.max(m,k.line);m=Math.min(this.lastLine(),E.line-(E.ch?0:1))+1;for(var $=I;$<m;++$)ec(this,$,f);var U=this.doc.sel.ranges;k.ch==0&&d.length==U.length&&U[w].from().ch>0&&tv(this.doc,w,new et(k,U[w].to()),Pr)}}}),getTokenAt:function(f,d){return Eb(this,f,d)},getLineTokens:function(f,d){return Eb(this,q(f),d,!0)},getTokenTypeAt:function(f){f=Be(this.doc,f);var d=Cb(this,ke(this.doc,f.line)),m=0,w=(d.length-1)/2,b=f.ch,k;if(b==0)k=d[2];else for(;;){var E=m+w>>1;if((E?d[E*2-1]:0)>=b)w=E;else if(d[E*2+1]<b)m=E+1;else{k=d[E*2+2];break}}var I=k?k.indexOf("overlay "):-1;return I<0?k:I==0?null:k.slice(0,I-1)},getModeAt:function(f){var d=this.doc.mode;return d.innerMode?s.innerMode(d,this.getTokenAt(f).state).mode:d},getHelper:function(f,d){return this.getHelpers(f,d)[0]},getHelpers:function(f,d){var m=[];if(!h.hasOwnProperty(d))return m;var w=h[d],b=this.getModeAt(f);if(typeof b[d]=="string")w[b[d]]&&m.push(w[b[d]]);else if(b[d])for(var k=0;k<b[d].length;k++){var E=w[b[d][k]];E&&m.push(E)}else b.helperType&&w[b.helperType]?m.push(w[b.helperType]):w[b.name]&&m.push(w[b.name]);for(var I=0;I<w._global.length;I++){var $=w._global[I];$.pred(b,this)&&_e(m,$.val)==-1&&m.push($.val)}return m},getStateAfter:function(f,d){var m=this.doc;return f=bb(m,f??m.first+m.size-1),Au(this,f+1,d).state},cursorCoords:function(f,d){var m,w=this.doc.sel.primary();return f==null?m=w.head:typeof f=="object"?m=Be(this.doc,f):m=f?w.from():w.to(),ni(this,m,d||"page")},charCoords:function(f,d){return ph(this,Be(this.doc,f),d||"page")},coordsChar:function(f,d){return f=rS(this,f,d||"page"),Rm(this,f.left,f.top)},lineAtHeight:function(f,d){return f=rS(this,{top:f,left:0},d||"page").top,F(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,d,m){var w=!1,b;if(typeof f=="number"){var k=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>k&&(f=k,w=!0),b=ke(this.doc,f)}else b=f;return dh(this,b,{top:0,left:0},d||"page",m||w).top+(w?this.doc.height-eo(b):0)},defaultTextHeight:function(){return Gl(this.display)},defaultCharWidth:function(){return Yl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,d,m,w,b){var k=this.display;f=ni(this,Be(this.doc,f));var E=f.bottom,I=f.left;if(d.style.position="absolute",d.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(d),k.sizer.appendChild(d),w=="over")E=f.top;else if(w=="above"||w=="near"){var $=Math.max(k.wrapper.clientHeight,this.doc.height),U=Math.max(k.sizer.clientWidth,k.lineSpace.clientWidth);(w=="above"||f.bottom+d.offsetHeight>$)&&f.top>d.offsetHeight?E=f.top-d.offsetHeight:f.bottom+d.offsetHeight<=$&&(E=f.bottom),I+d.offsetWidth>U&&(I=U-d.offsetWidth)}d.style.top=E+"px",d.style.left=d.style.right="",b=="right"?(I=k.sizer.clientWidth-d.offsetWidth,d.style.right="0px"):(b=="left"?I=0:b=="middle"&&(I=(k.sizer.clientWidth-d.offsetWidth)/2),d.style.left=I+"px"),m&&SI(this,{left:I,top:E,right:I+d.offsetWidth,bottom:E+d.offsetHeight})},triggerOnKeyDown:xr(ok),triggerOnKeyPress:xr(lk),triggerOnKeyUp:sk,triggerOnMouseDown:xr(ak),execCommand:function(f){if(Xu.hasOwnProperty(f))return Xu[f].call(null,this)},triggerElectric:xr(function(f){gk(this,f)}),findPosH:function(f,d,m,w){var b=1;d<0&&(b=-1,d=-d);for(var k=Be(this.doc,f),E=0;E<d&&(k=fv(this.doc,k,b,m,w),!k.hitSide);++E);return k},moveH:xr(function(f,d){var m=this;this.extendSelectionsBy(function(w){return m.display.shift||m.doc.extend||w.empty()?fv(m.doc,w.head,f,d,m.options.rtlMoveVisually):f<0?w.from():w.to()},Nr)}),deleteH:xr(function(f,d){var m=this.doc.sel,w=this.doc;m.somethingSelected()?w.replaceSelection("",null,"+delete"):oa(this,function(b){var k=fv(w,b.head,f,d,!1);return f<0?{from:k,to:b.head}:{from:b.head,to:k}})}),findPosV:function(f,d,m,w){var b=1,k=w;d<0&&(b=-1,d=-d);for(var E=Be(this.doc,f),I=0;I<d;++I){var $=ni(this,E,"div");if(k==null?k=$.left:$.left=k,E=yk(this,$,b,m),E.hitSide)break}return E},moveV:xr(function(f,d){var m=this,w=this.doc,b=[],k=!this.display.shift&&!w.extend&&w.sel.somethingSelected();if(w.extendSelectionsBy(function(I){if(k)return f<0?I.from():I.to();var $=ni(m,I.head,"div");I.goalColumn!=null&&($.left=I.goalColumn),b.push($.left);var U=yk(m,$,f,d);return d=="page"&&I==w.sel.primary()&&Um(m,ph(m,U,"div").top-$.top),U},Nr),b.length)for(var E=0;E<w.sel.ranges.length;E++)w.sel.ranges[E].goalColumn=b[E]}),findWordAt:function(f){var d=this.doc,m=ke(d,f.line).text,w=f.ch,b=f.ch;if(m){var k=this.getHelper(f,"wordChars");(f.sticky=="before"||b==m.length)&&w?--w:++b;for(var E=m.charAt(w),I=Ne(E,k)?function($){return Ne($,k)}:/\s/.test(E)?function($){return/\s/.test($)}:function($){return!/\s/.test($)&&!Ne($)};w>0&&I(m.charAt(w-1));)--w;for(;b<m.length&&I(m.charAt(b));)++b}return new et(q(f.line,w),q(f.line,b))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?V(this.display.cursorDiv,"CodeMirror-overwrite"):ue(this.display.cursorDiv,"CodeMirror-overwrite"),wt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==B(Ke(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:xr(function(f,d){Iu(this,f,d)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-ki(this)-this.display.barHeight,width:f.scrollWidth-ki(this)-this.display.barWidth,clientHeight:Lm(this),clientWidth:Us(this)}},scrollIntoView:xr(function(f,d){f==null?(f={from:this.doc.sel.primary().head,to:null},d==null&&(d=this.options.cursorScrollMargin)):typeof f=="number"?f={from:q(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=d||0,f.from.line!=null?kI(this,f):fS(this,f.from,f.to,f.margin)}),setSize:xr(function(f,d){var m=this,w=function(k){return typeof k=="number"||/^\d+$/.test(String(k))?k+"px":k};f!=null&&(this.display.wrapper.style.width=w(f)),d!=null&&(this.display.wrapper.style.height=w(d)),this.options.lineWrapping&&Zb(this);var b=this.display.viewFrom;this.doc.iter(b,this.display.viewTo,function(k){if(k.widgets){for(var E=0;E<k.widgets.length;E++)if(k.widgets[E].noHScroll){_o(m,b,"widget");break}}++b}),this.curOp.forceUpdate=!0,wt(this,"refresh",this)}),operation:function(f){return Qr(this,f)},startOperation:function(){return Xs(this)},endOperation:function(){return Qs(this)},refresh:xr(function(){var f=this.display.cachedTextHeight;Ir(this),this.curOp.forceUpdate=!0,Du(this),Iu(this,this.doc.scrollLeft,this.doc.scrollTop),qm(this.display),(f==null||Math.abs(f-Gl(this.display))>.5||this.options.lineWrapping)&&Fm(this),wt(this,"refresh",this)}),swapDoc:xr(function(f){var d=this.doc;return d.cm=null,this.state.selectingText&&this.state.selectingText(),TS(this,f),Du(this),this.display.input.reset(),Iu(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,Ht(this,"swapDoc",this,d),d}),phrase:function(f){var d=this.options.phrases;return d&&Object.prototype.hasOwnProperty.call(d,f)?d[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Qn(s),s.registerHelper=function(f,d,m){h.hasOwnProperty(f)||(h[f]=s[f]={_global:[]}),h[f][d]=m},s.registerGlobalHelper=function(f,d,m,w){s.registerHelper(f,d,w),h[f]._global.push({pred:m,val:w})}}function fv(s,a,h,f,d){var m=a,w=h,b=ke(s,a.line),k=d&&s.direction=="rtl"?-h:h;function E(){var ge=a.line+k;return ge<s.first||ge>=s.first+s.size?!1:(a=new q(ge,a.ch,a.sticky),b=ke(s,ge))}function I(ge){var fe;if(f=="codepoint"){var we=b.text.charCodeAt(a.ch+(h>0?0:-1));if(isNaN(we))fe=null;else{var Ae=h>0?we>=55296&&we<56320:we>=56320&&we<57343;fe=new q(a.line,Math.max(0,Math.min(b.text.length,a.ch+h*(Ae?2:1))),-h)}}else d?fe=s3(s.cm,b,a,h):fe=nv(b,a,h);if(fe==null)if(!ge&&E())a=iv(d,s.cm,b,a.line,k);else return!1;else a=fe;return!0}if(f=="char"||f=="codepoint")I();else if(f=="column")I(!0);else if(f=="word"||f=="group")for(var $=null,U=f=="group",j=s.cm&&s.cm.getHelper(a,"wordChars"),G=!0;!(h<0&&!I(!G));G=!1){var te=b.text.charAt(a.ch)||`
`,le=Ne(te,j)?"w":U&&te==`
`?"n":!U||/\s/.test(te)?null:"p";if(U&&!G&&!le&&(le="s"),$&&$!=le){h<0&&(h=1,I(),a.sticky="after");break}if(le&&($=le),h>0&&!I(!G))break}var ce=Oh(s,a,m,w,!0);return Ze(m,ce)&&(ce.hitSide=!0),ce}function yk(s,a,h,f){var d=s.doc,m=a.left,w;if(f=="page"){var b=Math.min(s.display.wrapper.clientHeight,Ce(s).innerHeight||d(s).documentElement.clientHeight),k=Math.max(b-.5*Gl(s.display),3);w=(h>0?a.bottom:a.top)+h*k}else f=="line"&&(w=h>0?a.bottom+3:a.top-3);for(var E;E=Rm(s,m,w),!!E.outside;){if(h<0?w<=0:w>=d.height){E.hitSide=!0;break}w+=h*5}return E}var rt=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new An,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};rt.prototype.init=function(s){var a=this,h=this,f=h.cm,d=h.div=s.lineDiv;d.contentEditable=!0,cv(d,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function m(b){for(var k=b.target;k;k=k.parentNode){if(k==d)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(k.className))break}return!1}Ee(d,"paste",function(b){!m(b)||xt(f,b)||pk(b,f)||p<=11&&setTimeout(Ut(f,function(){return a.updateFromDOM()}),20)}),Ee(d,"compositionstart",function(b){a.composing={data:b.data,done:!1}}),Ee(d,"compositionupdate",function(b){a.composing||(a.composing={data:b.data,done:!1})}),Ee(d,"compositionend",function(b){a.composing&&(b.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),Ee(d,"touchstart",function(){return h.forceCompositionEnd()}),Ee(d,"input",function(){a.composing||a.readFromDOMSoon()});function w(b){if(!(!m(b)||xt(f,b))){if(f.somethingSelected())Nh({lineWise:!1,text:f.getSelections()}),b.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var k=mk(f);Nh({lineWise:!0,text:k.text}),b.type=="cut"&&f.operation(function(){f.setSelections(k.ranges,0,Pr),f.replaceSelection("",null,"cut")})}else return;if(b.clipboardData){b.clipboardData.clearData();var E=oi.text.join(`
`);if(b.clipboardData.setData("Text",E),b.clipboardData.getData("Text")==E){b.preventDefault();return}}var I=vk(),$=I.firstChild;cv($),f.display.lineSpace.insertBefore(I,f.display.lineSpace.firstChild),$.value=oi.text.join(`
`);var U=B(Xe(d));he($),setTimeout(function(){f.display.lineSpace.removeChild(I),U.focus(),U==d&&h.showPrimarySelection()},50)}}Ee(d,"copy",w),Ee(d,"cut",w)},rt.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},rt.prototype.prepareSelection=function(){var s=aS(this.cm,!1);return s.focus=B(Xe(this.div))==this.div,s},rt.prototype.showSelection=function(s,a){!s||!this.cm.display.view.length||((s.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(s))},rt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},rt.prototype.showPrimarySelection=function(){var s=this.getSelection(),a=this.cm,h=a.doc.sel.primary(),f=h.from(),d=h.to();if(a.display.viewTo==a.display.viewFrom||f.line>=a.display.viewTo||d.line<a.display.viewFrom){s.removeAllRanges();return}var m=Dh(a,s.anchorNode,s.anchorOffset),w=Dh(a,s.focusNode,s.focusOffset);if(!(m&&!m.bad&&w&&!w.bad&&pe(Ul(m,w),f)==0&&pe(Rr(m,w),d)==0)){var b=a.display.view,k=f.line>=a.display.viewFrom&&wk(a,f)||{node:b[0].measure.map[2],offset:0},E=d.line<a.display.viewTo&&wk(a,d);if(!E){var I=b[b.length-1].measure,$=I.maps?I.maps[I.maps.length-1]:I.map;E={node:$[$.length-1],offset:$[$.length-2]-$[$.length-3]}}if(!k||!E){s.removeAllRanges();return}var U=s.rangeCount&&s.getRangeAt(0),j;try{j=ee(k.node,k.offset,E.offset,E.node)}catch{}j&&(!i&&a.state.focused?(s.collapse(k.node,k.offset),j.collapsed||(s.removeAllRanges(),s.addRange(j))):(s.removeAllRanges(),s.addRange(j)),U&&s.anchorNode==null?s.addRange(U):i&&this.startGracePeriod()),this.rememberSelection()}},rt.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},rt.prototype.showMultipleSelections=function(s){Z(this.cm.display.cursorDiv,s.cursors),Z(this.cm.display.selectionDiv,s.selection)},rt.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},rt.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var a=s.getRangeAt(0).commonAncestorContainer;return R(this.div,a)},rt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||B(Xe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},rt.prototype.blur=function(){this.div.blur()},rt.prototype.getField=function(){return this.div},rt.prototype.supportsTouch=function(){return!0},rt.prototype.receivedFocus=function(){var s=this,a=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):Qr(this.cm,function(){return a.cm.curOp.selectionChanged=!0});function h(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,h))}this.polling.set(this.cm.options.pollInterval,h)},rt.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},rt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),a=this.cm;if(M&&y&&this.cm.display.gutterSpecs.length&&O3(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var h=Dh(a,s.anchorNode,s.anchorOffset),f=Dh(a,s.focusNode,s.focusOffset);h&&f&&Qr(a,function(){sr(a.doc,$o(h,f),Pr),(h.bad||f.bad)&&(a.curOp.selectionChanged=!0)})}}},rt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,a=s.display,h=s.doc.sel.primary(),f=h.from(),d=h.to();if(f.ch==0&&f.line>s.firstLine()&&(f=q(f.line-1,ke(s.doc,f.line-1).length)),d.ch==ke(s.doc,d.line).text.length&&d.line<s.lastLine()&&(d=q(d.line+1,0)),f.line<a.viewFrom||d.line>a.viewTo-1)return!1;var m,w,b;f.line==a.viewFrom||(m=qs(s,f.line))==0?(w=L(a.view[0].line),b=a.view[0].node):(w=L(a.view[m].line),b=a.view[m-1].node.nextSibling);var k=qs(s,d.line),E,I;if(k==a.view.length-1?(E=a.viewTo-1,I=a.lineDiv.lastChild):(E=L(a.view[k+1].line)-1,I=a.view[k+1].node.previousSibling),!b)return!1;for(var $=s.doc.splitLines(E3(s,b,I,w,E)),U=Ji(s.doc,q(w,0),q(E,ke(s.doc,E).text.length));$.length>1&&U.length>1;)if(Ie($)==Ie(U))$.pop(),U.pop(),E--;else if($[0]==U[0])$.shift(),U.shift(),w++;else break;for(var j=0,G=0,te=$[0],le=U[0],ce=Math.min(te.length,le.length);j<ce&&te.charCodeAt(j)==le.charCodeAt(j);)++j;for(var ge=Ie($),fe=Ie(U),we=Math.min(ge.length-($.length==1?j:0),fe.length-(U.length==1?j:0));G<we&&ge.charCodeAt(ge.length-G-1)==fe.charCodeAt(fe.length-G-1);)++G;if($.length==1&&U.length==1&&w==f.line)for(;j&&j>f.ch&&ge.charCodeAt(ge.length-G-1)==fe.charCodeAt(fe.length-G-1);)j--,G++;$[$.length-1]=ge.slice(0,ge.length-G).replace(/^\u200b+/,""),$[0]=$[0].slice(j).replace(/\u200b+$/,"");var Ae=q(w,j),Oe=q(E,U.length?Ie(U).length-G:0);if($.length>1||$[0]||pe(Ae,Oe))return ra(s.doc,$,Ae,Oe,"+input"),!0},rt.prototype.ensurePolled=function(){this.forceCompositionEnd()},rt.prototype.reset=function(){this.forceCompositionEnd()},rt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rt.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},rt.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&Qr(this.cm,function(){return Ir(s.cm)})},rt.prototype.setUneditable=function(s){s.contentEditable="false"},rt.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||Ut(this.cm,uv)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},rt.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},rt.prototype.onContextMenu=function(){},rt.prototype.resetPosition=function(){},rt.prototype.needsContentAttribute=!0;function wk(s,a){var h=Pm(s,a.line);if(!h||h.hidden)return null;var f=ke(s.doc,a.line),d=Gb(h,f,a.line),m=Ue(f,s.doc.direction),w="left";if(m){var b=Po(m,a.ch);w=b%2?"right":"left"}var k=Qb(d.map,a.ch,w);return k.offset=k.collapse=="right"?k.end:k.start,k}function O3(s){for(var a=s;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function la(s,a){return a&&(s.bad=!0),s}function E3(s,a,h,f,d){var m="",w=!1,b=s.doc.lineSeparator(),k=!1;function E(j){return function(G){return G.id==j}}function I(){w&&(m+=b,k&&(m+=b),w=k=!1)}function $(j){j&&(I(),m+=j)}function U(j){if(j.nodeType==1){var G=j.getAttribute("cm-text");if(G){$(G);return}var te=j.getAttribute("cm-marker"),le;if(te){var ce=s.findMarks(q(f,0),q(d+1,0),E(+te));ce.length&&(le=ce[0].find(0))&&$(Ji(s.doc,le.from,le.to).join(b));return}if(j.getAttribute("contenteditable")=="false")return;var ge=/^(pre|div|p|li|table|br)$/i.test(j.nodeName);if(!/^br$/i.test(j.nodeName)&&j.textContent.length==0)return;ge&&I();for(var fe=0;fe<j.childNodes.length;fe++)U(j.childNodes[fe]);/^(pre|p)$/i.test(j.nodeName)&&(k=!0),ge&&(w=!0)}else j.nodeType==3&&$(j.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;U(a),a!=h;)a=a.nextSibling,k=!1;return m}function Dh(s,a,h){var f;if(a==s.display.lineDiv){if(f=s.display.lineDiv.childNodes[h],!f)return la(s.clipPos(q(s.display.viewTo-1)),!0);a=null,h=0}else for(f=a;;f=f.parentNode){if(!f||f==s.display.lineDiv)return null;if(f.parentNode&&f.parentNode==s.display.lineDiv)break}for(var d=0;d<s.display.view.length;d++){var m=s.display.view[d];if(m.node==f)return A3(m,a,h)}}function A3(s,a,h){var f=s.text.firstChild,d=!1;if(!a||!R(f,a))return la(q(L(s.line),0),!0);if(a==f&&(d=!0,a=f.childNodes[h],h=0,!a)){var m=s.rest?Ie(s.rest):s.line;return la(q(L(m),m.text.length),d)}var w=a.nodeType==3?a:null,b=a;for(!w&&a.childNodes.length==1&&a.firstChild.nodeType==3&&(w=a.firstChild,h&&(h=w.nodeValue.length));b.parentNode!=f;)b=b.parentNode;var k=s.measure,E=k.maps;function I(le,ce,ge){for(var fe=-1;fe<(E?E.length:0);fe++)for(var we=fe<0?k.map:E[fe],Ae=0;Ae<we.length;Ae+=3){var Oe=we[Ae+2];if(Oe==le||Oe==ce){var ze=L(fe<0?s.line:s.rest[fe]),it=we[Ae]+ge;return(ge<0||Oe!=le)&&(it=we[Ae+(ge?1:0)]),q(ze,it)}}}var $=I(w,b,h);if($)return la($,d);for(var U=b.nextSibling,j=w?w.nodeValue.length-h:0;U;U=U.nextSibling){if($=I(U,U.firstChild,0),$)return la(q($.line,$.ch-j),d);j+=U.textContent.length}for(var G=b.previousSibling,te=h;G;G=G.previousSibling){if($=I(G,G.firstChild,-1),$)return la(q($.line,$.ch+te),d);te+=G.textContent.length}}var Ot=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new An,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ot.prototype.init=function(s){var a=this,h=this,f=this.cm;this.createField(s);var d=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),S&&(d.style.width="0px"),Ee(d,"input",function(){c&&p>=9&&a.hasSelection&&(a.hasSelection=null),h.poll()}),Ee(d,"paste",function(w){xt(f,w)||pk(w,f)||(f.state.pasteIncoming=+new Date,h.fastPoll())});function m(w){if(!xt(f,w)){if(f.somethingSelected())Nh({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var b=mk(f);Nh({lineWise:!0,text:b.text}),w.type=="cut"?f.setSelections(b.ranges,null,Pr):(h.prevInput="",d.value=b.text.join(`
`),he(d))}else return;w.type=="cut"&&(f.state.cutIncoming=+new Date)}}Ee(d,"cut",m),Ee(d,"copy",m),Ee(s.scroller,"paste",function(w){if(!(to(s,w)||xt(f,w))){if(!d.dispatchEvent){f.state.pasteIncoming=+new Date,h.focus();return}var b=new Event("paste");b.clipboardData=w.clipboardData,d.dispatchEvent(b)}}),Ee(s.lineSpace,"selectstart",function(w){to(s,w)||or(w)}),Ee(d,"compositionstart",function(){var w=f.getCursor("from");h.composing&&h.composing.range.clear(),h.composing={start:w,range:f.markText(w,f.getCursor("to"),{className:"CodeMirror-composing"})}}),Ee(d,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},Ot.prototype.createField=function(s){this.wrapper=vk(),this.textarea=this.wrapper.firstChild;var a=this.cm.options;cv(this.textarea,a.spellcheck,a.autocorrect,a.autocapitalize)},Ot.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},Ot.prototype.prepareSelection=function(){var s=this.cm,a=s.display,h=s.doc,f=aS(s);if(s.options.moveInputWithCursor){var d=ni(s,h.sel.primary().head,"div"),m=a.wrapper.getBoundingClientRect(),w=a.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,d.top+w.top-m.top)),f.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,d.left+w.left-m.left))}return f},Ot.prototype.showSelection=function(s){var a=this.cm,h=a.display;Z(h.cursorDiv,s.cursors),Z(h.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},Ot.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing&&s)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var h=a.getSelection();this.textarea.value=h,a.state.focused&&he(this.textarea),c&&p>=9&&(this.hasSelection=h)}else s||(this.prevInput=this.textarea.value="",c&&p>=9&&(this.hasSelection=null));this.resetting=!1}},Ot.prototype.getField=function(){return this.textarea},Ot.prototype.supportsTouch=function(){return!1},Ot.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!N||B(Xe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Ot.prototype.blur=function(){this.textarea.blur()},Ot.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ot.prototype.receivedFocus=function(){this.slowPoll()},Ot.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},Ot.prototype.fastPoll=function(){var s=!1,a=this;a.pollingFast=!0;function h(){var f=a.poll();!f&&!s?(s=!0,a.polling.set(60,h)):(a.pollingFast=!1,a.slowPoll())}a.polling.set(20,h)},Ot.prototype.poll=function(){var s=this,a=this.cm,h=this.textarea,f=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||Ro(h)&&!f&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var d=h.value;if(d==f&&!a.somethingSelected())return!1;if(c&&p>=9&&this.hasSelection===d||D&&/[\uf700-\uf7ff]/.test(d))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var m=d.charCodeAt(0);if(m==8203&&!f&&(f="​"),m==8666)return this.reset(),this.cm.execCommand("undo")}for(var w=0,b=Math.min(f.length,d.length);w<b&&f.charCodeAt(w)==d.charCodeAt(w);)++w;return Qr(a,function(){uv(a,d.slice(w),f.length-w,null,s.composing?"*compose":null),d.length>1e3||d.indexOf(`
`)>-1?h.value=s.prevInput="":s.prevInput=d,s.composing&&(s.composing.range.clear(),s.composing.range=a.markText(s.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ot.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ot.prototype.onKeyPress=function(){c&&p>=9&&(this.hasSelection=null),this.fastPoll()},Ot.prototype.onContextMenu=function(s){var a=this,h=a.cm,f=h.display,d=a.textarea;a.contextMenuPending&&a.contextMenuPending();var m=Ks(h,s),w=f.scroller.scrollTop;if(!m||T)return;var b=h.options.resetSelectionOnContextMenu;b&&h.doc.sel.contains(m)==-1&&Ut(h,sr)(h.doc,$o(m),Pr);var k=d.style.cssText,E=a.wrapper.style.cssText,I=a.wrapper.offsetParent.getBoundingClientRect();a.wrapper.style.cssText="position: static",d.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-I.top-5)+"px; left: "+(s.clientX-I.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var $;g&&($=d.ownerDocument.defaultView.scrollY),f.input.focus(),g&&d.ownerDocument.defaultView.scrollTo(null,$),f.input.reset(),h.somethingSelected()||(d.value=a.prevInput=" "),a.contextMenuPending=j,f.selForContextMenu=h.doc.sel,clearTimeout(f.detectingSelectAll);function U(){if(d.selectionStart!=null){var te=h.somethingSelected(),le="​"+(te?d.value:"");d.value="⇚",d.value=le,a.prevInput=te?"":"​",d.selectionStart=1,d.selectionEnd=le.length,f.selForContextMenu=h.doc.sel}}function j(){if(a.contextMenuPending==j&&(a.contextMenuPending=!1,a.wrapper.style.cssText=E,d.style.cssText=k,c&&p<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=w),d.selectionStart!=null)){(!c||c&&p<9)&&U();var te=0,le=function(){f.selForContextMenu==h.doc.sel&&d.selectionStart==0&&d.selectionEnd>0&&a.prevInput=="​"?Ut(h,FS)(h):te++<10?f.detectingSelectAll=setTimeout(le,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(le,200)}}if(c&&p>=9&&U(),ie){No(s);var G=function(){ir(window,"mouseup",G),setTimeout(j,20)};Ee(window,"mouseup",G)}else setTimeout(j,50)},Ot.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},Ot.prototype.setUneditable=function(){},Ot.prototype.needsContentAttribute=!1;function M3(s,a){if(a=a?Fe(a):{},a.value=s.value,!a.tabindex&&s.tabIndex&&(a.tabindex=s.tabIndex),!a.placeholder&&s.placeholder&&(a.placeholder=s.placeholder),a.autofocus==null){var h=B(Xe(s));a.autofocus=h==s||s.getAttribute("autofocus")!=null&&h==document.body}function f(){s.value=b.getValue()}var d;if(s.form&&(Ee(s.form,"submit",f),!a.leaveSubmitMethodAlone)){var m=s.form;d=m.submit;try{var w=m.submit=function(){f(),m.submit=d,m.submit(),m.submit=w}}catch{}}a.finishInit=function(k){k.save=f,k.getTextArea=function(){return s},k.toTextArea=function(){k.toTextArea=isNaN,f(),s.parentNode.removeChild(k.getWrapperElement()),s.style.display="",s.form&&(ir(s.form,"submit",f),!a.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=d))}},s.style.display="none";var b=ft(function(k){return s.parentNode.insertBefore(k,s.nextSibling)},a);return b}function L3(s){s.off=ir,s.on=Ee,s.wheelEventPixels=_I,s.Doc=Br,s.splitLines=Dn,s.countColumn=je,s.findColumn=hn,s.isWordChar=Le,s.Pass=Yn,s.signal=wt,s.Line=Vl,s.changeEnd=zo,s.scrollbarModel=pS,s.Pos=q,s.cmpPos=pe,s.modes=$l,s.mimeModes=ei,s.resolveMode=zl,s.getMode=Wl,s.modeExtensions=Io,s.extendMode=jl,s.copyState=bi,s.startState=Hl,s.innerMode=Ou,s.commands=Xu,s.keyMap=no,s.keyName=ek,s.isModifierKey=JS,s.lookupKey=ia,s.normalizeKeyMap=o3,s.StringStream=bt,s.SharedTextMarker=qu,s.TextMarker=jo,s.LineWidget=Ku,s.e_preventDefault=or,s.e_stopPropagation=_l,s.e_stop=No,s.addClass=V,s.contains=R,s.rmClass=ue,s.keyNames=Ho}b3(ft),T3(ft);var P3="iter insert remove copy getEditor constructor".split(" ");for(var Rh in Br.prototype)Br.prototype.hasOwnProperty(Rh)&&_e(P3,Rh)<0&&(ft.prototype[Rh]=function(s){return function(){return s.apply(this.doc,arguments)}}(Br.prototype[Rh]));return Qn(Br),ft.inputStyles={textarea:Ot,contenteditable:rt},ft.defineMode=function(s){!ft.defaults.mode&&s!="null"&&(ft.defaults.mode=s),ti.apply(this,arguments)},ft.defineMIME=Hs,ft.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),ft.defineMIME("text/plain","null"),ft.defineExtension=function(s,a){ft.prototype[s]=a},ft.defineDocExtension=function(s,a){Br.prototype[s]=a},ft.fromTextArea=M3,L3(ft),ft.version="5.65.18",ft})}(G0)),G0.exports}var fZ=Ao();const hZ=Wt(fZ);(function(t,e){(function(r){r(Ao())})(function(r){r.defineMode("javascript",function(n,i){var o=n.indentUnit,l=i.statementIndent,u=i.jsonld,c=i.json||u,p=i.trackScope!==!1,g=i.typescript,v=i.wordCharacters||/[\w$\xa1-\uffff]/,y=function(){function L(jt){return{type:jt,style:"keyword"}}var F=L("keyword a"),X=L("keyword b"),se=L("keyword c"),q=L("keyword d"),pe=L("operator"),Ze={type:"atom",style:"atom"};return{if:L("if"),while:F,with:F,else:X,do:X,try:X,finally:X,return:q,break:q,continue:q,new:L("new"),delete:se,void:se,throw:se,debugger:L("debugger"),var:L("var"),const:L("var"),let:L("var"),function:L("function"),catch:L("catch"),for:L("for"),switch:L("switch"),case:L("case"),default:L("default"),in:pe,typeof:pe,instanceof:pe,true:Ze,false:Ze,null:Ze,undefined:Ze,NaN:Ze,Infinity:Ze,this:L("this"),class:L("class"),super:L("atom"),yield:se,export:L("export"),import:L("import"),extends:se,await:se}}(),x=/[+\-*&%=<>!?|~^@]/,T=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function A(L){for(var F=!1,X,se=!1;(X=L.next())!=null;){if(!F){if(X=="/"&&!se)return;X=="["?se=!0:se&&X=="]"&&(se=!1)}F=!F&&X=="\\"}}var P,C;function S(L,F,X){return P=L,C=X,F}function M(L,F){var X=L.next();if(X=='"'||X=="'")return F.tokenize=N(X),F.tokenize(L,F);if(X=="."&&L.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(X=="."&&L.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(X))return S(X);if(X=="="&&L.eat(">"))return S("=>","operator");if(X=="0"&&L.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(X))return L.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(X=="/")return L.eat("*")?(F.tokenize=D,D(L,F)):L.eat("/")?(L.skipToEnd(),S("comment","comment")):dn(L,F,1)?(A(L),L.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(L.eat("="),S("operator","operator",L.current()));if(X=="`")return F.tokenize=W,W(L,F);if(X=="#"&&L.peek()=="!")return L.skipToEnd(),S("meta","meta");if(X=="#"&&L.eatWhile(v))return S("variable","property");if(X=="<"&&L.match("!--")||X=="-"&&L.match("->")&&!/\S/.test(L.string.slice(0,L.start)))return L.skipToEnd(),S("comment","comment");if(x.test(X))return(X!=">"||!F.lexical||F.lexical.type!=">")&&(L.eat("=")?(X=="!"||X=="=")&&L.eat("="):/[<>*+\-|&?]/.test(X)&&(L.eat(X),X==">"&&L.eat(X))),X=="?"&&L.eat(".")?S("."):S("operator","operator",L.current());if(v.test(X)){L.eatWhile(v);var se=L.current();if(F.lastType!="."){if(y.propertyIsEnumerable(se)){var q=y[se];return S(q.type,q.style,se)}if(se=="async"&&L.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",se)}return S("variable","variable",se)}}function N(L){return function(F,X){var se=!1,q;if(u&&F.peek()=="@"&&F.match(T))return X.tokenize=M,S("jsonld-keyword","meta");for(;(q=F.next())!=null&&!(q==L&&!se);)se=!se&&q=="\\";return se||(X.tokenize=M),S("string","string")}}function D(L,F){for(var X=!1,se;se=L.next();){if(se=="/"&&X){F.tokenize=M;break}X=se=="*"}return S("comment","comment")}function W(L,F){for(var X=!1,se;(se=L.next())!=null;){if(!X&&(se=="`"||se=="$"&&L.eat("{"))){F.tokenize=M;break}X=!X&&se=="\\"}return S("quasi","string-2",L.current())}var z="([{}])";function H(L,F){F.fatArrowAt&&(F.fatArrowAt=null);var X=L.string.indexOf("=>",L.start);if(!(X<0)){if(g){var se=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(L.string.slice(L.start,X));se&&(X=se.index)}for(var q=0,pe=!1,Ze=X-1;Ze>=0;--Ze){var jt=L.string.charAt(Ze),Rr=z.indexOf(jt);if(Rr>=0&&Rr<3){if(!q){++Ze;break}if(--q==0){jt=="("&&(pe=!0);break}}else if(Rr>=3&&Rr<6)++q;else if(v.test(jt))pe=!0;else if(/["'\/`]/.test(jt))for(;;--Ze){if(Ze==0)return;var Ul=L.string.charAt(Ze-1);if(Ul==jt&&L.string.charAt(Ze-2)!="\\"){Ze--;break}}else if(pe&&!q){++Ze;break}}pe&&!q&&(F.fatArrowAt=Ze)}}var J={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ie(L,F,X,se,q,pe){this.indented=L,this.column=F,this.type=X,this.prev=q,this.info=pe,se!=null&&(this.align=se)}function de(L,F){if(!p)return!1;for(var X=L.localVars;X;X=X.next)if(X.name==F)return!0;for(var se=L.context;se;se=se.prev)for(var X=se.vars;X;X=X.next)if(X.name==F)return!0}function ue(L,F,X,se,q){var pe=L.cc;for(K.state=L,K.stream=q,K.marked=null,K.cc=pe,K.style=F,L.lexical.hasOwnProperty("align")||(L.lexical.align=!0);;){var Ze=pe.length?pe.pop():c?_e:je;if(Ze(X,se)){for(;pe.length&&pe[pe.length-1].lex;)pe.pop()();return K.marked?K.marked:X=="variable"&&de(L,se)?"variable-2":F}}}var K={state:null,column:null,marked:null,cc:null};function Z(){for(var L=arguments.length-1;L>=0;L--)K.cc.push(arguments[L])}function _(){return Z.apply(null,arguments),!0}function Q(L,F){for(var X=F;X;X=X.next)if(X.name==L)return!0;return!1}function ee(L){var F=K.state;if(K.marked="def",!!p){if(F.context){if(F.lexical.info=="var"&&F.context&&F.context.block){var X=R(L,F.context);if(X!=null){F.context=X;return}}else if(!Q(L,F.localVars)){F.localVars=new oe(L,F.localVars);return}}i.globalVars&&!Q(L,F.globalVars)&&(F.globalVars=new oe(L,F.globalVars))}}function R(L,F){if(F)if(F.block){var X=R(L,F.prev);return X?X==F.prev?F:new V(X,F.vars,!0):null}else return Q(L,F.vars)?F:new V(F.prev,new oe(L,F.vars),!1);else return null}function B(L){return L=="public"||L=="private"||L=="protected"||L=="abstract"||L=="readonly"}function V(L,F,X){this.prev=L,this.vars=F,this.block=X}function oe(L,F){this.name=L,this.next=F}var he=new oe("this",new oe("arguments",null));function De(){K.state.context=new V(K.state.context,K.state.localVars,!1),K.state.localVars=he}function Ke(){K.state.context=new V(K.state.context,K.state.localVars,!0),K.state.localVars=null}De.lex=Ke.lex=!0;function Xe(){K.state.localVars=K.state.context.vars,K.state.context=K.state.context.prev}Xe.lex=!0;function Ce(L,F){var X=function(){var se=K.state,q=se.indented;if(se.lexical.type=="stat")q=se.lexical.indented;else for(var pe=se.lexical;pe&&pe.type==")"&&pe.align;pe=pe.prev)q=pe.indented;se.lexical=new ie(q,K.stream.column(),L,null,se.lexical,F)};return X.lex=!0,X}function Me(){var L=K.state;L.lexical.prev&&(L.lexical.type==")"&&(L.indented=L.lexical.indented),L.lexical=L.lexical.prev)}Me.lex=!0;function Fe(L){function F(X){return X==L?_():L==";"||X=="}"||X==")"||X=="]"?Z():_(F)}return F}function je(L,F){return L=="var"?_(Ce("vardef",F),_l,Fe(";"),Me):L=="keyword a"?_(Ce("form"),Yn,je,Me):L=="keyword b"?_(Ce("form"),je,Me):L=="keyword d"?K.stream.match(/^\s*$/,!1)?_():_(Ce("stat"),Mn,Fe(";"),Me):L=="debugger"?_(Fe(";")):L=="{"?_(Ce("}"),Ke,Pn,Me,Xe):L==";"?_():L=="if"?(K.state.lexical.info=="else"&&K.state.cc[K.state.cc.length-1]==Me&&K.state.cc.pop()(),_(Ce("form"),Yn,je,Me,Fl)):L=="function"?_(Dn):L=="for"?_(Ce("form"),Ke,nh,je,Xe,Me):L=="class"||g&&F=="interface"?(K.marked="keyword",_(Ce("form",L=="class"?L:F),$l,Me)):L=="variable"?g&&F=="declare"?(K.marked="keyword",_(je)):g&&(F=="module"||F=="enum"||F=="type")&&K.stream.match(/^\s*\w/,!1)?(K.marked="keyword",F=="enum"?_(ke):F=="type"?_(ih,Fe("operator"),Ue,Fe(";")):_(Ce("form"),Dr,Fe("{"),Ce("}"),Pn,Me,Me)):g&&F=="namespace"?(K.marked="keyword",_(Ce("form"),_e,je,Me)):g&&F=="abstract"?(K.marked="keyword",_(je)):_(Ce("stat"),Bl):L=="switch"?_(Ce("form"),Yn,Fe("{"),Ce("}","switch"),Ke,Pn,Me,Me,Xe):L=="case"?_(_e,Fe(":")):L=="default"?_(Fe(":")):L=="catch"?_(Ce("form"),De,An,je,Me,Xe):L=="export"?_(Ce("stat"),zl,Me):L=="import"?_(Ce("stat"),Io,Me):L=="async"?_(je):F=="@"?_(_e,je):Z(Ce("stat"),_e,Fe(";"),Me)}function An(L){if(L=="(")return _(Zn,Fe(")"))}function _e(L,F){return Pr(L,F,!1)}function Zt(L,F){return Pr(L,F,!0)}function Yn(L){return L!="("?Z():_(Ce(")"),Mn,Fe(")"),Me)}function Pr(L,F,X){if(K.state.fatArrowAt==K.stream.start){var se=X?Xn:Ie;if(L=="(")return _(De,Ce(")"),$e(Zn,")"),Me,Fe("=>"),se,Xe);if(L=="variable")return Z(De,Dr,Fe("=>"),se,Xe)}var q=X?hn:Nr;return J.hasOwnProperty(L)?_(q):L=="function"?_(Dn,q):L=="class"||g&&F=="interface"?(K.marked="keyword",_(Ce("form"),xm,Me)):L=="keyword c"||L=="async"?_(X?Zt:_e):L=="("?_(Ce(")"),Mn,Fe(")"),Me,q):L=="operator"||L=="spread"?_(X?Zt:_e):L=="["?_(Ce("]"),bt,Me,q):L=="{"?Yr(Ne,"}",null,q):L=="quasi"?Z(Ln,q):L=="new"?_(Rl(X)):_()}function Mn(L){return L.match(/[;\}\)\],]/)?Z():Z(_e)}function Nr(L,F){return L==","?_(Mn):hn(L,F,!1)}function hn(L,F,X){var se=X==!1?Nr:hn,q=X==!1?_e:Zt;if(L=="=>")return _(De,X?Xn:Ie,Xe);if(L=="operator")return/\+\+|--/.test(F)||g&&F=="!"?_(se):g&&F=="<"&&K.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?_(Ce(">"),$e(Ue,">"),Me,se):F=="?"?_(_e,Fe(":"),q):_(q);if(L=="quasi")return Z(Ln,se);if(L!=";"){if(L=="(")return Yr(Zt,")","call",se);if(L==".")return _(Le,se);if(L=="[")return _(Ce("]"),Mn,Fe("]"),Me,se);if(g&&F=="as")return K.marked="keyword",_(Ue,se);if(L=="regexp")return K.state.lastType=K.marked="operator",K.stream.backUp(K.stream.pos-K.stream.start-1),_(q)}}function Ln(L,F){return L!="quasi"?Z():F.slice(F.length-2)!="${"?_(Ln):_(Mn,Mo)}function Mo(L){if(L=="}")return K.marked="string-2",K.state.tokenize=W,_(Ln)}function Ie(L){return H(K.stream,K.state),Z(L=="{"?je:_e)}function Xn(L){return H(K.stream,K.state),Z(L=="{"?je:Zt)}function Rl(L){return function(F){return F=="."?_(L?Ws:Il):F=="variable"&&g?_(Xr,L?hn:Nr):Z(L?Zt:_e)}}function Il(L,F){if(F=="target")return K.marked="keyword",_(Nr)}function Ws(L,F){if(F=="target")return K.marked="keyword",_(hn)}function Bl(L){return L==":"?_(Me,je):Z(Nr,Fe(";"),Me)}function Le(L){if(L=="variable")return K.marked="property",_()}function Ne(L,F){if(L=="async")return K.marked="property",_(Ne);if(L=="variable"||K.style=="keyword"){if(K.marked="property",F=="get"||F=="set")return _(Te);var X;return g&&K.state.fatArrowAt==K.stream.start&&(X=K.stream.match(/^\s*:\s*/,!1))&&(K.state.fatArrowAt=K.stream.pos+X[0].length),_(He)}else{if(L=="number"||L=="string")return K.marked=u?"property":K.style+" property",_(He);if(L=="jsonld-keyword")return _(He);if(g&&B(F))return K.marked="keyword",_(Ne);if(L=="[")return _(_e,Lo,Fe("]"),He);if(L=="spread")return _(Zt,He);if(F=="*")return K.marked="keyword",_(Ne);if(L==":")return Z(He)}}function Te(L){return L!="variable"?Z(He):(K.marked="property",_(Dn))}function He(L){if(L==":")return _(Zt);if(L=="(")return Z(Dn)}function $e(L,F,X){function se(q,pe){if(X?X.indexOf(q)>-1:q==","){var Ze=K.state.lexical;return Ze.info=="call"&&(Ze.pos=(Ze.pos||0)+1),_(function(jt,Rr){return jt==F||Rr==F?Z():Z(L)},se)}return q==F||pe==F?_():X&&X.indexOf(";")>-1?Z(L):_(Fe(F))}return function(q,pe){return q==F||pe==F?_():Z(L,se)}}function Yr(L,F,X){for(var se=3;se<arguments.length;se++)K.cc.push(arguments[se]);return _(Ce(F,X),$e(L,F),Me)}function Pn(L){return L=="}"?_():Z(je,Pn)}function Lo(L,F){if(g){if(L==":")return _(Ue);if(F=="?")return _(Lo)}}function js(L,F){if(g&&(L==":"||F=="in"))return _(Ue)}function Po(L){if(g&&L==":")return K.stream.match(/^\s*\w+\s+is\b/,!1)?_(_e,ym,Ue):_(Ue)}function ym(L,F){if(F=="is")return K.marked="keyword",_()}function Ue(L,F){if(F=="keyof"||F=="typeof"||F=="infer"||F=="readonly")return K.marked="keyword",_(F=="typeof"?Zt:Ue);if(L=="variable"||F=="void")return K.marked="type",_(Nn);if(F=="|"||F=="&")return _(Ue);if(L=="string"||L=="number"||L=="atom")return _(Nn);if(L=="[")return _(Ce("]"),$e(Ue,"]",","),Me,Nn);if(L=="{")return _(Ce("}"),Ee,Me,Nn);if(L=="(")return _($e(xt,")"),rh,Nn);if(L=="<")return _($e(Ue,">"),Ue);if(L=="quasi")return Z(ir,Nn)}function rh(L){if(L=="=>")return _(Ue)}function Ee(L){return L.match(/[\}\)\]]/)?_():L==","||L==";"?_(Ee):Z(Qi,Ee)}function Qi(L,F){if(L=="variable"||K.style=="keyword")return K.marked="property",_(Qi);if(F=="?"||L=="number"||L=="string")return _(Qi);if(L==":")return _(Ue);if(L=="[")return _(Fe("variable"),js,Fe("]"),Qi);if(L=="(")return Z(Ro,Qi);if(!L.match(/[;\}\)\],]/))return _()}function ir(L,F){return L!="quasi"?Z():F.slice(F.length-2)!="${"?_(ir):_(Ue,wt)}function wt(L){if(L=="}")return K.marked="string-2",K.state.tokenize=W,_(ir)}function xt(L,F){return L=="variable"&&K.stream.match(/^\s*[?:]/,!1)||F=="?"?_(xt):L==":"?_(Ue):L=="spread"?_(xt):Z(Ue)}function Nn(L,F){if(F=="<")return _(Ce(">"),$e(Ue,">"),Me,Nn);if(F=="|"||L=="."||F=="&")return _(Ue);if(L=="[")return _(Ue,Fe("]"),Nn);if(F=="extends"||F=="implements")return K.marked="keyword",_(Ue);if(F=="?")return _(Ue,Fe(":"),Ue)}function Xr(L,F){if(F=="<")return _(Ce(">"),$e(Ue,">"),Me,Nn)}function Qn(){return Z(Ue,or)}function or(L,F){if(F=="=")return _(Ue)}function _l(L,F){return F=="enum"?(K.marked="keyword",_(ke)):Z(Dr,Lo,Jn,wm)}function Dr(L,F){if(g&&B(F))return K.marked="keyword",_(Dr);if(L=="variable")return ee(F),_();if(L=="spread")return _(Dr);if(L=="[")return Yr(Cu,"]");if(L=="{")return Yr(No,"}")}function No(L,F){return L=="variable"&&!K.stream.match(/^\s*:/,!1)?(ee(F),_(Jn)):(L=="variable"&&(K.marked="property"),L=="spread"?_(Dr):L=="}"?Z():L=="["?_(_e,Fe("]"),Fe(":"),No):_(Fe(":"),Dr,Jn))}function Cu(){return Z(Dr,Jn)}function Jn(L,F){if(F=="=")return _(Zt)}function wm(L){if(L==",")return _(_l)}function Fl(L,F){if(L=="keyword b"&&F=="else")return _(Ce("form","else"),je,Me)}function nh(L,F){if(F=="await")return _(nh);if(L=="(")return _(Ce(")"),Tu,Me)}function Tu(L){return L=="var"?_(_l,Do):L=="variable"?_(Do):Z(Do)}function Do(L,F){return L==")"?_():L==";"?_(Do):F=="in"||F=="of"?(K.marked="keyword",_(_e,Do)):Z(_e,Do)}function Dn(L,F){if(F=="*")return K.marked="keyword",_(Dn);if(L=="variable")return ee(F),_(Dn);if(L=="(")return _(De,Ce(")"),$e(Zn,")"),Me,Po,je,Xe);if(g&&F=="<")return _(Ce(">"),$e(Qn,">"),Me,Dn)}function Ro(L,F){if(F=="*")return K.marked="keyword",_(Ro);if(L=="variable")return ee(F),_(Ro);if(L=="(")return _(De,Ce(")"),$e(Zn,")"),Me,Po,Xe);if(g&&F=="<")return _(Ce(">"),$e(Qn,">"),Me,Ro)}function ih(L,F){if(L=="keyword"||L=="variable")return K.marked="type",_(ih);if(F=="<")return _(Ce(">"),$e(Qn,">"),Me)}function Zn(L,F){return F=="@"&&_(_e,Zn),L=="spread"?_(Zn):g&&B(F)?(K.marked="keyword",_(Zn)):g&&L=="this"?_(Lo,Jn):Z(Dr,Lo,Jn)}function xm(L,F){return L=="variable"?$l(L,F):ei(L,F)}function $l(L,F){if(L=="variable")return ee(F),_(ei)}function ei(L,F){if(F=="<")return _(Ce(">"),$e(Qn,">"),Me,ei);if(F=="extends"||F=="implements"||g&&L==",")return F=="implements"&&(K.marked="keyword"),_(g?Ue:_e,ei);if(L=="{")return _(Ce("}"),ti,Me)}function ti(L,F){if(L=="async"||L=="variable"&&(F=="static"||F=="get"||F=="set"||g&&B(F))&&K.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return K.marked="keyword",_(ti);if(L=="variable"||K.style=="keyword")return K.marked="property",_(Hs,ti);if(L=="number"||L=="string")return _(Hs,ti);if(L=="[")return _(_e,Lo,Fe("]"),Hs,ti);if(F=="*")return K.marked="keyword",_(ti);if(g&&L=="(")return Z(Ro,ti);if(L==";"||L==",")return _(ti);if(L=="}")return _();if(F=="@")return _(_e,ti)}function Hs(L,F){if(F=="!"||F=="?")return _(Hs);if(L==":")return _(Ue,Jn);if(F=="=")return _(Zt);var X=K.state.lexical.prev,se=X&&X.info=="interface";return Z(se?Ro:Dn)}function zl(L,F){return F=="*"?(K.marked="keyword",_(Hl,Fe(";"))):F=="default"?(K.marked="keyword",_(_e,Fe(";"))):L=="{"?_($e(Wl,"}"),Hl,Fe(";")):Z(je)}function Wl(L,F){if(F=="as")return K.marked="keyword",_(Fe("variable"));if(L=="variable")return Z(Zt,Wl)}function Io(L){return L=="string"?_():L=="("?Z(_e):L=="."?Z(Nr):Z(jl,bi,Hl)}function jl(L,F){return L=="{"?Yr(jl,"}"):(L=="variable"&&ee(F),F=="*"&&(K.marked="keyword"),_(Ou))}function bi(L){if(L==",")return _(jl,bi)}function Ou(L,F){if(F=="as")return K.marked="keyword",_(jl)}function Hl(L,F){if(F=="from")return K.marked="keyword",_(_e)}function bt(L){return L=="]"?_():Z($e(Zt,"]"))}function ke(){return Z(Ce("form"),Dr,Fe("{"),Ce("}"),$e(Ji,"}"),Me,Me)}function Ji(){return Z(Dr,Jn)}function Eu(L,F){return L.lastType=="operator"||L.lastType==","||x.test(F.charAt(0))||/[,.]/.test(F.charAt(0))}function dn(L,F,X){return F.tokenize==M&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(F.lastType)||F.lastType=="quasi"&&/\{\s*$/.test(L.string.slice(0,L.pos-(X||0)))}return{startState:function(L){var F={tokenize:M,lastType:"sof",cc:[],lexical:new ie((L||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new V(null,null,!1),indented:L||0};return i.globalVars&&typeof i.globalVars=="object"&&(F.globalVars=i.globalVars),F},token:function(L,F){if(L.sol()&&(F.lexical.hasOwnProperty("align")||(F.lexical.align=!1),F.indented=L.indentation(),H(L,F)),F.tokenize!=D&&L.eatSpace())return null;var X=F.tokenize(L,F);return P=="comment"?X:(F.lastType=P=="operator"&&(C=="++"||C=="--")?"incdec":P,ue(F,X,P,C,L))},indent:function(L,F){if(L.tokenize==D||L.tokenize==W)return r.Pass;if(L.tokenize!=M)return 0;var X=F&&F.charAt(0),se=L.lexical,q;if(!/^\s*else\b/.test(F))for(var pe=L.cc.length-1;pe>=0;--pe){var Ze=L.cc[pe];if(Ze==Me)se=se.prev;else if(Ze!=Fl&&Ze!=Xe)break}for(;(se.type=="stat"||se.type=="form")&&(X=="}"||(q=L.cc[L.cc.length-1])&&(q==Nr||q==hn)&&!/^[,\.=+\-*:?[\(]/.test(F));)se=se.prev;l&&se.type==")"&&se.prev.type=="stat"&&(se=se.prev);var jt=se.type,Rr=X==jt;return jt=="vardef"?se.indented+(L.lastType=="operator"||L.lastType==","?se.info.length+1:0):jt=="form"&&X=="{"?se.indented:jt=="form"?se.indented+o:jt=="stat"?se.indented+(Eu(L,F)?l||o:0):se.info=="switch"&&!Rr&&i.doubleIndentSwitch!=!1?se.indented+(/^(?:case|default)\b/.test(F)?o:2*o):se.align?se.column+(Rr?0:1):se.indented+(Rr?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:u,jsonMode:c,expressionAllowed:dn,skipExpression:function(L){ue(L,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(t,e){(function(r){r(Ao())})(function(r){var n={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},i=r.Pos;r.defineOption("autoCloseBrackets",!1,function(C,S,M){M&&M!=r.Init&&(C.removeKeyMap(l),C.state.closeBrackets=null),S&&(u(o(S,"pairs")),C.state.closeBrackets=S,C.addKeyMap(l))});function o(C,S){return S=="pairs"&&typeof C=="string"?C:typeof C=="object"&&C[S]!=null?C[S]:n[S]}var l={Backspace:g,Enter:v};function u(C){for(var S=0;S<C.length;S++){var M=C.charAt(S),N="'"+M+"'";l[N]||(l[N]=c(M))}}u(n.pairs+"`");function c(C){return function(S){return T(S,C)}}function p(C){var S=C.state.closeBrackets;if(!S||S.override)return S;var M=C.getModeAt(C.getCursor());return M.closeBrackets||S}function g(C){var S=p(C);if(!S||C.getOption("disableInput"))return r.Pass;for(var M=o(S,"pairs"),N=C.listSelections(),D=0;D<N.length;D++){if(!N[D].empty())return r.Pass;var W=A(C,N[D].head);if(!W||M.indexOf(W)%2!=0)return r.Pass}for(var D=N.length-1;D>=0;D--){var z=N[D].head;C.replaceRange("",i(z.line,z.ch-1),i(z.line,z.ch+1),"+delete")}}function v(C){var S=p(C),M=S&&o(S,"explode");if(!M||C.getOption("disableInput"))return r.Pass;for(var N=C.listSelections(),D=0;D<N.length;D++){if(!N[D].empty())return r.Pass;var W=A(C,N[D].head);if(!W||M.indexOf(W)%2!=0)return r.Pass}C.operation(function(){var z=C.lineSeparator()||`
`;C.replaceSelection(z+z,null),y(C,-1),N=C.listSelections();for(var H=0;H<N.length;H++){var J=N[H].head.line;C.indentLine(J,null,!0),C.indentLine(J+1,null,!0)}})}function y(C,S){for(var M=[],N=C.listSelections(),D=0,W=0;W<N.length;W++){var z=N[W];z.head==C.getCursor()&&(D=W);var H=z.head.ch||S>0?{line:z.head.line,ch:z.head.ch+S}:{line:z.head.line-1};M.push({anchor:H,head:H})}C.setSelections(M,D)}function x(C){var S=r.cmpPos(C.anchor,C.head)>0;return{anchor:new i(C.anchor.line,C.anchor.ch+(S?-1:1)),head:new i(C.head.line,C.head.ch+(S?1:-1))}}function T(C,S){var M=p(C);if(!M||C.getOption("disableInput"))return r.Pass;var N=o(M,"pairs"),D=N.indexOf(S);if(D==-1)return r.Pass;for(var W=o(M,"closeBefore"),z=o(M,"triples"),H=N.charAt(D+1)==S,J=C.listSelections(),ie=D%2==0,de,ue=0;ue<J.length;ue++){var K=J[ue],Z=K.head,_,Q=C.getRange(Z,i(Z.line,Z.ch+1));if(ie&&!K.empty())_="surround";else if((H||!ie)&&Q==S)H&&P(C,Z)?_="both":z.indexOf(S)>=0&&C.getRange(Z,i(Z.line,Z.ch+3))==S+S+S?_="skipThree":_="skip";else if(H&&Z.ch>1&&z.indexOf(S)>=0&&C.getRange(i(Z.line,Z.ch-2),Z)==S+S){if(Z.ch>2&&/\bstring/.test(C.getTokenTypeAt(i(Z.line,Z.ch-2))))return r.Pass;_="addFour"}else if(H){var ee=Z.ch==0?" ":C.getRange(i(Z.line,Z.ch-1),Z);if(!r.isWordChar(Q)&&ee!=S&&!r.isWordChar(ee))_="both";else return r.Pass}else if(ie&&(Q.length===0||/\s/.test(Q)||W.indexOf(Q)>-1))_="both";else return r.Pass;if(!de)de=_;else if(de!=_)return r.Pass}var R=D%2?N.charAt(D-1):S,B=D%2?S:N.charAt(D+1);C.operation(function(){if(de=="skip")y(C,1);else if(de=="skipThree")y(C,3);else if(de=="surround"){for(var V=C.getSelections(),oe=0;oe<V.length;oe++)V[oe]=R+V[oe]+B;C.replaceSelections(V,"around"),V=C.listSelections().slice();for(var oe=0;oe<V.length;oe++)V[oe]=x(V[oe]);C.setSelections(V)}else de=="both"?(C.replaceSelection(R+B,null),C.triggerElectric(R+B),y(C,-1)):de=="addFour"&&(C.replaceSelection(R+R+R+R,"before"),y(C,1))})}function A(C,S){var M=C.getRange(i(S.line,S.ch-1),i(S.line,S.ch+1));return M.length==2?M:null}function P(C,S){var M=C.getTokenAt(i(S.line,S.ch+1));return/\bstring/.test(M.type)&&M.start==S.ch&&(S.ch==0||!/\bstring/.test(C.getTokenTypeAt(S)))}})})();var lE={exports:{}},aE;function dZ(){return aE||(aE=1,function(t,e){(function(r){r(Ao())})(function(r){var n=r.Pos;function i(S,M){return S.line-M.line||S.ch-M.ch}var o="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",l=o+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",u=new RegExp("<(/?)(["+o+"]["+l+"]*)","g");function c(S,M,N,D){this.line=M,this.ch=N,this.cm=S,this.text=S.getLine(M),this.min=D?Math.max(D.from,S.firstLine()):S.firstLine(),this.max=D?Math.min(D.to-1,S.lastLine()):S.lastLine()}function p(S,M){var N=S.cm.getTokenTypeAt(n(S.line,M));return N&&/\btag\b/.test(N)}function g(S){if(!(S.line>=S.max))return S.ch=0,S.text=S.cm.getLine(++S.line),!0}function v(S){if(!(S.line<=S.min))return S.text=S.cm.getLine(--S.line),S.ch=S.text.length,!0}function y(S){for(;;){var M=S.text.indexOf(">",S.ch);if(M==-1){if(g(S))continue;return}if(!p(S,M+1)){S.ch=M+1;continue}var N=S.text.lastIndexOf("/",M),D=N>-1&&!/\S/.test(S.text.slice(N+1,M));return S.ch=M+1,D?"selfClose":"regular"}}function x(S){for(;;){var M=S.ch?S.text.lastIndexOf("<",S.ch-1):-1;if(M==-1){if(v(S))continue;return}if(!p(S,M+1)){S.ch=M;continue}u.lastIndex=M,S.ch=M;var N=u.exec(S.text);if(N&&N.index==M)return N}}function T(S){for(;;){u.lastIndex=S.ch;var M=u.exec(S.text);if(!M){if(g(S))continue;return}if(!p(S,M.index+1)){S.ch=M.index+1;continue}return S.ch=M.index+M[0].length,M}}function A(S){for(;;){var M=S.ch?S.text.lastIndexOf(">",S.ch-1):-1;if(M==-1){if(v(S))continue;return}if(!p(S,M+1)){S.ch=M;continue}var N=S.text.lastIndexOf("/",M),D=N>-1&&!/\S/.test(S.text.slice(N+1,M));return S.ch=M+1,D?"selfClose":"regular"}}function P(S,M){for(var N=[];;){var D=T(S),W,z=S.line,H=S.ch-(D?D[0].length:0);if(!D||!(W=y(S)))return;if(W!="selfClose")if(D[1]){for(var J=N.length-1;J>=0;--J)if(N[J]==D[2]){N.length=J;break}if(J<0&&(!M||M==D[2]))return{tag:D[2],from:n(z,H),to:n(S.line,S.ch)}}else N.push(D[2])}}function C(S,M){for(var N=[];;){var D=A(S);if(!D)return;if(D=="selfClose"){x(S);continue}var W=S.line,z=S.ch,H=x(S);if(!H)return;if(H[1])N.push(H[2]);else{for(var J=N.length-1;J>=0;--J)if(N[J]==H[2]){N.length=J;break}if(J<0&&(!M||M==H[2]))return{tag:H[2],from:n(S.line,S.ch),to:n(W,z)}}}}r.registerHelper("fold","xml",function(S,M){for(var N=new c(S,M.line,0);;){var D=T(N);if(!D||N.line!=M.line)return;var W=y(N);if(!W)return;if(!D[1]&&W!="selfClose"){var z=n(N.line,N.ch),H=P(N,D[2]);return H&&i(H.from,z)>0?{from:z,to:H.from}:null}}}),r.findMatchingTag=function(S,M,N){var D=new c(S,M.line,M.ch,N);if(!(D.text.indexOf(">")==-1&&D.text.indexOf("<")==-1)){var W=y(D),z=W&&n(D.line,D.ch),H=W&&x(D);if(!(!W||!H||i(D,M)>0)){var J={from:n(D.line,D.ch),to:z,tag:H[2]};return W=="selfClose"?{open:J,close:null,at:"open"}:H[1]?{open:C(D,H[2]),close:J,at:"close"}:(D=new c(S,z.line,z.ch,N),{open:J,close:P(D,H[2]),at:"open"})}}},r.findEnclosingTag=function(S,M,N,D){for(var W=new c(S,M.line,M.ch,N);;){var z=C(W,D);if(!z)break;var H=new c(S,M.line,M.ch,N),J=P(H,z.tag);if(J)return{open:z,close:J}}},r.scanForClosingTag=function(S,M,N,D){var W=new c(S,M.line,M.ch,D?{from:0,to:D}:null);return P(W,N)}})}()),lE.exports}(function(t,e){(function(r){r(Ao(),dZ())})(function(r){r.defineOption("autoCloseTags",!1,function(g,v,y){if(y!=r.Init&&y&&g.removeKeyMap("autoCloseTags"),!!v){var x={name:"autoCloseTags"};(typeof v!="object"||v.whenClosing!==!1)&&(x["'/'"]=function(T){return u(T)}),(typeof v!="object"||v.whenOpening!==!1)&&(x["'>'"]=function(T){return o(T)}),g.addKeyMap(x)}});var n=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],i=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function o(g){if(g.getOption("disableInput"))return r.Pass;for(var v=g.listSelections(),y=[],x=g.getOption("autoCloseTags"),T=0;T<v.length;T++){if(!v[T].empty())return r.Pass;var A=v[T].head,P=g.getTokenAt(A),C=r.innerMode(g.getMode(),P.state),S=C.state,M=C.mode.xmlCurrentTag&&C.mode.xmlCurrentTag(S),N=M&&M.name;if(!N)return r.Pass;var D=C.mode.configuration=="html",W=typeof x=="object"&&x.dontCloseTags||D&&n,z=typeof x=="object"&&x.indentTags||D&&i;P.end>A.ch&&(N=N.slice(0,N.length-P.end+A.ch));var H=N.toLowerCase();if(!N||P.type=="string"&&(P.end!=A.ch||!/[\"\']/.test(P.string.charAt(P.string.length-1))||P.string.length==1)||P.type=="tag"&&M.close||P.string.indexOf("/")==A.ch-P.start-1||W&&c(W,H)>-1||p(g,C.mode.xmlCurrentContext&&C.mode.xmlCurrentContext(S)||[],N,A,!0))return r.Pass;var J=typeof x=="object"&&x.emptyTags;if(J&&c(J,N)>-1){y[T]={text:"/>",newPos:r.Pos(A.line,A.ch+2)};continue}var ie=z&&c(z,H)>-1;y[T]={indent:ie,text:">"+(ie?`

`:"")+"</"+N+">",newPos:ie?r.Pos(A.line+1,0):r.Pos(A.line,A.ch+1)}}for(var de=typeof x=="object"&&x.dontIndentOnAutoClose,T=v.length-1;T>=0;T--){var ue=y[T];g.replaceRange(ue.text,v[T].head,v[T].anchor,"+insert");var K=g.listSelections().slice(0);K[T]={head:ue.newPos,anchor:ue.newPos},g.setSelections(K),!de&&ue.indent&&(g.indentLine(ue.newPos.line,null,!0),g.indentLine(ue.newPos.line+1,null,!0))}}function l(g,v){for(var y=g.listSelections(),x=[],T=v?"/":"</",A=g.getOption("autoCloseTags"),P=typeof A=="object"&&A.dontIndentOnSlash,C=0;C<y.length;C++){if(!y[C].empty())return r.Pass;var S=y[C].head,M=g.getTokenAt(S),N=r.innerMode(g.getMode(),M.state),D=N.state;if(v&&(M.type=="string"||M.string.charAt(0)!="<"||M.start!=S.ch-1))return r.Pass;var W,z=N.mode.name!="xml"&&g.getMode().name=="htmlmixed";if(z&&N.mode.name=="javascript")W=T+"script";else if(z&&N.mode.name=="css")W=T+"style";else{var H=N.mode.xmlCurrentContext&&N.mode.xmlCurrentContext(D),J=H.length?H[H.length-1]:"";if(!H||H.length&&p(g,H,J,S))return r.Pass;W=T+J}g.getLine(S.line).charAt(M.end)!=">"&&(W+=">"),x[C]=W}if(g.replaceSelections(x),y=g.listSelections(),!P)for(var C=0;C<y.length;C++)(C==y.length-1||y[C].head.line<y[C+1].head.line)&&g.indentLine(y[C].head.line)}function u(g){return g.getOption("disableInput")?r.Pass:l(g,!0)}r.commands.closeTag=function(g){return l(g)};function c(g,v){if(g.indexOf)return g.indexOf(v);for(var y=0,x=g.length;y<x;++y)if(g[y]==v)return y;return-1}function p(g,v,y,x,T){if(!r.scanForClosingTag)return!1;var A=Math.min(g.lastLine()+1,x.line+500),P=r.scanForClosingTag(g,x,null,A);if(!P||P.tag!=y)return!1;for(var C=T?1:0,S=v.length-1;S>=0&&v[S]==y;S--)++C;x=P.to;for(var S=1;S<C;S++){var M=r.scanForClosingTag(g,x,null,A);if(!M||M.tag!=y)return!1;x=M.to}return!0}})})();(function(t,e){(function(r){r(Ao())})(function(r){function n(p){return new RegExp("^(("+p.join(")|(")+"))\\b")}var i=n(["and","or","not","is"]),o=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in","False","True"],l=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];r.registerHelper("hintWords","python",o.concat(l).concat(["exec","print"]));function u(p){return p.scopes[p.scopes.length-1]}r.defineMode("python",function(p,g){for(var v="error",y=g.delimiters||g.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,x=[g.singleOperators,g.doubleOperators,g.doubleDelimiters,g.tripleDelimiters,g.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],T=0;T<x.length;T++)x[T]||x.splice(T--,1);var A=g.hangingIndent||p.indentUnit,P=o,C=l;g.extra_keywords!=null&&(P=P.concat(g.extra_keywords)),g.extra_builtins!=null&&(C=C.concat(g.extra_builtins));var S=!(g.version&&Number(g.version)<3);if(S){var M=g.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;P=P.concat(["nonlocal","None","aiter","anext","async","await","breakpoint","match","case"]),C=C.concat(["ascii","bytes","exec","print"]);var N=new RegExp(`^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|"{3}|['"]))`,"i")}else{var M=g.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;P=P.concat(["exec","print"]),C=C.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","None"]);var N=new RegExp(`^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))`,"i")}var D=n(P),W=n(C);function z(Q,ee){var R=Q.sol()&&ee.lastToken!="\\";if(R&&(ee.indent=Q.indentation()),R&&u(ee).type=="py"){var B=u(ee).offset;if(Q.eatSpace()){var V=Q.indentation();return V>B?de(ee):V<B&&K(Q,ee)&&Q.peek()!="#"&&(ee.errorToken=!0),null}else{var oe=H(Q,ee);return B>0&&K(Q,ee)&&(oe+=" "+v),oe}}return H(Q,ee)}function H(Q,ee,R){if(Q.eatSpace())return null;if(!R&&Q.match(/^#.*/))return"comment";if(Q.match(/^[0-9\.]/,!1)){var B=!1;if(Q.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(B=!0),Q.match(/^[\d_]+\.\d*/)&&(B=!0),Q.match(/^\.\d+/)&&(B=!0),B)return Q.eat(/J/i),"number";var V=!1;if(Q.match(/^0x[0-9a-f_]+/i)&&(V=!0),Q.match(/^0b[01_]+/i)&&(V=!0),Q.match(/^0o[0-7_]+/i)&&(V=!0),Q.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(Q.eat(/J/i),V=!0),Q.match(/^0(?![\dx])/i)&&(V=!0),V)return Q.eat(/L/i),"number"}if(Q.match(N)){var oe=Q.current().toLowerCase().indexOf("f")!==-1;return oe?(ee.tokenize=J(Q.current(),ee.tokenize),ee.tokenize(Q,ee)):(ee.tokenize=ie(Q.current(),ee.tokenize),ee.tokenize(Q,ee))}for(var he=0;he<x.length;he++)if(Q.match(x[he]))return"operator";return Q.match(y)?"punctuation":ee.lastToken=="."&&Q.match(M)?"property":Q.match(D)||Q.match(i)?"keyword":Q.match(W)?"builtin":Q.match(/^(self|cls)\b/)?"variable-2":Q.match(M)?ee.lastToken=="def"||ee.lastToken=="class"?"def":"variable":(Q.next(),R?null:v)}function J(Q,ee){for(;"rubf".indexOf(Q.charAt(0).toLowerCase())>=0;)Q=Q.substr(1);var R=Q.length==1,B="string";function V(he){return function(De,Ke){var Xe=H(De,Ke,!0);return Xe=="punctuation"&&(De.current()=="{"?Ke.tokenize=V(he+1):De.current()=="}"&&(he>1?Ke.tokenize=V(he-1):Ke.tokenize=oe)),Xe}}function oe(he,De){for(;!he.eol();)if(he.eatWhile(/[^'"\{\}\\]/),he.eat("\\")){if(he.next(),R&&he.eol())return B}else{if(he.match(Q))return De.tokenize=ee,B;if(he.match("{{"))return B;if(he.match("{",!1))return De.tokenize=V(0),he.current()?B:De.tokenize(he,De);if(he.match("}}"))return B;if(he.match("}"))return v;he.eat(/['"]/)}if(R){if(g.singleLineStringErrors)return v;De.tokenize=ee}return B}return oe.isString=!0,oe}function ie(Q,ee){for(;"rubf".indexOf(Q.charAt(0).toLowerCase())>=0;)Q=Q.substr(1);var R=Q.length==1,B="string";function V(oe,he){for(;!oe.eol();)if(oe.eatWhile(/[^'"\\]/),oe.eat("\\")){if(oe.next(),R&&oe.eol())return B}else{if(oe.match(Q))return he.tokenize=ee,B;oe.eat(/['"]/)}if(R){if(g.singleLineStringErrors)return v;he.tokenize=ee}return B}return V.isString=!0,V}function de(Q){for(;u(Q).type!="py";)Q.scopes.pop();Q.scopes.push({offset:u(Q).offset+p.indentUnit,type:"py",align:null})}function ue(Q,ee,R){var B=Q.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:Q.column()+1;ee.scopes.push({offset:ee.indent+A,type:R,align:B})}function K(Q,ee){for(var R=Q.indentation();ee.scopes.length>1&&u(ee).offset>R;){if(u(ee).type!="py")return!0;ee.scopes.pop()}return u(ee).offset!=R}function Z(Q,ee){Q.sol()&&(ee.beginningOfLine=!0,ee.dedent=!1);var R=ee.tokenize(Q,ee),B=Q.current();if(ee.beginningOfLine&&B=="@")return Q.match(M,!1)?"meta":S?"operator":v;if(/\S/.test(B)&&(ee.beginningOfLine=!1),(R=="variable"||R=="builtin")&&ee.lastToken=="meta"&&(R="meta"),(B=="pass"||B=="return")&&(ee.dedent=!0),B=="lambda"&&(ee.lambda=!0),B==":"&&!ee.lambda&&u(ee).type=="py"&&Q.match(/^\s*(?:#|$)/,!1)&&de(ee),B.length==1&&!/string|comment/.test(R)){var V="[({".indexOf(B);if(V!=-1&&ue(Q,ee,"])}".slice(V,V+1)),V="])}".indexOf(B),V!=-1)if(u(ee).type==B)ee.indent=ee.scopes.pop().offset-A;else return v}return ee.dedent&&Q.eol()&&u(ee).type=="py"&&ee.scopes.length>1&&ee.scopes.pop(),R}var _={startState:function(Q){return{tokenize:z,scopes:[{offset:Q||0,type:"py",align:null}],indent:Q||0,lastToken:null,lambda:!1,dedent:0}},token:function(Q,ee){var R=ee.errorToken;R&&(ee.errorToken=!1);var B=Z(Q,ee);return B&&B!="comment"&&(ee.lastToken=B=="keyword"||B=="punctuation"?Q.current():B),B=="punctuation"&&(B=null),Q.eol()&&ee.lambda&&(ee.lambda=!1),R?B+" "+v:B},indent:function(Q,ee){if(Q.tokenize!=z)return Q.tokenize.isString?r.Pass:0;var R=u(Q),B=R.type==ee.charAt(0)||R.type=="py"&&!Q.dedent&&/^(else:|elif |except |finally:)/.test(ee);return R.align!=null?R.align-(B?1:0):R.offset-(B?A:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:`'"`},lineComment:"#",fold:"indent"};return _}),r.defineMIME("text/x-python","python");var c=function(p){return p.split(" ")};r.defineMIME("text/x-cython",{name:"python",extra_keywords:c("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})})();(function(t,e){(function(r){r(Ao())})(function(r){function n(R,B,V,oe,he,De){this.indented=R,this.column=B,this.type=V,this.info=oe,this.align=he,this.prev=De}function i(R,B,V,oe){var he=R.indented;return R.context&&R.context.type=="statement"&&V!="statement"&&(he=R.context.indented),R.context=new n(he,B,V,oe,null,R.context)}function o(R){var B=R.context.type;return(B==")"||B=="]"||B=="}")&&(R.indented=R.context.indented),R.context=R.context.prev}function l(R,B,V){if(B.prevToken=="variable"||B.prevToken=="type"||/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(R.string.slice(0,V))||B.typeAtEndOfLine&&R.column()==R.indentation())return!0}function u(R){for(;;){if(!R||R.type=="top")return!0;if(R.type=="}"&&R.prev.info!="namespace")return!1;R=R.prev}}r.defineMode("clike",function(R,B){var V=R.indentUnit,oe=B.statementIndentUnit||V,he=B.dontAlignCalls,De=B.keywords||{},Ke=B.types||{},Xe=B.builtin||{},Ce=B.blockKeywords||{},Me=B.defKeywords||{},Fe=B.atoms||{},je=B.hooks||{},An=B.multiLineStrings,_e=B.indentStatements!==!1,Zt=B.indentSwitch!==!1,Yn=B.namespaceSeparator,Pr=B.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,Mn=B.numberStart||/[\d\.]/,Nr=B.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,hn=B.isOperatorChar||/[+\-*&%=<>!?|\/]/,Ln=B.isIdentifierChar||/[\w\$_\xa1-\uffff]/,Mo=B.isReservedIdentifier||!1,Ie,Xn;function Rl(Le,Ne){var Te=Le.next();if(je[Te]){var He=je[Te](Le,Ne);if(He!==!1)return He}if(Te=='"'||Te=="'")return Ne.tokenize=Il(Te),Ne.tokenize(Le,Ne);if(Mn.test(Te)){if(Le.backUp(1),Le.match(Nr))return"number";Le.next()}if(Pr.test(Te))return Ie=Te,null;if(Te=="/"){if(Le.eat("*"))return Ne.tokenize=Ws,Ws(Le,Ne);if(Le.eat("/"))return Le.skipToEnd(),"comment"}if(hn.test(Te)){for(;!Le.match(/^\/[\/*]/,!1)&&Le.eat(hn););return"operator"}if(Le.eatWhile(Ln),Yn)for(;Le.match(Yn);)Le.eatWhile(Ln);var $e=Le.current();return p(De,$e)?(p(Ce,$e)&&(Ie="newstatement"),p(Me,$e)&&(Xn=!0),"keyword"):p(Ke,$e)?"type":p(Xe,$e)||Mo&&Mo($e)?(p(Ce,$e)&&(Ie="newstatement"),"builtin"):p(Fe,$e)?"atom":"variable"}function Il(Le){return function(Ne,Te){for(var He=!1,$e,Yr=!1;($e=Ne.next())!=null;){if($e==Le&&!He){Yr=!0;break}He=!He&&$e=="\\"}return(Yr||!(He||An))&&(Te.tokenize=null),"string"}}function Ws(Le,Ne){for(var Te=!1,He;He=Le.next();){if(He=="/"&&Te){Ne.tokenize=null;break}Te=He=="*"}return"comment"}function Bl(Le,Ne){B.typeFirstDefinitions&&Le.eol()&&u(Ne.context)&&(Ne.typeAtEndOfLine=l(Le,Ne,Le.pos))}return{startState:function(Le){return{tokenize:null,context:new n((Le||0)-V,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(Le,Ne){var Te=Ne.context;if(Le.sol()&&(Te.align==null&&(Te.align=!1),Ne.indented=Le.indentation(),Ne.startOfLine=!0),Le.eatSpace())return Bl(Le,Ne),null;Ie=Xn=null;var He=(Ne.tokenize||Rl)(Le,Ne);if(He=="comment"||He=="meta")return He;if(Te.align==null&&(Te.align=!0),Ie==";"||Ie==":"||Ie==","&&Le.match(/^\s*(?:\/\/.*)?$/,!1))for(;Ne.context.type=="statement";)o(Ne);else if(Ie=="{")i(Ne,Le.column(),"}");else if(Ie=="[")i(Ne,Le.column(),"]");else if(Ie=="(")i(Ne,Le.column(),")");else if(Ie=="}"){for(;Te.type=="statement";)Te=o(Ne);for(Te.type=="}"&&(Te=o(Ne));Te.type=="statement";)Te=o(Ne)}else Ie==Te.type?o(Ne):_e&&((Te.type=="}"||Te.type=="top")&&Ie!=";"||Te.type=="statement"&&Ie=="newstatement")&&i(Ne,Le.column(),"statement",Le.current());if(He=="variable"&&(Ne.prevToken=="def"||B.typeFirstDefinitions&&l(Le,Ne,Le.start)&&u(Ne.context)&&Le.match(/^\s*\(/,!1))&&(He="def"),je.token){var $e=je.token(Le,Ne,He);$e!==void 0&&(He=$e)}return He=="def"&&B.styleDefs===!1&&(He="variable"),Ne.startOfLine=!1,Ne.prevToken=Xn?"def":He||Ie,Bl(Le,Ne),He},indent:function(Le,Ne){if(Le.tokenize!=Rl&&Le.tokenize!=null||Le.typeAtEndOfLine&&u(Le.context))return r.Pass;var Te=Le.context,He=Ne&&Ne.charAt(0),$e=He==Te.type;if(Te.type=="statement"&&He=="}"&&(Te=Te.prev),B.dontIndentStatements)for(;Te.type=="statement"&&B.dontIndentStatements.test(Te.info);)Te=Te.prev;if(je.indent){var Yr=je.indent(Le,Te,Ne,V);if(typeof Yr=="number")return Yr}var Pn=Te.prev&&Te.prev.info=="switch";if(B.allmanIndentation&&/[{(]/.test(He)){for(;Te.type!="top"&&Te.type!="}";)Te=Te.prev;return Te.indented}return Te.type=="statement"?Te.indented+(He=="{"?0:oe):Te.align&&(!he||Te.type!=")")?Te.column+($e?0:1):Te.type==")"&&!$e?Te.indented+oe:Te.indented+($e?0:V)+(!$e&&Pn&&!/^(?:case|default)\b/.test(Ne)?V:0)},electricInput:Zt?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});function c(R){for(var B={},V=R.split(" "),oe=0;oe<V.length;++oe)B[V[oe]]=!0;return B}function p(R,B){return typeof R=="function"?R(B):R.propertyIsEnumerable(B)}var g="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",v="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",y="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",x="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",T=c("int long char short double float unsigned signed void bool"),A=c("SEL instancetype id Class Protocol BOOL");function P(R){return p(T,R)||/.+_t$/.test(R)}function C(R){return P(R)||p(A,R)}var S="case do else for if switch while struct enum union",M="struct enum union";function N(R,B){if(!B.startOfLine)return!1;for(var V,oe=null;V=R.peek();){if(V=="\\"&&R.match(/^.$/)){oe=N;break}else if(V=="/"&&R.match(/^\/[\/\*]/,!1))break;R.next()}return B.tokenize=oe,"meta"}function D(R,B){return B.prevToken=="type"?"type":!1}function W(R){return!R||R.length<2||R[0]!="_"?!1:R[1]=="_"||R[1]!==R[1].toLowerCase()}function z(R){return R.eatWhile(/[\w\.']/),"number"}function H(R,B){if(R.backUp(1),R.match(/^(?:R|u8R|uR|UR|LR)/)){var V=R.match(/^"([^\s\\()]{0,16})\(/);return V?(B.cpp11RawStringDelim=V[1],B.tokenize=de,de(R,B)):!1}return R.match(/^(?:u8|u|U|L)/)?R.match(/^["']/,!1)?"string":!1:(R.next(),!1)}function J(R){var B=/(\w+)::~?(\w+)$/.exec(R);return B&&B[1]==B[2]}function ie(R,B){for(var V;(V=R.next())!=null;)if(V=='"'&&!R.eat('"')){B.tokenize=null;break}return"string"}function de(R,B){var V=B.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),oe=R.match(new RegExp(".*?\\)"+V+'"'));return oe?B.tokenize=null:R.skipToEnd(),"string"}function ue(R,B){typeof R=="string"&&(R=[R]);var V=[];function oe(De){if(De)for(var Ke in De)De.hasOwnProperty(Ke)&&V.push(Ke)}oe(B.keywords),oe(B.types),oe(B.builtin),oe(B.atoms),V.length&&(B.helperType=R[0],r.registerHelper("hintWords",R[0],V));for(var he=0;he<R.length;++he)r.defineMIME(R[he],B)}ue(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:c(g),types:P,blockKeywords:c(S),defKeywords:c(M),typeFirstDefinitions:!0,atoms:c("NULL true false"),isReservedIdentifier:W,hooks:{"#":N,"*":D},modeProps:{fold:["brace","include"]}}),ue(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:c(g+" "+v),types:P,blockKeywords:c(S+" class try catch"),defKeywords:c(M+" class namespace"),typeFirstDefinitions:!0,atoms:c("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:W,hooks:{"#":N,"*":D,u:H,U:H,L:H,R:H,0:z,1:z,2:z,3:z,4:z,5:z,6:z,7:z,8:z,9:z,token:function(R,B,V){if(V=="variable"&&R.peek()=="("&&(B.prevToken==";"||B.prevToken==null||B.prevToken=="}")&&J(R.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),ue("text/x-java",{name:"clike",keywords:c("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:c("var byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:c("catch class do else finally for if switch try while"),defKeywords:c("class interface enum @interface"),typeFirstDefinitions:!0,atoms:c("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(R){return R.match("interface",!1)?!1:(R.eatWhile(/[\w\$_]/),"meta")},'"':function(R,B){return R.match(/""$/)?(B.tokenize=K,B.tokenize(R,B)):!1}},modeProps:{fold:["brace","import"]}}),ue("text/x-csharp",{name:"clike",keywords:c("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in init interface internal is lock namespace new operator out override params private protected public readonly record ref required return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:c("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:c("catch class do else finally for foreach if struct switch try while"),defKeywords:c("class interface namespace record struct var"),typeFirstDefinitions:!0,atoms:c("true false null"),hooks:{"@":function(R,B){return R.eat('"')?(B.tokenize=ie,ie(R,B)):(R.eatWhile(/[\w\$_]/),"meta")}}});function K(R,B){for(var V=!1;!R.eol();){if(!V&&R.match('"""')){B.tokenize=null;break}V=R.next()=="\\"&&!V}return"string"}function Z(R){return function(B,V){for(var oe;oe=B.next();)if(oe=="*"&&B.eat("/"))if(R==1){V.tokenize=null;break}else return V.tokenize=Z(R-1),V.tokenize(B,V);else if(oe=="/"&&B.eat("*"))return V.tokenize=Z(R+1),V.tokenize(B,V);return"comment"}}ue("text/x-scala",{name:"clike",keywords:c("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:c("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:c("catch class enum do else finally for forSome if match switch try while"),defKeywords:c("class enum def object package trait type val var"),atoms:c("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(R){return R.eatWhile(/[\w\$_]/),"meta"},'"':function(R,B){return R.match('""')?(B.tokenize=K,B.tokenize(R,B)):!1},"'":function(R){return R.match(/^(\\[^'\s]+|[^\\'])'/)?"string-2":(R.eatWhile(/[\w\$_\xa1-\uffff]/),"atom")},"=":function(R,B){var V=B.context;return V.type=="}"&&V.align&&R.eat(">")?(B.context=new n(V.indented,V.column,V.type,V.info,null,V.prev),"operator"):!1},"/":function(R,B){return R.eat("*")?(B.tokenize=Z(1),B.tokenize(R,B)):!1}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}});function _(R){return function(B,V){for(var oe=!1,he,De=!1;!B.eol();){if(!R&&!oe&&B.match('"')){De=!0;break}if(R&&B.match('"""')){De=!0;break}he=B.next(),!oe&&he=="$"&&B.match("{")&&B.skipTo("}"),oe=!oe&&he=="\\"&&!R}return(De||!R)&&(V.tokenize=null),"string"}}ue("text/x-kotlin",{name:"clike",keywords:c("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value"),types:c("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:c("catch class do else finally for if where try while enum"),defKeywords:c("class val var object interface fun"),atoms:c("true false null this"),hooks:{"@":function(R){return R.eatWhile(/[\w\$_]/),"meta"},"*":function(R,B){return B.prevToken=="."?"variable":"operator"},'"':function(R,B){return B.tokenize=_(R.match('""')),B.tokenize(R,B)},"/":function(R,B){return R.eat("*")?(B.tokenize=Z(1),B.tokenize(R,B)):!1},indent:function(R,B,V,oe){var he=V&&V.charAt(0);if((R.prevToken=="}"||R.prevToken==")")&&V=="")return R.indented;if(R.prevToken=="operator"&&V!="}"&&R.context.type!="}"||R.prevToken=="variable"&&he=="."||(R.prevToken=="}"||R.prevToken==")")&&he==".")return oe*2+B.indented;if(B.align&&B.type=="}")return B.indented+(R.context.type==(V||"").charAt(0)?0:oe)}},modeProps:{closeBrackets:{triples:'"'}}}),ue(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:c("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:c("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:c("for while do if else struct"),builtin:c("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:c("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":N},modeProps:{fold:["brace","include"]}}),ue("text/x-nesc",{name:"clike",keywords:c(g+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:P,blockKeywords:c(S),atoms:c("null true false"),hooks:{"#":N},modeProps:{fold:["brace","include"]}}),ue("text/x-objectivec",{name:"clike",keywords:c(g+" "+y),types:C,builtin:c(x),blockKeywords:c(S+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:c(M+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:c("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:W,hooks:{"#":N,"*":D},modeProps:{fold:["brace","include"]}}),ue("text/x-objectivec++",{name:"clike",keywords:c(g+" "+y+" "+v),types:C,builtin:c(x),blockKeywords:c(S+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:c(M+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:c("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:W,hooks:{"#":N,"*":D,u:H,U:H,L:H,R:H,0:z,1:z,2:z,3:z,4:z,5:z,6:z,7:z,8:z,9:z,token:function(R,B,V){if(V=="variable"&&R.peek()=="("&&(B.prevToken==";"||B.prevToken==null||B.prevToken=="}")&&J(R.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),ue("text/x-squirrel",{name:"clike",keywords:c("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:P,blockKeywords:c("case catch class else for foreach if switch try while"),defKeywords:c("function local class"),typeFirstDefinitions:!0,atoms:c("true false null"),hooks:{"#":N},modeProps:{fold:["brace","include"]}});var Q=null;function ee(R){return function(B,V){for(var oe=!1,he,De=!1;!B.eol();){if(!oe&&B.match('"')&&(R=="single"||B.match('""'))){De=!0;break}if(!oe&&B.match("``")){Q=ee(R),De=!0;break}he=B.next(),oe=R=="single"&&!oe&&he=="\\"}return De&&(V.tokenize=null),"string"}}ue("text/x-ceylon",{name:"clike",keywords:c("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(R){var B=R.charAt(0);return B===B.toUpperCase()&&B!==B.toLowerCase()},blockKeywords:c("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:c("class dynamic function interface module object package value"),builtin:c("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:c("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(R){return R.eatWhile(/[\w\$_]/),"meta"},'"':function(R,B){return B.tokenize=ee(R.match('""')?"triple":"single"),B.tokenize(R,B)},"`":function(R,B){return!Q||!R.match("`")?!1:(B.tokenize=Q,Q=null,B.tokenize(R,B))},"'":function(R){return R.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(R,B,V){if((V=="variable"||V=="type")&&B.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})})();var uE={exports:{}},cE;function pZ(){return cE||(cE=1,function(t,e){(function(r){r(Ao())})(function(r){r.defineSimpleMode=function(y,x){r.defineMode(y,function(T){return r.simpleMode(T,x)})},r.simpleMode=function(y,x){n(x,"start");var T={},A=x.meta||{},P=!1;for(var C in x)if(C!=A&&x.hasOwnProperty(C))for(var S=T[C]=[],M=x[C],N=0;N<M.length;N++){var D=M[N];S.push(new l(D,x)),(D.indent||D.dedent)&&(P=!0)}var W={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:P?[]:null}},copyState:function(H){var J={state:H.state,pending:H.pending,local:H.local,localState:null,indent:H.indent&&H.indent.slice(0)};H.localState&&(J.localState=r.copyState(H.local.mode,H.localState)),H.stack&&(J.stack=H.stack.slice(0));for(var ie=H.persistentStates;ie;ie=ie.next)J.persistentStates={mode:ie.mode,spec:ie.spec,state:ie.state==H.localState?J.localState:r.copyState(ie.mode,ie.state),next:J.persistentStates};return J},token:u(T,y),innerMode:function(H){return H.local&&{mode:H.local.mode,state:H.localState}},indent:v(T,A)};if(A)for(var z in A)A.hasOwnProperty(z)&&(W[z]=A[z]);return W};function n(y,x){if(!y.hasOwnProperty(x))throw new Error("Undefined state "+x+" in simple mode")}function i(y,x){if(!y)return/(?:)/;var T="";return y instanceof RegExp?(y.ignoreCase&&(T="i"),y.unicode&&(T+="u"),y=y.source):y=String(y),new RegExp((x===!1?"":"^")+"(?:"+y+")",T)}function o(y){if(!y)return null;if(y.apply)return y;if(typeof y=="string")return y.replace(/\./g," ");for(var x=[],T=0;T<y.length;T++)x.push(y[T]&&y[T].replace(/\./g," "));return x}function l(y,x){(y.next||y.push)&&n(x,y.next||y.push),this.regex=i(y.regex),this.token=o(y.token),this.data=y}function u(y,x){return function(T,A){if(A.pending){var P=A.pending.shift();return A.pending.length==0&&(A.pending=null),T.pos+=P.text.length,P.token}if(A.local)if(A.local.end&&T.match(A.local.end)){var C=A.local.endToken||null;return A.local=A.localState=null,C}else{var C=A.local.mode.token(T,A.localState),S;return A.local.endScan&&(S=A.local.endScan.exec(T.current()))&&(T.pos=T.start+S.index),C}for(var M=y[A.state],N=0;N<M.length;N++){var D=M[N],W=(!D.data.sol||T.sol())&&T.match(D.regex);if(W){D.data.next?A.state=D.data.next:D.data.push?((A.stack||(A.stack=[])).push(A.state),A.state=D.data.push):D.data.pop&&A.stack&&A.stack.length&&(A.state=A.stack.pop()),D.data.mode&&p(x,A,D.data.mode,D.token),D.data.indent&&A.indent.push(T.indentation()+x.indentUnit),D.data.dedent&&A.indent.pop();var z=D.token;if(z&&z.apply&&(z=z(W)),W.length>2&&D.token&&typeof D.token!="string"){for(var H=2;H<W.length;H++)W[H]&&(A.pending||(A.pending=[])).push({text:W[H],token:D.token[H-1]});return T.backUp(W[0].length-(W[1]?W[1].length:0)),z[0]}else return z&&z.join?z[0]:z}}return T.next(),null}}function c(y,x){if(y===x)return!0;if(!y||typeof y!="object"||!x||typeof x!="object")return!1;var T=0;for(var A in y)if(y.hasOwnProperty(A)){if(!x.hasOwnProperty(A)||!c(y[A],x[A]))return!1;T++}for(var A in x)x.hasOwnProperty(A)&&T--;return T==0}function p(y,x,T,A){var P;if(T.persistent)for(var C=x.persistentStates;C&&!P;C=C.next)(T.spec?c(T.spec,C.spec):T.mode==C.mode)&&(P=C);var S=P?P.mode:T.mode||r.getMode(y,T.spec),M=P?P.state:r.startState(S);T.persistent&&!P&&(x.persistentStates={mode:S,spec:T.spec,state:M,next:x.persistentStates}),x.localState=M,x.local={mode:S,end:T.end&&i(T.end),endScan:T.end&&T.forceEnd!==!1&&i(T.end,!1),endToken:A&&A.join?A[A.length-1]:A}}function g(y,x){for(var T=0;T<x.length;T++)if(x[T]===y)return!0}function v(y,x){return function(T,A,P){if(T.local&&T.local.mode.indent)return T.local.mode.indent(T.localState,A,P);if(T.indent==null||T.local||x.dontIndentStates&&g(T.state,x.dontIndentStates)>-1)return r.Pass;var C=T.indent.length-1,S=y[T.state];e:for(;;){for(var M=0;M<S.length;M++){var N=S[M];if(N.data.dedent&&N.data.dedentIfLineStart!==!1){var D=N.regex.exec(A);if(D&&D[0]){C--,(N.next||N.push)&&(S=y[N.next||N.push]),A=A.slice(D[0].length);continue e}}}break}return C<0?0:T.indent[C]}}})}()),uE.exports}(function(t,e){(function(r){r(Ao(),pZ())})(function(r){var n="from",i=new RegExp("^(\\s*)\\b("+n+")\\b","i"),o=["run","cmd","entrypoint","shell"],l=new RegExp("^(\\s*)("+o.join("|")+")(\\s+\\[)","i"),u="expose",c=new RegExp("^(\\s*)("+u+")(\\s+)","i"),p=["arg","from","maintainer","label","env","add","copy","volume","user","workdir","onbuild","stopsignal","healthcheck","shell"],g=[n,u].concat(o).concat(p),v="("+g.join("|")+")",y=new RegExp("^(\\s*)"+v+"(\\s*)(#.*)?$","i"),x=new RegExp("^(\\s*)"+v+"(\\s+)","i");r.defineSimpleMode("dockerfile",{start:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:i,token:[null,"keyword"],sol:!0,next:"from"},{regex:y,token:[null,"keyword",null,"error"],sol:!0},{regex:l,token:[null,"keyword",null],sol:!0,next:"array"},{regex:c,token:[null,"keyword",null],sol:!0,next:"expose"},{regex:x,token:[null,"keyword",null],sol:!0,next:"arguments"},{regex:/./,token:null}],from:[{regex:/\s*$/,token:null,next:"start"},{regex:/(\s*)(#.*)$/,token:[null,"error"],next:"start"},{regex:/(\s*\S+\s+)(as)/i,token:[null,"keyword"],next:"start"},{token:null,next:"start"}],single:[{regex:/(?:[^\\']|\\.)/,token:"string"},{regex:/'/,token:"string",pop:!0}],double:[{regex:/(?:[^\\"]|\\.)/,token:"string"},{regex:/"/,token:"string",pop:!0}],array:[{regex:/\]/,token:null,next:"start"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"}],expose:[{regex:/\d+$/,token:"number",next:"start"},{regex:/[^\d]+$/,token:null,next:"start"},{regex:/\d+/,token:"number"},{regex:/[^\d]+/,token:null},{token:null,next:"start"}],arguments:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:/"(?:[^\\"]|\\.)*"?$/,token:"string",next:"start"},{regex:/"/,token:"string",push:"double"},{regex:/'(?:[^\\']|\\.)*'?$/,token:"string",next:"start"},{regex:/'/,token:"string",push:"single"},{regex:/[^#"']+[\\`]$/,token:null},{regex:/[^#"']+$/,token:null,next:"start"},{regex:/[^#"']+/,token:null},{token:null,next:"start"}],meta:{lineComment:"#"}}),r.defineMIME("text/x-dockerfile","dockerfile")})})();const gZ=({socketRef:t,roomId:e,onCodeChange:r})=>{const n=re.useRef(null),[i,o]=re.useState("monokai"),[l,u]=re.useState(16);return re.useEffect(()=>{async function c(){n.current=hZ.fromTextArea(document.getElementById("realtimeEditor"),{mode:{name:"javascript",json:!0},theme:i,autoCloseTags:!0,autoCloseBrackets:!0,lineNumbers:!0}),n.current.on("change",(p,g)=>{const{origin:v}=g,y=p.getValue();v!=="setValue"&&(t.current.emit(ao.CODE_CHANGE,{roomId:e,code:y,currenttheme:i}),r(y))})}c()},[e,t]),re.useEffect(()=>(t.current&&t.current.on(ao.CODE_CHANGE,({code:c,currenttheme:p})=>{c!=null&&(console.log("Code is receving",c),n.current.setValue(c))}),()=>{t.current.off(ao.CODE_CHANGE)}),[t.current]),re.useEffect(()=>{n.current&&n.current.setOption("theme",i)},[i]),Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"flex gap-3",children:[Y.jsxs("select",{name:"theme",id:"theme",className:"bg-gray-900 px-1 py-1 rounded-md mb-1 border-2 border-gray-600 text-sm",onChange:c=>{o(c.target.value)},value:i,multiple:!1,children:[Y.jsx("option",{value:"okaidia",children:"Okaidia"}),Y.jsx("option",{value:"aura",children:"Aura"}),Y.jsx("option",{value:"dracula",children:"Dracula"}),Y.jsx("option",{value:"darcula",children:"Darcula"}),Y.jsx("option",{value:"githubDark",children:"Github Dark"}),Y.jsx("option",{value:"githubLight",children:"Github Light"}),Y.jsx("option",{value:"monokai",children:"Monokai"}),Y.jsx("option",{value:"sublime",children:"Sublime"}),Y.jsx("option",{value:"vscodeDark",children:"VS Code Dark"}),Y.jsx("option",{value:"vscodeLight",children:"VS Code Light"}),Y.jsx("option",{value:"abbott",children:"Abbott"}),Y.jsx("option",{value:"vibrant-ink",children:"Abbott"})]}),Y.jsxs("div",{className:"border-2 border-gray-600 px-1 gap-2 text-sm rounded-md flex items-center justify-between mb-1",children:[Y.jsx("small",{children:"Font-Size : "}),Y.jsx("button",{disabled:l<=15,className:`${l<=15?"cursor-not-allowed":"hover:bg-gray-400/50"} bg-gray-400 rounded-md px-2 `,onClick:()=>{u(l-1)},children:"-"}),Y.jsx("button",{className:`${l>=22?"cursor-not-allowed":"hover:bg-gray-600/50"} bg-gray-600 rounded-md px-2 `,onClick:()=>{u(l+1)},disabled:l>=22,children:"+"})]})]}),Y.jsx("textarea",{id:"realtimeEditor",className:"w-full  h-screen"})]})},mZ=()=>{var p;const t=re.useRef(null),e=re.useRef(null),r=RF(),n=mu(),i=Lg(),[o,l]=re.useState([]);if(re.useEffect(()=>((async()=>{var y;t.current=await cZ(),t.current.on("connect_error",x=>v(x)),t.current.on("connect_failed",x=>v(x));const v=x=>{console.log("Socket error",x),il.error("Socket Connection failed, try again later"),i("/")};t.current.emit(ao.JOIN,{roomId:r==null?void 0:r.roomId,username:(y=n.state)==null?void 0:y.username}),t.current.on(ao.JOINED,({clients:x,username:T,socketId:A})=>{var P;T!==((P=n.state)==null?void 0:P.username)&&(il.success(`${T} joined the room.`),console.log(`${T} joined`)),l(x),t.current.emit(ao.SYNC_CODE,{code:e.current,socketId:A})}),t.current.on(ao.DISCONNECTED,({socketId:x,username:T})=>{il.success(`${T} left the room.`),l(A=>A.filter(P=>P.socketId!=x))})})(),()=>{t.current.disconnect(),t.current.off(ao.JOINED),t.current.off(ao.DISCONNECTED)}),[r.roomId,(p=n.state)==null?void 0:p.username,i]),!n.state)return Y.jsx(qF,{to:"/"});const u=()=>{console.log("onleavee"),i("/")},c=()=>{let g=r.roomId;try{window.navigator.clipboard.writeText(g),il.success("Copied Successfully")}catch{il.error("Could not copy room ID ")}};return Y.jsxs("div",{className:"main-wrap flex h-screen",children:[Y.jsxs("div",{className:"aside flex items-start flex-col justify-between w-[16%]",children:[Y.jsxs("div",{className:"asideInner w-full",children:[Y.jsxs("div",{className:"logo flex items-end gap-3",children:[Y.jsx("img",{className:"logoImage w-10 h-10 rounded-md",src:"/code_collab.webp",alt:"logo"}),Y.jsxs("span",{className:"size-7 font-extrabold tracking-tighter",children:["CodeCollab",Y.jsx("span",{className:"text-green-400",children:"."}),"io"]})]}),Y.jsx("h3",{className:"pt-3 tracking-tighter",children:"Connected"}),Y.jsx("div",{className:"clientsList pt-2  overflow-auto max-h-[30rem]",children:o.map((g,v)=>Y.jsxs("div",{className:" text-black rounded-md flex flex-col items-center",children:[Y.jsx(DU,{name:g.username,size:"40",round:"10px",color:"blue"}),Y.jsx("small",{className:"text-white",children:g.username})]},v))})]}),Y.jsxs("div",{className:" w-full",children:[Y.jsx("button",{className:"btn copyBtn bg-white w-full text-black text-sm py-2",onClick:c,children:"Copy ROOM ID"}),Y.jsx("button",{className:"btn leaveBtn text-sm w-full py-2",onClick:()=>{u()},children:"Leave"})]})]}),Y.jsx("div",{className:"editorwrap text-white flex-1 p-2 border-l-2 border-gray-600 w-full h-screen overflow-auto",children:Y.jsx(gZ,{socketRef:t,roomId:r.roomId,onCodeChange:g=>{e.current=g}})})]})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NR=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=re.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},c)=>re.createElement("svg",{ref:c,...yZ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:NR("lucide",i),...u},[...l.map(([p,g])=>re.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=(t,e)=>{const r=re.forwardRef(({className:n,...i},o)=>re.createElement(wZ,{ref:o,iconNode:e,className:NR(`lucide-${vZ(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=xZ("MoveUpRight",[["path",{d:"M13 5H19V11",key:"1n1gyv"}],["path",{d:"M19 5L5 19",key:"72u4yj"}]]),bZ=()=>Y.jsx(Y.Fragment,{children:Y.jsx("header",{children:Y.jsx("nav",{className:"fixed overflow-hidden z-20 w-full bg-white/80 dark:bg-gray-950/0 dark:shadow-md rounded-b-lg dark:shadow-gray-950/10  border-x dark:border-[--ui-dark-border-color] backdrop-blur-2xl",children:Y.jsx("div",{className:"px-6 m-auto max-w-6xl 2xl:px-0",children:Y.jsxs("div",{className:"flex flex-wrap items-center justify-between py-2 sm:py-4",children:[Y.jsxs("div",{className:"w-full items-center flex justify-between lg:w-auto gap-3",children:[Y.jsx("a",{href:"/","aria-label":"kshamlogo",children:Y.jsx("img",{src:"/code_collab.webp",alt:"",className:"w-30 h-10"})}),Y.jsx("p",{className:"font-bold text-lg tracking-tighter",children:"CodeCollab.io"})]}),Y.jsx("div",{className:"w-full h-0 lg:w-fit flex-wrap justify-end items-center space-y-8 lg:space-y-0 lg:flex lg:h-fit md:flex-nowrap",children:Y.jsx("div",{className:"mt-6 text-gray-600 dark:text-gray-300 md:-ml-4 lg:pr-4 lg:mt-0",children:Y.jsxs("ul",{className:"space-y-6 tracking-wide text-base lg:text-sm lg:flex lg:space-y-0",children:[Y.jsx("li",{children:Y.jsx(cl,{to:"/",className:"block md:px-4 transition hover:text-primary-600 ",children:Y.jsx("span",{children:"Home"})})}),Y.jsx("li",{children:Y.jsx(cl,{to:"/aboutus",className:"block md:px-4 transition hover:text-primary-600 ",children:Y.jsx("span",{children:"About us"})})}),Y.jsx("li",{children:Y.jsx(cl,{to:"/docs",className:"block md:px-4 transition hover:text-primary-600 ",children:Y.jsx("span",{children:"Docs"})})}),Y.jsx("li",{children:Y.jsx(cl,{to:"/contact",className:"block md:px-4 transition hover:text-primary-600 ",children:Y.jsx("span",{children:"Contact us"})})})]})})})]})})})})}),SZ=()=>Y.jsx(Y.Fragment,{children:Y.jsxs("section",{className:"relative bg-white",children:[Y.jsx("div",{className:"fixed top-0 right-0 bg-gray-200 pl-7 pr-4 pb-10  pt-3 clip-custom-polygon z-50 ",children:Y.jsx("div",{className:"transform rotate-45 pb-2 font-bold",children:Y.jsx(cl,{to:"https://github.com/BroLetsCodeIt/CodeCollab.io",target:"_blank",className:"transform rotate-45 pb-2 font-bold",children:Y.jsx("img",{src:"./githublogo.png",alt:"logo",className:"w-10"})})})}),Y.jsx(bZ,{}),Y.jsx("div",{className:"relative pt-[10rem] sm:pt-24 lg:pt-[10rem]",children:Y.jsxs("div",{className:"mx-auto px-6 max-w-7xl md:px-12",children:[Y.jsxs("div",{className:"text-center sm:mx-auto sm:w-10/12 lg:mr-auto lg:mt-0 lg:w-4/5",children:[Y.jsxs("h1",{className:"mt-8 text-wrap text-4xl md:text-5xl font-bold text-gray-950  xl:text-7xl xl:[line-height:1.125] tracking-tighter",children:["CodeCollab.io ",Y.jsx("br",{className:"hidden sm:block "})]}),Y.jsxs("div",{className:"text-wrap mx-auto mt-8 max-w-2xl text-lg text-gray-700  flex items-center justify-center gap-3 flex-wrap",children:[Y.jsxs("span",{className:"border border-gray-200   rounded-full px-2 flex items-center",children:[Y.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",className:"text-blue-500 mr-2",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Y.jsx("path",{d:"M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"})}),Y.jsx("p",{className:"font-semibold",children:"Collab"})]}),Y.jsxs("span",{className:"border border-gray-200   rounded-full px-2 flex items-center",children:[Y.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",className:"text-blue-500 mr-2",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Y.jsx("path",{d:"M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"})}),Y.jsx("p",{className:"font-semibold",children:"Debugging"})]}),Y.jsxs("span",{className:"border border-gray-200   rounded-full px-2 flex items-center",children:[Y.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",className:"text-blue-500 mr-2",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Y.jsx("path",{d:"M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"})}),Y.jsx("p",{className:"font-semibold",children:"Pair Programming"})]})]}),Y.jsx("p",{className:"text-wrap mx-auto mt-6 max-w-2xl text-gray-700 ",children:"CodeCollab.io is a seamless online platform designed to bring developers together. Whether you're working on a collaborative project, pair programming, or teaching, CodeCollab.io makes it easy for you to create a coding room or join one in real-time. With built-in support for multiple themes, CodeCollab.io enhances your collaborative coding experience."}),Y.jsxs("div",{className:"mt-8 flex flex-row items-center justify-center gap-4",children:[Y.jsx("div",{className:"p-1 rounded-md bg-gray-950/5 border ",children:Y.jsxs(cl,{to:"/home",className:"bg-green-400 px-2 py-1 rounded-sm text-white text-xl font-bold tracking-tighter flex items-center justify-between gap-2 ",children:["Create Room",Y.jsx(fE,{})]})}),Y.jsx("div",{className:"p-1 rounded-md bg-gray-950/5 border ",children:Y.jsxs(cl,{to:"/home",className:"bg-green-400 px-2 py-1 rounded-sm text-white text-xl font-bold tracking-tighter flex items-center justify-between gap-2 ",children:["Join Room",Y.jsx(fE,{})]})})]})]}),Y.jsxs("div",{className:"-mx-6 relative mt-8 sm:mt-12 sm:mx-auto ",children:[Y.jsx("h1",{className:"flex items-center justify-center sm:text-4xl text-2xl font-bold py-10 tracking-tighter",children:"How CodeCollab.io Work 🤔"}),Y.jsx("div",{className:"absolute inset-0 -top-8 left-1/2 -z-20 h-56 w-full -translate-x-1/2 dark:opacity-10 [background-image:linear-gradient(to_bottom,transparent_98%,theme(colors.gray.200/75%)_98%),linear-gradient(to_right,transparent_94%,_theme(colors.gray.200/75%)_94%)] [background-size:16px_35px] [mask:radial-gradient(black,transparent_95%)] "}),Y.jsx("div",{className:"absolute top-12 inset-x-0 w-2/3 h-1/3 -z-[1] rounded-full bg-primary-300 dark:bg-white/10 mx-auto blur-3xl"}),Y.jsxs("div",{className:"swiper proofSlides pb-6  w-full",children:[Y.jsxs("div",{className:"swiper-wrapper ",children:[Y.jsx("div",{className:"px-6 pt-2 pb-12 swiper-slide w-full ",children:Y.jsxs("div",{className:"bg-white shadow-xl shadow-gray-950/5 p-[--card-padding] rounded-[--card-border-radius] border-[--ui-light-border-color] dark:border-[--ui-dark-border-color] dark:bg-[--card-dark-bg] relative border-[length:var(--border-width)] [--anchor:100] [--border-radius:calc(var(--radius)*1px)] [--border-width:calc(var(--border)*1px)] [--border:1] [--glow:60] [--hue:179] [--lightness:55%] dark:[--lightness:14%] [--opacity:1] [--radius:24] [--saturation:78%] dark:[--saturation:97%] [--speed:2] w-full",children:[Y.jsxs("video",{width:"320",height:"240",controls:!0,preload:"none",autoPlay:!0,loop:!0,muted:!0,className:"w-full",children:[Y.jsx("source",{src:"/vide.mp4",type:"video/mp4"}),Y.jsx("track",{src:"/path/to/captions.vtt",kind:"subtitles",srcLang:"en",label:"English"}),"Your browser does not support the video tag."]}),Y.jsx("span",{className:"glow absolute inset-[calc(var(--border-width)*-1)] rounded-[--card-border-radius] border-[length:var(--border-width)] border-transparent ![mask-clip:padding-box,_border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]",children:Y.jsx("span",{className:"absolute inline-block aspect-square h-20 bg-[radial-gradient(circle_at_right,hsl(0_0%_100%/0),transparent_50%),radial-gradient(circle_at_right,hsl(var(--hue)_var(--saturation)_var(--lightness,50%)/1)_50%,transparent)] dark:bg-[radial-gradient(circle_at_right,hsl(0_0%_100%/0.75),transparent_50%),radial-gradient(circle_at_right,hsl(var(--hue)_var(--saturation)_var(--lightness,50%)/1)_50%,transparent)] opacity-[var(--opacity)] [animation:loop_5s_infinite_linear] [offset-anchor:calc(var(--anchor)*1%)_50%] [offset-path:rect(0_100%_100%_0_round_calc(var(--glow)*1px))]"})})]})}),Y.jsx("div",{className:"px-6 pt-2 pb-12 swiper-slide"}),Y.jsx("div",{className:"px-6 pt-2 pb-12 swiper-slide"})]}),Y.jsx("div",{className:"swiper-pagination -mb-3 *:!rounded-lg *:!w-14 *:!h-0.5"})]})]})]})})]})}),kZ=()=>Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{children:Y.jsx(e8,{position:"top-right"})}),Y.jsx(r4,{children:Y.jsxs(YF,{children:[Y.jsx(Hd,{path:"/",element:Y.jsx(SZ,{})}),Y.jsx(Hd,{path:"/home",element:Y.jsx(t8,{})}),Y.jsx(Hd,{path:"/editor/:roomId",element:Y.jsx(mZ,{})})]})})]});Y0.createRoot(document.getElementById("root")).render(Y.jsx(kZ,{}));
